<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta name="description"/><meta name="keywords"/><title></title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina - undefined"/><meta property="og:description"/><meta property="og:description"/><meta property="twitter:description"/><meta property="twitter:text:description"/><link rel="stylesheet" href="/spec/ballerina-language-specification.css"/><script type="text/javascript" src="https://www.google-analytics.com/analytics.js"></script><script src="https://www.googletagmanager.com/gtm.js?id=GTM-PSL2TX4"></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-92163714-2"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><meta name="next-head-count" content="16"/><meta name="robots" content="noindex"/><meta name="googlebot" content="noindex"/><meta name="author" content="WSO2, Inc."/><meta property="og:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="og:title" content="Ballerina"/><meta property="og:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="twitter:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/1d874b0ee1fd9fd9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/1d874b0ee1fd9fd9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-3913d1db215f64cf.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-4133c234ea39b55d.js" defer=""></script><script src="/_next/static/chunks/pages/_app-2bc609c5d81b076c.js" defer=""></script><script src="/_next/static/chunks/pages/spec/lang/%5B...slug%5D-d78dc1d9801e1147.js" defer=""></script><script src="/_next/static/T9Bp5QFh1vpDlxPCS1Q_e/_buildManifest.js" defer=""></script><script src="/_next/static/T9Bp5QFh1vpDlxPCS1Q_e/_ssgManifest.js" defer=""></script><script src="/_next/static/T9Bp5QFh1vpDlxPCS1Q_e/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap">@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrIzQ.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjARc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu52xM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ABc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBhc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgWxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz0dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzQdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzwdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzMdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz8dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz4dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzAdL-vwnYg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="main-wrapper spec vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContentSpec col-12"><div><html lang="en">
<head>
  <title>Ballerina 1.0 Experimental Features</title>
  <meta charset="utf-8">
  <link rel="shortcut icon" href="/img/favicon.ico">
  <style type="text/css">
    body { font-family: sans-serif; line-height: 1.38;  }
    pre.grammar code, code.grammar { background-color: #D0D0D0; }
    pre, code { font-family: Consolas, monospace; }
    table { border: solid thin; border-collapse: collapse; }
    td, th { border: solid thin; padding: 0.5em; }
    p.status { font-size: large; font-weight: bold; }
  </style>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&amp;display=swap">
<link rel="stylesheet" href="style/ballerina-language-specification.css">
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script><script src="style/ballerina-language-specification.js"></script>
</head>
<body>
<h1>Ballerina 1.0 Experimental Features</h1>
<p>
Primary contributors:
</p>
<ul>
<li>Sanjiva Weerawarana, <a href="mailto:sanjiva@weerawarana.org">sanjiva@weerawarana.org</a>
</li>
<li>Sameera Jayasoma, <a href="mailto:sameera@wso2.com">sameera@wso2.com</a>
</li>
<li>Hasitha Aravinda, <a href="mailto:hasitha@wso2.com">hasitha@wso2.com</a>
</li>
</ul>
<p>
Copyright © 2018, 2019 <a href="https://wso2.com/">WSO2</a>
</p>
<p>
Licensed under the <a href="https://creativecommons.org/licenses/by-nd/4.0/">Creative Commons
Attribution-NoDerivatives 4.0 International</a> license
</p>

<section class="toc"><h2>Table of contents</h2>
<ul>
<li>1. <a href="#introduction">Introduction</a>
</li>
<li>2. <a href="#value_types">Values, types and variables</a><ul><li>2.1 <a href="#section_2.1">Behavioral values</a><ul><li>2.1.1 <a href="#section_2.1.1">Streams</a>
</li></ul>
</li></ul>
</li>
<li>3. <a href="#expressions">Expressions</a><ul><li>3.1 <a href="#section_3.1">Table query expressions</a>
</li></ul>
</li>
<li>4. <a href="#actions_statements">Actions and statements</a><ul>
<li>4.1 <a href="#section_4.1">Lock statement</a>
</li>
<li>4.2 <a href="#section_4.2">Forever statement</a>
</li>
<li>4.3 <a href="#transactions">Transaction statement</a><ul>
<li>4.3.1 <a href="#section_4.3.1">Initiated transactions</a>
</li>
<li>4.3.2 <a href="#section_4.3.2">Participated transactions</a>
</li>
<li>4.3.3 <a href="#section_4.3.3">Transaction propagation</a>
</li>
</ul>
</li>
</ul>
</li>
<li>5. <a href="#lang_library">Lang library</a>
</li>
</ul></section>

<section>
<h2 id="introduction">1. Introduction</h2>
<p>This document describes features implemented experimentally in
Ballerina 1.0.</p>

</section>

<section>
<h2 id="value_types">2. Values, types and variables</h2>

<section>
<h3 id="section_2.1">2.1 Behavioral values</h3>

<pre class="grammar">behavioral-type-descriptor :=
   <em>...</em>
   | stream-type-descriptor
</pre>

<section>
<h4 id="section_2.1.1">2.1.1 Streams</h4>

<pre class="grammar">stream-type-descriptor := <code>stream</code> [type-parameter]
</pre>
<p>
A value of type <code>stream&lt;T&gt;</code> is a distributor for values of type
<code>T</code>: when a value v of type T is put into the stream, a function will
be called for each subscriber to the stream with v as an argument. T must be a
pure type.
</p>
<p>
A value belongs to a type <code>stream</code> (without the type-parameter)
if it has basic type stream.
</p>
<p>
A new stream can be constructed using a <code>new</code> expression.
</p>

</section>
</section>
</section>

<section>
<h2 id="expressions">3. Expressions</h2>

<pre class="grammar">expression := 
   <em>...</em>
   | table-query-expr
</pre>

<section>
<h3 id="section_3.1">3.1 Table query expressions</h3>

<pre class="grammar">table-query-expr := 
   <code>from</code> query-source [query-join-type query-join-source] 
      [query-select] [query-group-by] [query-order-by]
      [query-having] [query-limit]
query-source := identifier [<code>as</code> identifier] [query-where]
query-where := <code>where</code> expression
query-join-type := [([<code>left</code> | <code>right</code> | <code>full</code>] <code>outer</code>)| <code>inner</code>] <code>join</code>
query-join-source := query-source <code>on</code> expression
query-select := <code>select</code> (<code>*</code> | query-select-list)
query-select-list := 
   expression [<code>as</code> identifier] (<code>,</code> expression [<code>as</code> identifier])*
query-group-by := <code>group</code> <code>by</code> identifier (<code>,</code> identifier)*
query-order-by :=
   <code>order</code> <code>by</code> identifier [(<code>ascending</code> | <code>descending</code>)]
      (<code>,</code> identifier [(<code>ascending</code> | <code>descending</code>)])*
query-having := <code>having</code> expression
query-limit := <code>limit</code> int-literal
</pre>
<p>
Query expressions bring language integrated SQL-like querying to Ballerina
tables.
</p>
</section>
</section>

<section>
<h2 id="actions_statements">4. Actions and statements</h2>

<pre class="grammar">statement := 
   <em>...</em>
   | lock-stmt
   | forever-stmt
   | transaction-stmt
   | transaction-control-stmt
</pre>

<section>
<h3 id="section_4.1">4.1 Lock statement</h3>

<pre class="grammar">lock-stmt := <code>lock</code> block-stmt
</pre>
<p>
A lock statement is used to execute a series of assignment statements in a
serialized manner. For each variable that is used as an L-value within the block
statement, this statement attempts to first acquire a lock and the entire
statement executes only after acquiring all the locks. If a lock acquisition
fails after some have already been acquired then all acquired locks are released
and the process starts again.
</p>
</section>
<section>
<h3 id="section_4.2">4.2 Forever statement</h3>

<pre class="grammar">forever-stmt :=
   <code>forever</code> <code>{</code> 
      streaming-query-pattern+
   <code>}</code>
streaming-query-pattern :=
   streaming-query-expr <code>=&gt;</code> <code>(</code> array-type-descriptor identifier <code>)</code>
      block-stmt
streaming-query-expr :=
   <code>from</code> (sq-source [query-join-type sq-join-source]) | sq-pattern
      [query-select] [query-group-by] [query-order-by]
      [query-having] [query-limit] 
      [sq-output-rate-limiting]
sq-source := 
   identifier [query-where] [sq-window [query-where]] 
      [<code>as</code> identifier]*
sq-window := <code>window</code> function-call-expr
sq-join-source := sq-source <code>on</code> expression
sq-output-rate-limiting := 
   sq-time-or-event-output | sq-snapshot-output
sq-time-or-event-output := 
   (<code>all</code> | <code>last</code> | <code>first</code>) <code>every</code> int-literal (time-scale | <code>events</code>)
sq-snapshot-output :=
   <code>snapshot</code> <code>every</code> int-literal time-scale
time-scale := <code>seconds</code> | <code>minutes</code> | <code>hours</code> | <code>days</code> | <code>months</code> | <code>years</code>
sq-pattern := [<code>every</code>] sp-input [sp-within-clause]
sp-within-clause := <code>within</code> expression
sp-input :=
   sp-edge-input ((<code>followed</code> <code>by</code>) | <code>,</code>) sp-input
   | <code>not</code> sp-edge-input (<code>and</code> sp-edge-input) | (<code>for</code> int-literal time-scale)
   | [sp-edge-input ( <code>and</code> | <code>or</code> ) ] sp-edge-input
   | <code>(</code> sp-input <code>)</code>
sp-edge-input :=
   identifier [query-where] [sp-int-range-expr] [<code>as</code> identifier]
sp-int-range-expr :=
   <code>[</code> expression <code>..</code> [expression] <code>]</code>
</pre>
<p>
The forever statement is used to execute a set of streaming queries against some
number of streams concurrently and to execute a block of code when a pattern
matches. The statement will never complete and therefore the worker containing
it will never complete.
</p>
</section>
<section>
<h3 id="transactions">4.3 Transaction statement</h3>

<pre class="grammar">transaction-stmt := <code>transaction</code> trans-conf? block-stmt trans-retry?
transaction-control-stmt := retry-stmt | abort-stmt
trans-conf := trans-conf-item (<code>,</code> trans-conf-item)*
trans-conf-item := trans-retries | trans-oncommit | trans-onabort
trans-retries := <code>retries</code> <code>=</code> expression
trans-oncommit := <code>oncommit</code> <code>=</code> identifier
trans-onabort := <code>onabort</code> <code>=</code> identifier
trans-retry := <code>onretry</code> block-stmt
retry-stmt := <code>retry</code> <code>;</code>
abort-stmt := <code>abort</code> <code>;</code>
</pre>
<p>
A transaction statement is used to execute a block of code within a 2PC
transaction. A transaction can be established by this statement or it may
inherit one from the current worker.
</p>
<section>
<h4 id="section_4.3.1">4.3.1 Initiated transactions</h4>
<p>
If no transaction context is present in the worker then the transaction
statement starts a new transaction (i.e., becomes the initiator) and executes
the statements within the transaction statement.
</p>
<p>
Upon completion of the block the transaction is immediately tried to be
committed. If the commit succeeds, then if there's an on-commit handler
registered that function gets invoked to signal that the commit succeeded. If
the commit fails, and if the transaction has not been retried more times than
the value of the retries configuration, then the on-retry block is executed and
the transaction block statement will execute again in its entirety. If there are
no more retries available then the commit is aborted the on-abort function is
called.
</p>
<p>
The transaction can also be explicitly aborted using an abort statement, which
will call the on-abort function and give up the transaction (without retrying).
</p>
<p>
If a retry statement is executed if the transaction has not been retried more
times than the value of the retries configuration, then the on-retry block is
executed and the transaction block statement will execute again in its entirety.
</p>
</section>
<section>
<h4 id="section_4.3.2">4.3.2 Participated transactions</h4>
<p>
If a transaction context is present in the executing worker context, then the
transaction statement joins that transaction and becomes a participant of that
existing transaction. In this case, retries will not occur as the transaction is
under the control of the initiator. Further, if the transaction is locally
aborted (by using the abort statement), the transaction gets marked for abort
and the participant will fail the transaction when it is asked to prepare for
commit by the coordinator of the initiator. When the initiating coordinator
decides to abort the transaction it will notify all the participants globally
and their on-abort functions will be invoked. If the initiating coordinator
decides to retry the transaction then a new transaction is created and the
process starts with the entire containing executable entity (i.e. resource or
function) being re-invoked with the new transaction context.
</p>
<p>
When the transaction statement reaches the end of the block the transaction is
marked as ready to commit. The actual commit will happen when the coordinator
sends a commit message to the participant and after the commit occurs the
on-commit function will be invoked. Thus, reaching the end of the transaction
statement and going past does not have the semantic of the transaction being
committed nor of it being aborted. Thus, if statements that follow the
transaction statement they are unaware whether the transaction has committed or
aborted.
</p>
<p>
When in a participating transaction, a retry statement is a no-op.
</p>
</section>
<section>
<h4 id="section_4.3.3">4.3.3 Transaction propagation</h4>
<p>
The transaction context in a worker is always visible to invoked functions. Thus
any function invoked within a transaction, which has a transaction statement
within it, will behave according to the "participated transactions" semantics
above.
</p>
<p>
The transaction context is also propagated over the network via the Ballerina
Microtransaction Protocol [XXX].
</p>
</section>
</section>
</section>

<section>
<h2 id="lang_library">5. Lang library</h2>

<p>The stream basic type has a lang library module <code><a href="/spec/lang/2019R3/lib/stream.bal" type="text/plain">lang.stream</a></code>.</p>

</section>

</body>
</html>
</div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"permalink":"/spec/lang/2019R3/experimental/","redirect_from":["/spec/lang/v2019R3/experimental.html","/spec/lang/2019R3/experimental.html"]},"content":"\u003chtml lang=\"en\"\u003e\n\u003chead\u003e\n  \u003ctitle\u003eBallerina 1.0 Experimental Features\u003c/title\u003e\n  \u003cmeta charset=\"utf-8\"\u003e\n  \u003clink rel=\"shortcut icon\" href=\"/img/favicon.ico\"\u003e\n  \u003cstyle type=\"text/css\"\u003e\n    body { font-family: sans-serif; line-height: 1.38;  }\n    pre.grammar code, code.grammar { background-color: #D0D0D0; }\n    pre, code { font-family: Consolas, monospace; }\n    table { border: solid thin; border-collapse: collapse; }\n    td, th { border: solid thin; padding: 0.5em; }\n    p.status { font-size: large; font-weight: bold; }\n  \u003c/style\u003e\n\u003clink rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i\u0026amp;display=swap\"\u003e\n\u003clink rel=\"stylesheet\" href=\"style/ballerina-language-specification.css\"\u003e\n\u003cscript src=\"https://code.jquery.com/jquery-2.2.4.min.js\"\u003e\u003c/script\u003e\u003cscript src=\"style/ballerina-language-specification.js\"\u003e\u003c/script\u003e\n\u003c/head\u003e\n\u003cbody\u003e\n\u003ch1\u003eBallerina 1.0 Experimental Features\u003c/h1\u003e\n\u003cp\u003e\nPrimary contributors:\n\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSanjiva Weerawarana, \u003ca href=\"mailto:sanjiva@weerawarana.org\"\u003esanjiva@weerawarana.org\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003eSameera Jayasoma, \u003ca href=\"mailto:sameera@wso2.com\"\u003esameera@wso2.com\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003eHasitha Aravinda, \u003ca href=\"mailto:hasitha@wso2.com\"\u003ehasitha@wso2.com\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\nCopyright © 2018, 2019 \u003ca href=\"https://wso2.com/\"\u003eWSO2\u003c/a\u003e\n\u003c/p\u003e\n\u003cp\u003e\nLicensed under the \u003ca href=\"https://creativecommons.org/licenses/by-nd/4.0/\"\u003eCreative Commons\nAttribution-NoDerivatives 4.0 International\u003c/a\u003e license\n\u003c/p\u003e\n\n\u003csection class=\"toc\"\u003e\u003ch2\u003eTable of contents\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e1. \u003ca href=\"#introduction\"\u003eIntroduction\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e2. \u003ca href=\"#value_types\"\u003eValues, types and variables\u003c/a\u003e\u003cul\u003e\u003cli\u003e2.1 \u003ca href=\"#section_2.1\"\u003eBehavioral values\u003c/a\u003e\u003cul\u003e\u003cli\u003e2.1.1 \u003ca href=\"#section_2.1.1\"\u003eStreams\u003c/a\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e3. \u003ca href=\"#expressions\"\u003eExpressions\u003c/a\u003e\u003cul\u003e\u003cli\u003e3.1 \u003ca href=\"#section_3.1\"\u003eTable query expressions\u003c/a\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e4. \u003ca href=\"#actions_statements\"\u003eActions and statements\u003c/a\u003e\u003cul\u003e\n\u003cli\u003e4.1 \u003ca href=\"#section_4.1\"\u003eLock statement\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e4.2 \u003ca href=\"#section_4.2\"\u003eForever statement\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e4.3 \u003ca href=\"#transactions\"\u003eTransaction statement\u003c/a\u003e\u003cul\u003e\n\u003cli\u003e4.3.1 \u003ca href=\"#section_4.3.1\"\u003eInitiated transactions\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e4.3.2 \u003ca href=\"#section_4.3.2\"\u003eParticipated transactions\u003c/a\u003e\n\u003c/li\u003e\n\u003cli\u003e4.3.3 \u003ca href=\"#section_4.3.3\"\u003eTransaction propagation\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e5. \u003ca href=\"#lang_library\"\u003eLang library\u003c/a\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\u003c/section\u003e\n\n\u003csection\u003e\n\u003ch2 id=\"introduction\"\u003e1. Introduction\u003c/h2\u003e\n\u003cp\u003eThis document describes features implemented experimentally in\nBallerina 1.0.\u003c/p\u003e\n\n\u003c/section\u003e\n\n\u003csection\u003e\n\u003ch2 id=\"value_types\"\u003e2. Values, types and variables\u003c/h2\u003e\n\n\u003csection\u003e\n\u003ch3 id=\"section_2.1\"\u003e2.1 Behavioral values\u003c/h3\u003e\n\n\u003cpre class=\"grammar\"\u003ebehavioral-type-descriptor :=\n   \u003cem\u003e...\u003c/em\u003e\n   | stream-type-descriptor\n\u003c/pre\u003e\n\n\u003csection\u003e\n\u003ch4 id=\"section_2.1.1\"\u003e2.1.1 Streams\u003c/h4\u003e\n\n\u003cpre class=\"grammar\"\u003estream-type-descriptor := \u003ccode\u003estream\u003c/code\u003e [type-parameter]\n\u003c/pre\u003e\n\u003cp\u003e\nA value of type \u003ccode\u003estream\u0026lt;T\u0026gt;\u003c/code\u003e is a distributor for values of type\n\u003ccode\u003eT\u003c/code\u003e: when a value v of type T is put into the stream, a function will\nbe called for each subscriber to the stream with v as an argument. T must be a\npure type.\n\u003c/p\u003e\n\u003cp\u003e\nA value belongs to a type \u003ccode\u003estream\u003c/code\u003e (without the type-parameter)\nif it has basic type stream.\n\u003c/p\u003e\n\u003cp\u003e\nA new stream can be constructed using a \u003ccode\u003enew\u003c/code\u003e expression.\n\u003c/p\u003e\n\n\u003c/section\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\n\u003csection\u003e\n\u003ch2 id=\"expressions\"\u003e3. Expressions\u003c/h2\u003e\n\n\u003cpre class=\"grammar\"\u003eexpression := \n   \u003cem\u003e...\u003c/em\u003e\n   | table-query-expr\n\u003c/pre\u003e\n\n\u003csection\u003e\n\u003ch3 id=\"section_3.1\"\u003e3.1 Table query expressions\u003c/h3\u003e\n\n\u003cpre class=\"grammar\"\u003etable-query-expr := \n   \u003ccode\u003efrom\u003c/code\u003e query-source [query-join-type query-join-source] \n      [query-select] [query-group-by] [query-order-by]\n      [query-having] [query-limit]\nquery-source := identifier [\u003ccode\u003eas\u003c/code\u003e identifier] [query-where]\nquery-where := \u003ccode\u003ewhere\u003c/code\u003e expression\nquery-join-type := [([\u003ccode\u003eleft\u003c/code\u003e | \u003ccode\u003eright\u003c/code\u003e | \u003ccode\u003efull\u003c/code\u003e] \u003ccode\u003eouter\u003c/code\u003e)| \u003ccode\u003einner\u003c/code\u003e] \u003ccode\u003ejoin\u003c/code\u003e\nquery-join-source := query-source \u003ccode\u003eon\u003c/code\u003e expression\nquery-select := \u003ccode\u003eselect\u003c/code\u003e (\u003ccode\u003e*\u003c/code\u003e | query-select-list)\nquery-select-list := \n   expression [\u003ccode\u003eas\u003c/code\u003e identifier] (\u003ccode\u003e,\u003c/code\u003e expression [\u003ccode\u003eas\u003c/code\u003e identifier])*\nquery-group-by := \u003ccode\u003egroup\u003c/code\u003e \u003ccode\u003eby\u003c/code\u003e identifier (\u003ccode\u003e,\u003c/code\u003e identifier)*\nquery-order-by :=\n   \u003ccode\u003eorder\u003c/code\u003e \u003ccode\u003eby\u003c/code\u003e identifier [(\u003ccode\u003eascending\u003c/code\u003e | \u003ccode\u003edescending\u003c/code\u003e)]\n      (\u003ccode\u003e,\u003c/code\u003e identifier [(\u003ccode\u003eascending\u003c/code\u003e | \u003ccode\u003edescending\u003c/code\u003e)])*\nquery-having := \u003ccode\u003ehaving\u003c/code\u003e expression\nquery-limit := \u003ccode\u003elimit\u003c/code\u003e int-literal\n\u003c/pre\u003e\n\u003cp\u003e\nQuery expressions bring language integrated SQL-like querying to Ballerina\ntables.\n\u003c/p\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\n\u003csection\u003e\n\u003ch2 id=\"actions_statements\"\u003e4. Actions and statements\u003c/h2\u003e\n\n\u003cpre class=\"grammar\"\u003estatement := \n   \u003cem\u003e...\u003c/em\u003e\n   | lock-stmt\n   | forever-stmt\n   | transaction-stmt\n   | transaction-control-stmt\n\u003c/pre\u003e\n\n\u003csection\u003e\n\u003ch3 id=\"section_4.1\"\u003e4.1 Lock statement\u003c/h3\u003e\n\n\u003cpre class=\"grammar\"\u003elock-stmt := \u003ccode\u003elock\u003c/code\u003e block-stmt\n\u003c/pre\u003e\n\u003cp\u003e\nA lock statement is used to execute a series of assignment statements in a\nserialized manner. For each variable that is used as an L-value within the block\nstatement, this statement attempts to first acquire a lock and the entire\nstatement executes only after acquiring all the locks. If a lock acquisition\nfails after some have already been acquired then all acquired locks are released\nand the process starts again.\n\u003c/p\u003e\n\u003c/section\u003e\n\u003csection\u003e\n\u003ch3 id=\"section_4.2\"\u003e4.2 Forever statement\u003c/h3\u003e\n\n\u003cpre class=\"grammar\"\u003eforever-stmt :=\n   \u003ccode\u003eforever\u003c/code\u003e \u003ccode\u003e{\u003c/code\u003e \n      streaming-query-pattern+\n   \u003ccode\u003e}\u003c/code\u003e\nstreaming-query-pattern :=\n   streaming-query-expr \u003ccode\u003e=\u0026gt;\u003c/code\u003e \u003ccode\u003e(\u003c/code\u003e array-type-descriptor identifier \u003ccode\u003e)\u003c/code\u003e\n      block-stmt\nstreaming-query-expr :=\n   \u003ccode\u003efrom\u003c/code\u003e (sq-source [query-join-type sq-join-source]) | sq-pattern\n      [query-select] [query-group-by] [query-order-by]\n      [query-having] [query-limit] \n      [sq-output-rate-limiting]\nsq-source := \n   identifier [query-where] [sq-window [query-where]] \n      [\u003ccode\u003eas\u003c/code\u003e identifier]*\nsq-window := \u003ccode\u003ewindow\u003c/code\u003e function-call-expr\nsq-join-source := sq-source \u003ccode\u003eon\u003c/code\u003e expression\nsq-output-rate-limiting := \n   sq-time-or-event-output | sq-snapshot-output\nsq-time-or-event-output := \n   (\u003ccode\u003eall\u003c/code\u003e | \u003ccode\u003elast\u003c/code\u003e | \u003ccode\u003efirst\u003c/code\u003e) \u003ccode\u003eevery\u003c/code\u003e int-literal (time-scale | \u003ccode\u003eevents\u003c/code\u003e)\nsq-snapshot-output :=\n   \u003ccode\u003esnapshot\u003c/code\u003e \u003ccode\u003eevery\u003c/code\u003e int-literal time-scale\ntime-scale := \u003ccode\u003eseconds\u003c/code\u003e | \u003ccode\u003eminutes\u003c/code\u003e | \u003ccode\u003ehours\u003c/code\u003e | \u003ccode\u003edays\u003c/code\u003e | \u003ccode\u003emonths\u003c/code\u003e | \u003ccode\u003eyears\u003c/code\u003e\nsq-pattern := [\u003ccode\u003eevery\u003c/code\u003e] sp-input [sp-within-clause]\nsp-within-clause := \u003ccode\u003ewithin\u003c/code\u003e expression\nsp-input :=\n   sp-edge-input ((\u003ccode\u003efollowed\u003c/code\u003e \u003ccode\u003eby\u003c/code\u003e) | \u003ccode\u003e,\u003c/code\u003e) sp-input\n   | \u003ccode\u003enot\u003c/code\u003e sp-edge-input (\u003ccode\u003eand\u003c/code\u003e sp-edge-input) | (\u003ccode\u003efor\u003c/code\u003e int-literal time-scale)\n   | [sp-edge-input ( \u003ccode\u003eand\u003c/code\u003e | \u003ccode\u003eor\u003c/code\u003e ) ] sp-edge-input\n   | \u003ccode\u003e(\u003c/code\u003e sp-input \u003ccode\u003e)\u003c/code\u003e\nsp-edge-input :=\n   identifier [query-where] [sp-int-range-expr] [\u003ccode\u003eas\u003c/code\u003e identifier]\nsp-int-range-expr :=\n   \u003ccode\u003e[\u003c/code\u003e expression \u003ccode\u003e..\u003c/code\u003e [expression] \u003ccode\u003e]\u003c/code\u003e\n\u003c/pre\u003e\n\u003cp\u003e\nThe forever statement is used to execute a set of streaming queries against some\nnumber of streams concurrently and to execute a block of code when a pattern\nmatches. The statement will never complete and therefore the worker containing\nit will never complete.\n\u003c/p\u003e\n\u003c/section\u003e\n\u003csection\u003e\n\u003ch3 id=\"transactions\"\u003e4.3 Transaction statement\u003c/h3\u003e\n\n\u003cpre class=\"grammar\"\u003etransaction-stmt := \u003ccode\u003etransaction\u003c/code\u003e trans-conf? block-stmt trans-retry?\ntransaction-control-stmt := retry-stmt | abort-stmt\ntrans-conf := trans-conf-item (\u003ccode\u003e,\u003c/code\u003e trans-conf-item)*\ntrans-conf-item := trans-retries | trans-oncommit | trans-onabort\ntrans-retries := \u003ccode\u003eretries\u003c/code\u003e \u003ccode\u003e=\u003c/code\u003e expression\ntrans-oncommit := \u003ccode\u003eoncommit\u003c/code\u003e \u003ccode\u003e=\u003c/code\u003e identifier\ntrans-onabort := \u003ccode\u003eonabort\u003c/code\u003e \u003ccode\u003e=\u003c/code\u003e identifier\ntrans-retry := \u003ccode\u003eonretry\u003c/code\u003e block-stmt\nretry-stmt := \u003ccode\u003eretry\u003c/code\u003e \u003ccode\u003e;\u003c/code\u003e\nabort-stmt := \u003ccode\u003eabort\u003c/code\u003e \u003ccode\u003e;\u003c/code\u003e\n\u003c/pre\u003e\n\u003cp\u003e\nA transaction statement is used to execute a block of code within a 2PC\ntransaction. A transaction can be established by this statement or it may\ninherit one from the current worker.\n\u003c/p\u003e\n\u003csection\u003e\n\u003ch4 id=\"section_4.3.1\"\u003e4.3.1 Initiated transactions\u003c/h4\u003e\n\u003cp\u003e\nIf no transaction context is present in the worker then the transaction\nstatement starts a new transaction (i.e., becomes the initiator) and executes\nthe statements within the transaction statement.\n\u003c/p\u003e\n\u003cp\u003e\nUpon completion of the block the transaction is immediately tried to be\ncommitted. If the commit succeeds, then if there's an on-commit handler\nregistered that function gets invoked to signal that the commit succeeded. If\nthe commit fails, and if the transaction has not been retried more times than\nthe value of the retries configuration, then the on-retry block is executed and\nthe transaction block statement will execute again in its entirety. If there are\nno more retries available then the commit is aborted the on-abort function is\ncalled.\n\u003c/p\u003e\n\u003cp\u003e\nThe transaction can also be explicitly aborted using an abort statement, which\nwill call the on-abort function and give up the transaction (without retrying).\n\u003c/p\u003e\n\u003cp\u003e\nIf a retry statement is executed if the transaction has not been retried more\ntimes than the value of the retries configuration, then the on-retry block is\nexecuted and the transaction block statement will execute again in its entirety.\n\u003c/p\u003e\n\u003c/section\u003e\n\u003csection\u003e\n\u003ch4 id=\"section_4.3.2\"\u003e4.3.2 Participated transactions\u003c/h4\u003e\n\u003cp\u003e\nIf a transaction context is present in the executing worker context, then the\ntransaction statement joins that transaction and becomes a participant of that\nexisting transaction. In this case, retries will not occur as the transaction is\nunder the control of the initiator. Further, if the transaction is locally\naborted (by using the abort statement), the transaction gets marked for abort\nand the participant will fail the transaction when it is asked to prepare for\ncommit by the coordinator of the initiator. When the initiating coordinator\ndecides to abort the transaction it will notify all the participants globally\nand their on-abort functions will be invoked. If the initiating coordinator\ndecides to retry the transaction then a new transaction is created and the\nprocess starts with the entire containing executable entity (i.e. resource or\nfunction) being re-invoked with the new transaction context.\n\u003c/p\u003e\n\u003cp\u003e\nWhen the transaction statement reaches the end of the block the transaction is\nmarked as ready to commit. The actual commit will happen when the coordinator\nsends a commit message to the participant and after the commit occurs the\non-commit function will be invoked. Thus, reaching the end of the transaction\nstatement and going past does not have the semantic of the transaction being\ncommitted nor of it being aborted. Thus, if statements that follow the\ntransaction statement they are unaware whether the transaction has committed or\naborted.\n\u003c/p\u003e\n\u003cp\u003e\nWhen in a participating transaction, a retry statement is a no-op.\n\u003c/p\u003e\n\u003c/section\u003e\n\u003csection\u003e\n\u003ch4 id=\"section_4.3.3\"\u003e4.3.3 Transaction propagation\u003c/h4\u003e\n\u003cp\u003e\nThe transaction context in a worker is always visible to invoked functions. Thus\nany function invoked within a transaction, which has a transaction statement\nwithin it, will behave according to the \"participated transactions\" semantics\nabove.\n\u003c/p\u003e\n\u003cp\u003e\nThe transaction context is also propagated over the network via the Ballerina\nMicrotransaction Protocol [XXX].\n\u003c/p\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\u003c/section\u003e\n\n\u003csection\u003e\n\u003ch2 id=\"lang_library\"\u003e5. Lang library\u003c/h2\u003e\n\n\u003cp\u003eThe stream basic type has a lang library module \u003ccode\u003e\u003ca href=\"/spec/lang/2019R3/lib/stream.bal\" type=\"text/plain\"\u003elang.stream\u003c/a\u003e\u003c/code\u003e.\u003c/p\u003e\n\n\u003c/section\u003e\n\n\u003c/body\u003e\n\u003c/html\u003e\n"},"__N_SSG":true},"page":"/spec/lang/[...slug]","query":{"slug":["2019R3","experimental"]},"buildId":"T9Bp5QFh1vpDlxPCS1Q_e","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>