<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script type="text/javascript" src="https://www.google-analytics.com/analytics.js"></script><script src="https://www.googletagmanager.com/gtm.js?id=GTM-PSL2TX4"></script><script src="https://www.googletagmanager.com/gtag/js?id=UA-92163714-2"></script><meta name="next-head-count" content="5"/><meta name="robots" content="noindex"/><meta name="googlebot" content="noindex"/><meta name="author" content="WSO2, Inc."/><meta property="og:image" content="/sarani.github.io/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="og:title" content="Ballerina"/><meta property="og:image" content="/sarani.github.io/images/ballerina-swan-lake-sm-banner-general.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="/sarani.github.io/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="twitter:image" content="/sarani.github.io/images/ballerina-swan-lake-sm-banner-general.png"/><link rel="shortcut icon" href="/sarani.github.io/images/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/sarani.github.io/_next/static/css/7841f10ed1920b81.css" as="style"/><link rel="stylesheet" href="/sarani.github.io/_next/static/css/7841f10ed1920b81.css" data-n-g=""/><link rel="preload" href="/sarani.github.io/_next/static/css/30c629d66883cef3.css" as="style"/><link rel="stylesheet" href="/sarani.github.io/_next/static/css/30c629d66883cef3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/sarani.github.io/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/sarani.github.io/_next/static/chunks/webpack-ee067a61ccecdf79.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/main-98a1a717dae31bf2.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/pages/_app-557e3b4efecd738c.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/410-46d08a682048d6c6.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/722-2cbc26cf7056599d.js" defer=""></script><script src="/sarani.github.io/_next/static/chunks/pages/1.2/learn/%5B...slug%5D-ca93244e23df67fc.js" defer=""></script><script src="/sarani.github.io/_next/static/iCpkVXtbpKD77cbfFcIQm/_buildManifest.js" defer=""></script><script src="/sarani.github.io/_next/static/iCpkVXtbpKD77cbfFcIQm/_ssgManifest.js" defer=""></script><script src="/sarani.github.io/_next/static/iCpkVXtbpKD77cbfFcIQm/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap">@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrIzQ.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjARc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu52xM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ABc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBhc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgWxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz0dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzQdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzwdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzMdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz8dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz4dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzAdL-vwnYg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="main-wrapper vstack gap-0"><div class="wrap-page-content container-fluid"><div class="row"><div class="mdContent col-12"><div class="container"><!DOCTYPE html>
<html class="no-js">
   <head>
      <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs." />

<meta name="author" content="WSO2, Inc.">

<meta name="keywords" content="ballerina, programming language, security, secure ballerina code" />

<link rel="shortcut icon" href="/img/favicon.ico">
<title>Writing Secure Ballerina Code</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92163714-2"></script>
<!--FB-->
<meta property="og:type" content="article" />
<meta property="og:title" content="Ballerina - Writing Secure Ballerina Code" />

<meta property="og:description" content="Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs." />

 
<meta property="og:image" itemprop="image" content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png" />


<!-- <meta name="twitter:image:width" content="610"> -->
<!--LINKED IN  -->
<meta property='og:title' content="Ballerina"/>
<meta property='og:image' content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png
"/>
<meta property='og:description' itemprop="image" content="Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs."/>

<!--TWITTER-->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@ballerinalang">
<meta name="twitter:creator" content="@ballerinalang">
<meta name="twitter:title" content="Ballerina"> 
<meta name="twitter:card" content="summary_large_image"> 

<meta property="twitter:description" content="Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs." />

<meta name="twitter:image" content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png
 ">

<meta property="twitter:text:description" content="Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs." />

<meta property='twitter:image' content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png"/>


<script>
   window.dataLayer = window.dataLayer || [];
   function gtag() {
       dataLayer.push(arguments);
   }
   gtag('js', new Date());
   gtag('config', 'UA-92163714-2');
</script>
<!-- Google Tag Manager -->
<script>
   (function(w, d, s, l, i) {
       w[l] = w[l] || [];
       w[l].push({
           'gtm.start': new Date().getTime(),
           event: 'gtm.js'
       });
       var f = d.getElementsByTagName(s)[0],
           j = d.createElement(s),
           dl = l != 'dataLayer' ? '&l=' + l : '';
       j.async = true;
       j.src =
           'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
       f.parentNode.insertBefore(j, f);
   })(window, document, 'script', 'dataLayer', 'GTM-PSL2TX4');
</script>
<!-- End Google Tag Manager -->
<script src="/js/moment-2.22.0/moment.min.js"></script>
<script src="/js/latest-jquery.js"></script>
<script>
   var base_url = "";
</script>
<link rel="stylesheet" href="/css/latest-bootstrap.css">
<!-- Optional theme -->
<link rel="stylesheet" href="/css/latest-bootstrap-theme.css">
<!-- Latest compiled and minified JavaScript -->
<script src="/js/latest-bootstrap.js"></script>
<!-- Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i&display=swap" rel="stylesheet">

<!-- 
<link type="text/css" rel="stylesheet" href="https://use.typekit.net/son4ymv.css"> -->




<!-- <link rel="stylesheet" href="./js/vs/editor/editor.main.css">-->
<!-- <link rel="stylesheet" href="https://use.typekit.net/son4ymv.css" /> -->
<!-- <link rel="stylesheet" href="/css/theme.css" type="text/css" />
<link rel="stylesheet" href="/css/theme_extra.css" type="text/css" /> -->
<!-- <script type="text/javascript" src="/js/highlight.pack.js"></script> -->

<link rel="stylesheet" href="/css/prism.css">

<script src="/js/ballerina-common.js?100"></script>
<script src="/js/handlebars/4.7.6/handlebars.js"></script>
<link rel="stylesheet" href="/css/ballerina-io.css">
<script>
   // Current page data
   var mkdocs_page_name = '"Home"'.replace(/^"|"$/g, '');
   var mkdocs_page_input_path = '"index.md"'.replace(/^"|"$/g, '');
   var mkdocs_page_url = '"/"'.replace(/^"|"$/g, '');
   
   var releaseNoteFilename = 'RELEASE_NOTE.html';

   var nightly_download_url = 'https://product-dist.ballerina.io/nightly';
   var dev_download_url = 'https://product-dist.ballerina.io/dev';
   var base_download_url = 'https://dist.ballerina.io/downloads';
   
   var base_releasenote_url = ''.concat('/downloads/1.2.x-release-notes');
   var base_swanlake_releasenote_url = ''.concat('/downloads/swan-lake-release-notes');
</script>

<link href="/css/prism.css" rel="stylesheet" />

      <link rel="stylesheet" href="/css/ballerina-io-docs.css?200618">
      <link rel="stylesheet" href="/css/ballerina-io-learn-v2.css">
   
      
   
      

      <link href="/css/abixTreeList.css" rel="stylesheet">

   </head>
   <body class="cBallerina-io" id="top">
      <style>
    .cVersionChangeBanner{
    color: #000000;
    background-color: #fcdf4a !important;
    width: 100%;
    display: inline-block;
    padding: 10px 0px;
    text-align: center;
    font-weight: 500;
    font-size: 20px;
    transition : all 0.3s;
    position: fixed;
    top: 0;
    width: 100%;
    height: 50px;
    z-index: 9;
    }
    .cInfoBannerLink{
        color: #000000;
        text-decoration: underline;
    }
    .cInfoBannerLink:hover{
        color: #545454 !important;
        text-decoration: underline !important;
    }
    .cBallerina-io-Gray-row {
       padding-top: 70px !important;
    }
    @media only screen and (max-width: 992px) {
        .cBallerina-io-Gray-row {
       padding-top: 140px !important;
    }

    #noscript-warning{
        position: relative;
    text-align: center;
    padding: 7px 15px;
    background-color: #57595d;
    color: #fff;
    font-weight: 500;
    letter-spacing: 0.5px;
    }
</style>
<noscript>
    <div id="noscript-warning">Ballerina works best with JavaScript enabled.</div>
</noscript>
     <div class="cVersionChangeBanner">
        This documentation is for Ballerina 1.2.0. <a href="https://ballerina.io/learn/" class="cInfoBannerLink">View documentation for the latest release</a>.
    </div>
<div class="row cBallerina-io-Nav" id="iMainNavigation" style="top:50px">

    <div class="container">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <nav class="navbar">
                <div>
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">&#9776</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="cMobileLogo" href="/"><img src="/img/ballerina-logo.svg" alt="Ballerina" /></a>
                    </div>
                    <div id="navbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav cTopNav">
                            <li class="toctree-l1" id="playli"><a class="cBioTopLink" href="/downloads/">Download</a>
                            </li>
                            <li class="toctree-l1" id="playli"><a class="cBioTopLink" href="https://play.ballerina.io/"
                                    target="_blank">Playground</a>
                            </li>
                            <li class="active toctree-l1" id="learnli"><a class="cBioTopLink" href="/learn">Learn</a>
                            </li>
                            <!--<li class="active toctree-l1" id="eventsli"><a class="cBioTopLink" href="/learn/events">Events</a>
                            </li>-->
                            <li class="toctree-l1"><a class="cBioTopLink" href="https://central.ballerina.io/"
                                    target="_blank">Central</a></li>
                            <li class="toctree-l1" id="openli"><a class="cBioTopLink" href="/community">Community</a>
                            </li>
                            <li class="toctree-l1" id="helpli"><a class="cBioTopLink"
                                    href="https://blog.ballerina.io">Blog</a>
                            </li>
                            <li class="cVersionItem">
                                <div class="cVersionContainer">
                                    <!-- <lable class="cVlable">Version</lable> -->
                                    <select name="versions" id="versions" class="select-css">
                                        <option value="swan-lake" data-value="latest">Swan Lake</option>
                                        <option value="1.2">v1.2</option>
                                        <option value="1.1">v1.1</option>
                                        <option value="1.0">v1.0</option>

                                    </select>
                                </div>
                            </li>
                            <li class="cSearchMenu">
                               
                                <!-- at the end of the HEAD -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
/>
<style>
  .algolia-search-cont {
    margin-top: -10px;
  }
  .algolia-search-wrap {
    display: flex;
    align-items: center;
  }
  .algolia-search-cont .search-icon {
    margin-right: 10px;
  }
  .algolia-search-cont .algolia-search-box {
    border: none;
    background-image: none;
    background-color: transparent;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    outline: none;
  }
</style>
<div class="algolia-search-cont">
  <div class="algolia-search-wrap form-control">
    <span
      class="glyphicon glyphicon-search search-icon"
      aria-hidden="true"
    ></span>
    <input
      autocapitalize="off"
      autocomplete="off"
      autocorrect="off"
      placeholder="Search..."
      role="textbox"
      spellcheck="false"
      type="text"
      value=""
      class="algolia-search-box"
      id="algolia-search-box"
    />
  </div>
</div>

<!-- at the end of the BODY -->
<script
  type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"
></script>
<script type="text/javascript">
  docsearch({
    apiKey: "6a63d4bcf6378ddf3f8724185ddcf626",
    indexName: "ballerina",
    inputSelector: "#algolia-search-box",
    debug: false, // Set debug to true if you want to inspect the dropdown
  });
</script>

                                <!-- <form class="cSearch-form-inline"><input id="searchTxt" class="form-control-field"
                                        type="search" placeholder="Search" aria-label="Search"><a id="searchBtn"
                                        href="#" class="cSearchButton"><img src="/img/search.svg" /></a></form> -->
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>

      <div class="row cBallerina-io-Gray-row">
         <div class="container">
            <div class="row">
               <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-Home-Middle-col">
                  



























<!-- Then we build the nav bar. -->
<nav class="cLeftNavContainer">
   <ul class="cMainLeftNav">
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Setting up Ballerina</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/installing-ballerina/">- Installing Ballerina</a></li> -->
            <li><a href="/1.2/learn/installing-ballerina/">Installing Ballerina</a></li>
            
            <!-- <li  ><a href="/1.2/learn/setting-up-visual-studio-code/">- Setting up Visual Studio Code</a></li> -->
            <li><a href="/1.2/learn/setting-up-visual-studio-code/">Setting up Visual Studio Code</a></li>
            
            <!-- <li  ><a href="/1.2/learn/setting-up-intellij-idea/">- Setting up IntelliJ IDEA</a></li> -->
            <li><a href="/1.2/learn/setting-up-intellij-idea/">Setting up IntelliJ IDEA</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Ballerina CLI Tools</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/using-the-cli-tools/">- Using the CLI Tools</a></li> -->
            <li><a href="/1.2/learn/using-the-cli-tools/">Using the CLI Tools</a></li>
            
            <!-- <li  ><a href="/1.2/learn/keeping-ballerina-up-to-date">- Keeping Ballerina Up To Date</a></li> -->
            <li><a href="/1.2/learn/keeping-ballerina-up-to-date">Keeping Ballerina Up To Date</a></li>
            
            <!-- <li  ><a href="/1.2/learn/using-the-openapi-tools/">- Using the OpenAPI Tools</a></li> -->
            <li><a href="/1.2/learn/using-the-openapi-tools/">Using the OpenAPI Tools</a></li>
            
            <!-- <li  ><a href="/1.2/learn/generating-ballerina-code-for-protocol-buffer-definitions">- Generating Ballerina Code for Protocol Buffer Definitions</a></li> -->
            <li><a href="/1.2/learn/generating-ballerina-code-for-protocol-buffer-definitions">Generating Ballerina Code for Protocol Buffer Definitions</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Code Organization</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/structuring-ballerina-code/">- Structuring Ballerina Code</a></li> -->
            <li><a href="/1.2/learn/structuring-ballerina-code/">Structuring Ballerina Code</a></li>
            
            <!-- <li  ><a href="/1.2/learn/documenting-ballerina-code/">- Documenting Ballerina Code</a></li> -->
            <li><a href="/1.2/learn/documenting-ballerina-code/">Documenting Ballerina Code</a></li>
            
            <!-- <li  ><a href="/1.2/learn/coding-conventions/">- Coding Conventions</a></li> -->
            <li><a href="/1.2/learn/coding-conventions/">Coding Conventions</a></li>
            
            <!-- <li  ><a href="/1.2/learn/running-ballerina-code/">- Running Ballerina Code</a></li> -->
            <li><a href="/1.2/learn/running-ballerina-code/">Running Ballerina Code</a></li>
            
            <!-- <li  ><a href="/1.2/learn/publishing-modules-to-ballerina-central">- Publishing Modules to Ballerina Central</a></li> -->
            <li><a href="/1.2/learn/publishing-modules-to-ballerina-central">Publishing Modules to Ballerina Central</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Deployment</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/deployment/docker/">- Docker</a></li> -->
            <li><a href="/1.2/learn/deployment/docker/">Docker</a></li>
            
            <!-- <li  ><a href="/1.2/learn/deployment/kubernetes/">- Kubernetes</a></li> -->
            <li><a href="/1.2/learn/deployment/kubernetes/">Kubernetes</a></li>
            
            <!-- <li  ><a href="/1.2/learn/deployment/aws-lambda/">- AWS Lambda</a></li> -->
            <li><a href="/1.2/learn/deployment/aws-lambda/">AWS Lambda</a></li>
            
            <!-- <li  ><a href="/1.2/learn/deployment/azure-functions/">- Azure Functions</a></li> -->
            <li><a href="/1.2/learn/deployment/azure-functions/">Azure Functions</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Observability</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/observing-ballerina-code">- Observing Ballerina Code</a></li> -->
            <li><a href="/1.2/learn/observing-ballerina-code">Observing Ballerina Code</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Interoperability</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/calling-java-code-from-ballerina/">- Calling Java Code from Ballerina</a></li> -->
            <li><a href="/1.2/learn/calling-java-code-from-ballerina/">Calling Java Code from Ballerina</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Security</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/writing-secure-ballerina-code">- Writing Secure Ballerina Code</a></li> -->
            <li class="current-sub"><a href="/1.2/learn/writing-secure-ballerina-code">Writing Secure Ballerina Code</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Testing Ballerina Code</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/testing-ballerina-code/testing-quick-start">- Quick Start</a></li> -->
            <li><a href="/1.2/learn/testing-ballerina-code/testing-quick-start">Quick Start</a></li>
            
            <!-- <li  ><a href="/1.2/learn/testing-ballerina-code/writing-tests">- Writing Tests</a></li> -->
            <li><a href="/1.2/learn/testing-ballerina-code/writing-tests">Writing Tests</a></li>
            
            <!-- <li  ><a href="/1.2/learn/testing-ballerina-code/mocking">- Mocking</a></li> -->
            <li><a href="/1.2/learn/testing-ballerina-code/mocking">Mocking</a></li>
            
            <!-- <li  ><a href="/1.2/learn/testing-ballerina-code/executing-tests">- Executing Tests</a></li> -->
            <li><a href="/1.2/learn/testing-ballerina-code/executing-tests">Executing Tests</a></li>
            
         </ul>
      </li>
      
      
      
      <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
      <!--  -->
      
      
      
      <li class="sub-menu cTopicURL">
         <div class="cLeftMenuLink cTopiAtag">Extending Ballerina</div>
         <ul class="sub-ul">
            
            <!--  -->
            
            
            
            <!-- <li  ><a href="/1.2/learn/extending-with-compiler-extensions">- Extending with Compiler Extensions</a></li> -->
            <li><a href="/1.2/learn/extending-with-compiler-extensions">Extending with Compiler Extensions</a></li>
            
         </ul>
      </li>
      
      
   </ul>
</nav>

               </div>
               <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 cBallerina-io-Home-Middle-col">
                  <div class="col-xs-12 col-sm-12" style="padding: 0;">
                     <div class="col-md-12 col-lg-12 cBallerina-io-breadcrumbs">
                        <nav class="breadcrumbs bootstrap hidden-sm-down"
  >
  <ul id="breadcrumb-list" class=" cBalleinaBreadcrumbs list-unstyled  wy-breadcrumbs" vocab="http://schema.org/"
    typeof="BreadcrumbList">


    
    <li><a href="/">Home</a></li>
    
    
    <li>/</li>
    <li><a
        href="/1.2/">1.2</a>
    </li>
    
    
    
    <li>/</li>
    <li><a
        href="/1.2/learn/">Learn</a>
    </li>
    
    
    
    <li>/</li> Writing Secure Ballerina Code
    
    

  </ul>
</nav>
<style type="text/css">
  .cBalleinaBreadcrumbs li {
    margin-right: 10px;
  }
</style>
                        <div class="cVersionContainer"></div>
                     </div>
                     <!-- <div class="col-md-12 col-lg-2 cBallerina-io-breadcrumbs cGitLink">
                        
                     </div> -->
                  </div>
                  <div class="cBlallerina-io-docs-content-container cPositionRelative">
                     <div class="wy-nav-content">
                        <div class="rst-content">
                           <div role="main">
                              <div class="section">


                                 <div class="col-xs-11 col-md-11 col-lg-11 cNoPadding">
                                    <h1>Writing Secure Ballerina Code</h1>
                                 </div>
                                 <!-- <div class="col-xs-1 col-md-1 col-lg-1 cNoPadding cGithubContainer">
                                    <a class="icon icon-github" target="_blank" href="https://www.github.com/ballerina-platform/ballerina-dev-website/blob/master/1.2/learn/writing-secure-ballerina-code.md"></a>
                                 </div> -->
                                 <div class="col-xs-12 col-md-12 col-lg-12 cNoPadding">
                                    <p>The sections below include information on the different security features and controls available within Ballerina. Also, they provide guidelines on writing secure Ballerina programs.</p>
                                    <div class="cBallerinaTocContainer" id="table-of-content">
                                       <ul id="tree">
  <li><a href="#secure-by-design">Secure by Design</a>
    <ul>
      <li><a href="#ensuring-security-of-ballerina-standard-libraries">Ensuring Security of Ballerina Standard Libraries</a></li>
      <li><a href="#securely-using-tainted-data-with-security-sensitive-parameters">Securely Using Tainted Data with Security-Sensitive Parameters</a></li>
    </ul>
  </li>
  <li><a href="#securing-passwords-and-secrets">Securing Passwords and Secrets</a></li>
  <li><a href="#authentication-and-authorization">Authentication and Authorization</a>
    <ul>
      <li><a href="#inbound-authentication-and-authorization">Inbound Authentication and Authorization</a>
        <ul>
          <li><a href="#inbound-advanced-use-cases">Inbound Advanced Use Cases</a>
            <ul>
              <li><a href="#using-multiple-auth-handlers">Using Multiple Auth Handlers</a></li>
              <li><a href="#using-multiple-scopes">Using Multiple Scopes</a></li>
              <li><a href="#per-resource-and-per-service-customization">Per-Resource and Per-Service Customization</a></li>
              <li><a href="#implementing-inbound-custom-authentication-mechanism">Implementing Inbound Custom Authentication Mechanism</a></li>
              <li><a href="#disable-https-enforcement">Disable HTTPS Enforcement</a></li>
              <li><a href="#modify-authorization-or-authentication-filter-index">Modify Authorization or Authentication Filter Index</a></li>
            </ul>
          </li>
          <li><a href="#jwt-inbound-authentication-and-authorization">JWT Inbound Authentication and Authorization</a></li>
          <li><a href="#oauth2-inbound-authentication-and-authorization">OAuth2 Inbound Authentication and Authorization</a></li>
          <li><a href="#ldap-inbound-authentication-and-authorization">LDAP Inbound Authentication and Authorization</a></li>
          <li><a href="#basic-auth-inbound-authentication-and-authorization">Basic Auth Inbound Authentication and Authorization</a></li>
        </ul>
      </li>
      <li><a href="#outbound-authentication-and-authorization">Outbound Authentication and Authorization</a>
        <ul>
          <li><a href="#outbound-advanced-use-cases">Outbound Advanced Use Cases</a>
            <ul>
              <li><a href="#implementing-outbound-custom-authentication-mechanism">Implementing Outbound Custom Authentication Mechanism</a></li>
            </ul>
          </li>
          <li><a href="#jwt-outbound-authentication">JWT Outbound Authentication</a></li>
          <li><a href="#oauth2-outbound-authentication">OAuth2 Outbound Authentication</a>
            <ul>
              <li><a href="#client-credentials-grant-type">Client Credentials Grant Type</a></li>
              <li><a href="#password-grant-type">Password Grant Type</a></li>
              <li><a href="#direct-token-mode">Direct Token Mode</a></li>
            </ul>
          </li>
          <li><a href="#basic-auth-outbound-authentication">Basic Auth Outbound Authentication</a></li>
          <li><a href="#token-propagation-for-outbound-authentication">Token Propagation for Outbound Authentication</a>
            <ul>
              <li><a href="#example-one">Example One</a></li>
              <li><a href="#example-two">Example Two</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

                                    </div>
                                    <h2 id="secure-by-design">Secure by Design</h2>

<p>This approach makes it unnecessary for developers to review best practice coding lists that itemize how to avoid security vulnerabilities. The Ballerina compiler ensures that Ballerina programs do not introduce security vulnerabilities.</p>

<p>A taint analysis mechanism is used to achieve this.</p>

<p>Parameters in function calls can be designated as security-sensitive. The compiler will generate an error if you pass untrusted data (tainted data) into a security-sensitive parameter:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tainted value passed to sensitive parameter 'sqlQuery'
</code></pre></div></div>

<p>We require developers to explicitly mark all values passed into security-sensitive parameters as trusted. This explicit check forces developers and code reviewers to verify that the values being passed into the parameter are not vulnerable to a security violation.</p>

<p>Ballerina standard library makes sure untrusted data cannot be used with security-sensitive parameters such as SQL queries, file paths, file name, permission flags, request URLs and configuration keys preventing vulnerabilities including:</p>

<ul>
  <li>SQL Injection</li>
  <li>Path Manipulation</li>
  <li>File Manipulation</li>
  <li>Unauthorized File Access</li>
  <li>Unvalidated Redirect (Open Redirect)</li>
</ul>

<h3 id="ensuring-security-of-ballerina-standard-libraries">Ensuring Security of Ballerina Standard Libraries</h3>

<p>Security-sensitive functions and remote methods of Ballerina standard libraries are annotated with the <code class="language-plaintext highlighter-rouge">@untainted</code> parameter annotation. This denotes that untrusted (tainted) data should not be passed to the parameter.</p>

<p>For example, the <code class="language-plaintext highlighter-rouge">sqlQuery</code> parameter of the <code class="language-plaintext highlighter-rouge">ballerinax/java.jdbc</code> <code class="language-plaintext highlighter-rouge">select</code> remote method is annotated as <code class="language-plaintext highlighter-rouge">@untainted</code>.</p>

<pre><code class="language-ballerina">public remote function select(@untainted string sqlQuery, 
                              typedesc&lt;record{}&gt;? recordType, 
                              Param... parameters) 
                        returns @tainted table&lt;record {}&gt;|Error
</code></pre>

<p>The following example constructs an SQL query with a tainted argument:</p>

<pre><code class="language-ballerina">import ballerinax/java.jdbc;

type ResultStudent record {
    string name;
};

public function main(string... args) {

    jdbc:Client testDB = new({
        url: "jdbc:mysql://localhost:3306/testdb",
        username: "test",
        password: "test",
        poolOptions: { maximumPoolSize: 5 },
        dbOptions: { useSSL: false }
    });

   // Construct student ID based on user input.
   string studentId = "S_" + args[0];

   // Execute select query using the untrusted (tainted) student ID
   var dt = testDB-&gt;select("SELECT NAME FROM STUDENT WHERE ID = " + studentId,
                           ResultStudent);
   testDB.stop();
}
</code></pre>

<p>The Ballerina compiler will generate an error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tainted value passed to sensitive parameter 'sqlQuery'
</code></pre></div></div>

<p>In order to compile, the program is modified to use query parameters:</p>

<pre><code class="language-ballerina">jdbc:Parameter paramId = {sqlType:jdbc:TYPE_VARCHAR, value:studentId};
var dt = testDB-&gt;select("SELECT NAME FROM STUDENT WHERE ID = ?", ResultStudent,
                        paramId);
</code></pre>

<p>Command-line arguments passed to Ballerina programs and inputs received through service resources are considered as tainted. Additionally, return values of certain functions are marked with the <code class="language-plaintext highlighter-rouge">@tainted</code> annotation to denote that the resulting value should be considered untrusted data.</p>

<p>For example, the <code class="language-plaintext highlighter-rouge">select</code> remote method of the <code class="language-plaintext highlighter-rouge">java:jdbc</code> client highlighted above returns a <code class="language-plaintext highlighter-rouge">@tainted table&lt;record {}&gt;|Error</code>. This means that any value read from a database is considered untrusted.</p>

<p>When the Ballerina compiler can determine that a function is returning tainted data without tainted data being passed in as parameters to that function, it is required to annotate the functions return type as <code class="language-plaintext highlighter-rouge">@tainted</code>. If not, the function author has to clean up the data before returning it. For instance, if you are to read from the database and return that result, you either need to annotate that functions return type as <code class="language-plaintext highlighter-rouge">@tainted</code> or you have to clean up and make sure the returned data is not tainted.</p>

<h3 id="securely-using-tainted-data-with-security-sensitive-parameters">Securely Using Tainted Data with Security-Sensitive Parameters</h3>

<p>There can be certain situations where a tainted value must be passed into a security-sensitive parameter. In such situations, it is essential to do proper data validation or data sanitization to make sure the input does not result in a security threat. Once proper controls are in place, the <code class="language-plaintext highlighter-rouge">@untainted</code> annotation can be used with a type cast operator to denote that the value is trusted:</p>

<pre><code class="language-ballerina">// Execute select query using the untrusted (tainted) student ID
boolean isValid = isNumeric(studentId);
if (isValid) {
   var dt = testDB-&gt;select("SELECT NAME FROM STUDENT WHERE ID = " +
                           &lt;@untainted&gt; studentId, ResultStudent);
}
// ...
</code></pre>

<p>Additionally, return values can be annotated with<code class="language-plaintext highlighter-rouge">@untainted</code>. This denotes that the return value should be trusted (even if the return value is derived from tainted data):</p>

<pre><code class="language-ballerina">// Execute the select query using the untrusted (tainted) student ID
function sanitizeSortColumn (string columnName) returns @untainted string {
   string sanitizedSortColumn = columnName;
   // Insert sanitization logic to ensure that the return value is safe.
   return sanitizedSortColumn;
}
// ...
</code></pre>

<h2 id="securing-passwords-and-secrets">Securing Passwords and Secrets</h2>

<p>Ballerina provides an API to access configuration values from different sources. For more information, see <a href="/1.2/learn/by-example/config-api.html">Config Ballerina by Example</a>.</p>

<p>Configuration values containing passwords or secrets should be encrypted. The Ballerina Config API will decrypt such configuration values when being accessed.</p>

<p>Use the following command to encrypt a configuration value:</p>

<pre><code class="language-cmd">$ ballerina encrypt
</code></pre>

<p>The encrypt command will prompt for the plain-text value to be encrypted and an encryption secret.</p>

<pre><code class="language-cmd">$ ballerina encrypt
Enter value: 

Enter secret: 

Re-enter secret to verify: 

Add the following to the configuration file:
&lt;key&gt;="@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}"

Or provide it as a command line argument:
--&lt;key&gt;=@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}
</code></pre>

<p>Ballerina uses AES, CBC mode with PKCS#5 padding for encryption. The generated encrypted value should be used in place of the plain-text configuration value.</p>

<p>For example, contents of a configuration file that includes a secret value should look as follows:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>api.secret="@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}"
api.provider="not-a-security-sensitive-value"
</code></pre></div></div>

<p>When running a Ballerina program that uses encrypted configuration values, Ballerina will require the secret used during the encryption process to perform the decryption.</p>

<p>Ballerina will first look for a file named <code class="language-plaintext highlighter-rouge">secret.txt</code>. If such a file exists, Ballerina will read the decryption secret from the file and immediately remove the file to make sure the secret cannot be accessed afterward. If the secret file is not present, the Ballerina program will prompt for the decryption secret.</p>

<p>The file based approach is useful in automated deployments. The file containing the decryption secret can be deployed along with the Ballerina program. The name and the path of the secret file can be configured using the <code class="language-plaintext highlighter-rouge">ballerina.config.secret</code> runtime parameter:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ballerina run --b7a.config.secret=path/to/secret/file securing_configuration_values.bal
</code></pre></div></div>

<h2 id="authentication-and-authorization">Authentication and Authorization</h2>

<h3 id="inbound-authentication-and-authorization">Inbound Authentication and Authorization</h3>

<p>Ballerina HTTP services can be configured to enforce authentication and authorization. Ballerina has built-in support for the following inbound authentication mechanisms whereas it is possible to add custom mechanisms:</p>

<ul>
  <li>Basic authentication</li>
  <li>JWT authentication</li>
  <li>OAuth2 authentication</li>
  <li>LDAP authentication</li>
</ul>

<p>Ballerina inbound authentication is abstracted out into 2 layers called <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code> and <code class="language-plaintext highlighter-rouge">auth:InboundAuthProvider</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">auth:InboundAuthProvider</code> is a protocol-independent entity that only knows how to authenticate a user when the necessary information is provided. The <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code> can be protocol dependent. Even-though the current focus is on HTTP, the <code class="language-plaintext highlighter-rouge">ballerina/auth</code> module can operate with other protocols as well.</p>

<p>The <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code> is used to perform HTTP-level actions, which are extracting the required HTTP header or body, extracting the credentials out of it, passing them into the associated <code class="language-plaintext highlighter-rouge">auth:InboundAuthProvider</code>, and getting the credentials validated. The <code class="language-plaintext highlighter-rouge">auth:InboundAuthProvider</code> is used to validate the credentials passed by the <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code>.</p>

<p>In a particular authentication scheme, the implemented instance of the <code class="language-plaintext highlighter-rouge">auth:InboundAuthProvider</code> is initialized with the required configurations and it is passed to the implemented instance of the <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code>.</p>

<p>Next, the implemented instance of the <code class="language-plaintext highlighter-rouge">http:InboundAuthHandler</code> is passed to the <code class="language-plaintext highlighter-rouge">http:Listener</code> configuration as follows, and the listener is initialized with authentication.</p>

<p>The following example represents how a listener is secured with Basic Auth with the above-mentioned configurations.</p>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/config;

auth:InboundBasicAuthProvider basicAuthProvider = new;
http:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [basicAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<blockquote>
  <p><strong>Note:</strong> It is a must to use HTTPS when enforcing authentication and authorization checks, to ensure the confidentiality of sensitive authentication data.</p>
</blockquote>

<p>Optionally, the <code class="language-plaintext highlighter-rouge">scopes</code> attribute is configured for the authorization as follows. If it is not specified, that means the service is authorized for any authenticated user.</p>

<pre><code class="language-ballerina">listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [authHandler],
        scopes: ["test-scope"]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<h4 id="inbound-advanced-use-cases">Inbound Advanced Use Cases</h4>

<h5 id="using-multiple-auth-handlers">Using Multiple Auth Handlers</h5>

<p>The <code class="language-plaintext highlighter-rouge">authHandlers</code> can be configured for advanced use cases, which use multiple auth handlers as follows:</p>

<p>Case 1: Auth should be successful for <code class="language-plaintext highlighter-rouge">authHandler1</code> OR <code class="language-plaintext highlighter-rouge">authHandler1</code>.
<code class="language-plaintext highlighter-rouge">authHandlers: [authHandler1, authHandler2]</code></p>

<p>Case 2: Auth should be successful for <code class="language-plaintext highlighter-rouge">authHandler1</code> AND <code class="language-plaintext highlighter-rouge">authHandler12</code>.
<code class="language-plaintext highlighter-rouge">authHandlers: [[authHandler1], [authHandler2]]</code></p>

<p>Case 3: Auth should be successful for ((<code class="language-plaintext highlighter-rouge">authHandler1</code> OR <code class="language-plaintext highlighter-rouge">authHandler2</code>) AND (<code class="language-plaintext highlighter-rouge">authHandler3</code> OR <code class="language-plaintext highlighter-rouge">authHandler4</code>)).
<code class="language-plaintext highlighter-rouge">authHandlers: [[authHandler1, authHandler2], [authHandler3, authHandler4]]</code></p>

<pre><code class="language-ballerina">listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [authHandler1, authHandler2]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<h5 id="using-multiple-scopes">Using Multiple Scopes</h5>

<p>The <code class="language-plaintext highlighter-rouge">scopes</code> can be configured for advanced use cases as follows:</p>

<p>Case 1: Auth should be successful for <code class="language-plaintext highlighter-rouge">scope-1</code> OR <code class="language-plaintext highlighter-rouge">scope-2</code>.
<code class="language-plaintext highlighter-rouge">scopes: ["scopes-1", "scopes-2"]</code></p>

<p>Case 2: Auth should be successful for <code class="language-plaintext highlighter-rouge">scope-1</code> AND <code class="language-plaintext highlighter-rouge">scope-2</code>.
<code class="language-plaintext highlighter-rouge">scopes: [["scopes-1"], ["scopes-2"]]</code></p>

<p>Case 3: Auth should be successful for ((<code class="language-plaintext highlighter-rouge">scope-1</code> OR <code class="language-plaintext highlighter-rouge">scope-2</code>) AND (<code class="language-plaintext highlighter-rouge">scope-3</code> OR <code class="language-plaintext highlighter-rouge">scope-4</code>)).
<code class="language-plaintext highlighter-rouge">scopes: [["scopes-1", "scopes-2"], ["scopes-3", "scopes-4"]]</code></p>

<pre><code class="language-ballerina">listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [authHandler],
        scopes: ["scopes-1", "scopes-2"]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<h5 id="per-resource-and-per-service-customization">Per-Resource and Per-Service Customization</h5>

<p>The security enforcements can be customized by the <code class="language-plaintext highlighter-rouge">@http:ServiceConfig</code> annotation and the <code class="language-plaintext highlighter-rouge">@http:ResourceConfig</code> annotation.</p>

<p>For example, authentication and authorization can be modified for a particular service as follows by configuring the <code class="language-plaintext highlighter-rouge">auth</code> attribute of the <code class="language-plaintext highlighter-rouge">@http:ServiceConfig</code>.</p>
<ul>
  <li>Authentication can be disabled only for a particular service by using the <code class="language-plaintext highlighter-rouge">enabled</code> attribute</li>
  <li>The authentication mechanism can be changed for a particular service by using the <code class="language-plaintext highlighter-rouge">authHandlers</code> attribute</li>
  <li>Authorization scopes can be changed for a particular service by using the <code class="language-plaintext highlighter-rouge">scopes</code> attribute</li>
</ul>

<pre><code class="language-ballerina">@http:ServiceConfig {
    basePath: "/hello",
    auth: {
        enabled: false,
        authHandlers: [authHandlerA],
        scopes: ["scope-A"]
    }
}
service helloWorld on secureHelloWorldEp {
// ...
}
</code></pre>

<p>Further, authentication and authorization can be modified for a particular resource as follows by configuring the <code class="language-plaintext highlighter-rouge">auth</code> attribute of the <code class="language-plaintext highlighter-rouge">@http:ResourceConfig</code>:</p>

<pre><code class="language-ballerina">@http:ResourceConfig {
    basePath: "/",
    auth: {
        enabled: false,
        authHandlers: [authHandlerA],
        scopes: ["scope-A"]
    }
}
resource function sayHello (http:Caller caller, http:Request req) {
// ...
}
</code></pre>

<p>The same configuration patterns used for the listener-level configurations are applied for <code class="language-plaintext highlighter-rouge">authHandlers</code> and the <code class="language-plaintext highlighter-rouge">scopes</code> attributes in service-level configurations and resource-level configurations.</p>

<h5 id="implementing-inbound-custom-authentication-mechanism">Implementing Inbound Custom Authentication Mechanism</h5>

<p>The user can implement a custom version of AuthHandler and AuthProvider with the use of the object-equivalency pattern as follows. With that, the <code class="language-plaintext highlighter-rouge">http:Listener</code> can be enforced with custom authentication and authorization mechanisms.</p>

<pre><code class="language-ballerina">public type InboundCustomAuthHandler object {

    *http:InboundAuthHandler;

    public function canProcess(http:Request req) returns @tainted boolean {
        // Custom logic to check whether the request can be processed.
    }
    
    public function process(http:Request req) returns boolean|http:AuthenticationError {
        // Custom logic to process the request, extract the credentials, and get them validated from the AuthProvider.
    }
};
</code></pre>

<pre><code class="language-ballerina">public type InboundCustomAuthProvider object {

    *auth:InboundAuthProvider;

    public function authenticate(string credential) returns boolean|auth:Error {
        // Custom logic to authenticate the given credentials.
    }
};
</code></pre>

<h5 id="disable-https-enforcement">Disable HTTPS Enforcement</h5>

<p>The enforcement of HTTPS can be disabled by configuring the value <code class="language-plaintext highlighter-rouge">mandateSecureSocket</code> into <code class="language-plaintext highlighter-rouge">false</code> as follows:</p>

<pre><code class="language-ballerina">listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [authHandler],
        mandateSecureSocket: false
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<h5 id="modify-authorization-or-authentication-filter-index">Modify Authorization or Authentication Filter Index</h5>

<p>The authn/authz filters are engaged as the top most filters of the filter array, which is configured in the HTTP listener configuration. The uer can configure the index of the authn/authz filters if it is needed to engage a custom filter before the authn/authz filters.</p>

<p>The <code class="language-plaintext highlighter-rouge">position</code> attribute represents the authn/authz filter position of the filter array. The position values starts from 0 and it is set to 0 implicitly.</p>

<p>The following example engages the authn/authz filters in between the <code class="language-plaintext highlighter-rouge">customFilter1</code> and <code class="language-plaintext highlighter-rouge">customFilter2</code>. Then, the internally-updated filter chain would be <code class="language-plaintext highlighter-rouge">[customFilter1, authnFilter, authzFilter, customFilter2]</code>.</p>

<pre><code class="language-ballerina">listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [authHandler],
        position: 1
    },
    filters: [customFilter1, customFilter2],
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
service helloWorld on secureHelloWorldEp {
// ....
}
</code></pre>

<h4 id="jwt-inbound-authentication-and-authorization">JWT Inbound Authentication and Authorization</h4>

<p>Ballerina supports JWT Authentication and Authorization for services. The <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code> is used to extract the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header from the request and extract the credential from the header value which is <code class="language-plaintext highlighter-rouge">Bearer &lt;token&gt;</code>. Then the extracted credential will be passed to the initialized AuthProvider and validated. The <code class="language-plaintext highlighter-rouge">jwt:InboundJwtAuthProvider</code> is used to validate the credentials (JWT) passed by the AuthHandler against the <code class="language-plaintext highlighter-rouge">jwt:JwtValidatorConfig</code> provided by the user.</p>

<p>JWT validation requires several additional configurations for the <code class="language-plaintext highlighter-rouge">jwt:JwtValidatorConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">issuer</code> - The issuer of the JWT</li>
  <li><code class="language-plaintext highlighter-rouge">audience</code> - The audience value for the current service</li>
  <li><code class="language-plaintext highlighter-rouge">clockSkewInSeconds</code> - Clock skew in seconds that can be used to avoid token validation failures due to clock synchronization problems</li>
  <li><code class="language-plaintext highlighter-rouge">trustStoreConfig</code> - JWT trust store configurations
    <ul>
      <li><code class="language-plaintext highlighter-rouge">trustStore</code> - Trust store used for signature verification</li>
      <li><code class="language-plaintext highlighter-rouge">certificateAlias</code> - Token-signed public key certificate alias</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">jwtCache</code> - Cache used to store parsed JWT information as <code class="language-plaintext highlighter-rouge">CachedJwt</code></li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">jwt:JwtValidatorConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">jwt:InboundJwtAuthProvider</code> when initializing. The initialized <code class="language-plaintext highlighter-rouge">jwt:InboundJwtAuthProvider</code> is passed to the `http:BearerAuthHandler.</p>

<blockquote>
  <p><strong>Note:</strong> For demonstration purposes, the <code class="language-plaintext highlighter-rouge">ballerinaTruststore.p12</code> included with Ballerina runtime is used. In a production deployment, the truststore should only contain the public key certificates of the trusted JWT issuers.</p>
</blockquote>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/jwt;
import ballerina/config;

jwt:InboundJwtAuthProvider jwtAuthProvider = new({
    issuer: "ballerina",
    audience: ["ballerina.io"],
    trustStoreConfig: {
        certificateAlias: "ballerina",
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
http:BearerAuthHandler jwtAuthHandler = new(jwtAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [jwtAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello"
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/",
        auth:{
            scopes:["hello"],
            enabled: true
        }
    }
    resource function sayHello(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Hello, World!");
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>When the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 401 Unauthorized
&lt; content-type: text/plain
&lt; 
Authentication failure
</code></pre></div></div>

<p>If a request is made with a valid, signed JWT but without the expected <code class="language-plaintext highlighter-rouge">scope</code>, an authorization failure will occur. An example of a JWT without the <code class="language-plaintext highlighter-rouge">scope</code> attribute is as follows.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "sub": "ballerina",
  "iss": "ballerina",
  "exp": 2818415019,
  "iat": 1524575019,
  "jti": "f5aded50585c46f2b8ca233d0c2a3c9d",
  "aud": [
    "ballerina",
    "Ballerina.org",
    "ballerina.io"
  ]
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H "Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwianRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiYmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdfQ.X2mHWCr8A5UaJFvjSPUammACnTzFsTdre-P5yWQgrwLBmfcpr9JaUuq4sEwp6to3xSKN7u9QKqRLuWH1SlcphDQn6kdF1ZrCgXRQ0HQTilZQU1hllZ4c7yMNtMgMIaPgEBrStLX1Ufr6LpDkTA4VeaPCSqstHt9WbRzIoPQ1fCxjvHBP17ShiGPRza9p_Z4t897s40aQMKbKLqLQ8rEaYAcsoRBXYyUhb_PRS-YZtIdo7iVmkMVFjYjHvmYbpYhNo57Z1Y5dNa8h8-4ON4CXzcJ1RzuyuFVz1a3YL3gWTsiliVmno7vKyRo8utirDRIPi0dPJPuWi2uMtJkqdkpzJQ"

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJ
pbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwian
RpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiY
mFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdfQ.X2mHWCr8A5UaJFvjSPUammACnTzFsTdre-P5y
WQgrwLBmfcpr9JaUuq4sEwp6to3xSKN7u9QKqRLuWH1SlcphDQn6kdF1ZrCgXRQ0HQTilZQU1hllZ4c
7yMNtMgMIaPgEBrStLX1Ufr6LpDkTA4VeaPCSqstHt9WbRzIoPQ1fCxjvHBP17ShiGPRza9p_Z4t897
s40aQMKbKLqLQ8rEaYAcsoRBXYyUhb_PRS-YZtIdo7iVmkMVFjYjHvmYbpYhNo57Z1Y5dNa8h8-4ON4
CXzcJ1RzuyuFVz1a3YL3gWTsiliVmno7vKyRo8utirDRIPi0dPJPuWi2uMtJkqdkpzJQ
&gt;

&lt; HTTP/1.1 403 Forbidden
&lt; content-type: text/plain
&lt;
Authorization failure
</code></pre></div></div>

<p>A request with a correct scope attribute will result in a successful invocation. An example of a JWT that has the correct scope attribute is as follows.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "sub": "ballerina",
  "iss": "ballerina",
  "exp": 2818415019,
  "iat": 1524575019,
  "jti": "f5aded50585c46f2b8ca233d0c2a3c9d",
  "aud": [
    "ballerina",
    "ballerina.org",
    "ballerina.io"
  ],
  "scope": "hello"
}
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwianRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiYmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdLCJzY29wZSI6ImhlbGxvIn0.bNoqz9_DzgeKSK6ru3DnKL7NiNbY32ksXPYrh6Jp0_O3ST7WfXMs9WVkx6Q2TiYukMAGrnMUFrJnrJvZwC3glAmRBrl4BYCbQ0c5mCbgM9qhhCjC1tBA50rjtLAtRW-JTRpCKS0B9_EmlVKfvXPKDLIpM5hnfhOin1R3lJCPspJ2ey_Ho6fDhsKE3DZgssvgPgI9PBItnkipQ3CqqXWhV-RFBkVBEGPDYXTUVGbXhdNOBSwKw5ZoVJrCUiNG5XD0K4sgN9udVTi3EMKNMnVQaq399k6RYPAy3vIhByS6QZtRjOG8X93WJw-9GLiHvcabuid80lnrs2-mAEcstgiHVw'

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZX
JpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwia
nRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwi
YmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdLCJzY29wZSI6ImhlbGxvIn0.bNoqz9_DzgeKSK6
ru3DnKL7NiNbY32ksXPYrh6Jp0_O3ST7WfXMs9WVkx6Q2TiYukMAGrnMUFrJnrJvZwC3glAmRBrl4BY
CbQ0c5mCbgM9qhhCjC1tBA50rjtLAtRW-JTRpCKS0B9_EmlVKfvXPKDLIpM5hnfhOin1R3lJCPspJ2e
y_Ho6fDhsKE3DZgssvgPgI9PBItnkipQ3CqqXWhV-RFBkVBEGPDYXTUVGbXhdNOBSwKw5ZoVJrCUiNG
5XD0K4sgN9udVTi3EMKNMnVQaq399k6RYPAy3vIhByS6QZtRjOG8X93WJw-9GLiHvcabuid80lnrs2-
mAEcstgiHVw
&gt;

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt;
Hello, World!
</code></pre></div></div>

<h4 id="oauth2-inbound-authentication-and-authorization">OAuth2 Inbound Authentication and Authorization</h4>

<p>Ballerina supports OAuth2 Authentication and Authorization for services. The <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code> is used to extract the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header from the request and extract the credentials from the header value, which is the <code class="language-plaintext highlighter-rouge">Bearer &lt;token&gt;</code>. Then, the extracted credentials will be passed to the initialized AuthProvider to get them validated. The <code class="language-plaintext highlighter-rouge">oauth2:InboundOAuth2Provider</code> is used to validate the credentials passed by the AuthHandler against the introspection endpoint configured at <code class="language-plaintext highlighter-rouge">oauth2:IntrospectionServerConfig</code>, which is provided by the user.</p>

<p>OAuth2 token validation requires several additional configurations for the <code class="language-plaintext highlighter-rouge">oauth2:IntrospectionServerConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">url</code> - URL of the introspection server</li>
  <li><code class="language-plaintext highlighter-rouge">tokenTypeHint</code> - A hint about the type of the token submitted for introspection</li>
  <li><code class="language-plaintext highlighter-rouge">clientConfig</code> - HTTP client configurations, which calls the introspection server</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">oauth2:IntrospectionServerConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">oauth2:InboundOAuth2Provider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">oauth2:InboundOAuth2Provider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/oauth2;
import ballerina/config;

oauth2:InboundOAuth2Provider oauth2Provider = new({
    url: "https://localhost:9196/oauth2/token/introspect",
    tokenTypeHint: "access_token"
});
http:BearerAuthHandler oauth2Handler = new(oauth2Provider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [oauth2Handler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello"
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function sayHello(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Hello, World!");
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>When the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 401 Unauthorized
&lt; content-type: text/plain
&lt; 
Authentication failure
</code></pre></div></div>

<p>Although a request is made with valid authentication information, if the introspection endpoint does not respond either with the <code class="language-plaintext highlighter-rouge">scope</code> attribute of the response JSON payload or with an unexpected <code class="language-plaintext highlighter-rouge">scope</code> attribute, an authorization failure will occur.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H "Authorization:Bearer &lt;token&gt;"

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization:Bearer &lt;token&gt;
&gt;

&lt; HTTP/1.1 403 Forbidden
&lt; content-type: text/plain
&lt;
Authorization failure
</code></pre></div></div>

<p>A request, which gets a successful response from the introspection endpoint with a correct scope attribute will result in a successful invocation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H 'Authorization: Bearer &lt;token&gt;'

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization: Bearer &lt;token&gt;
&gt;

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt;
Hello, World!
</code></pre></div></div>

<h4 id="ldap-inbound-authentication-and-authorization">LDAP Inbound Authentication and Authorization</h4>

<p>Ballerina supports LDAP Authentication and Authorization for services. The <code class="language-plaintext highlighter-rouge">http:BasicAuthHandler</code> is used to extract the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header from the request and extract the credentials from the header value, which is <code class="language-plaintext highlighter-rouge">Basic &lt;token&gt;</code>. Then, the extracted credentials will be passed to the initialized AuthProvider to get validated. The <code class="language-plaintext highlighter-rouge">ldap:InboundLdapAuthProvider</code> is used to validate the credentials passed by the AuthHandler against the LDAP server configured at <code class="language-plaintext highlighter-rouge">ldap:LdapConnectionConfig</code>, which is provided by the user.</p>

<p>LDAP token validation requires several additional configurations for the <code class="language-plaintext highlighter-rouge">ldap:LdapConnectionConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">domainName</code> - Unique name to identify the user store</li>
  <li><code class="language-plaintext highlighter-rouge">connectionURL</code> - Connection URL to the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">connectionName</code> - The username to connect to the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">connectionPassword</code> - Password for the ConnectionName user</li>
  <li><code class="language-plaintext highlighter-rouge">userSearchBase</code> - DN of the context or object under which the user entries are stored in the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">userEntryObjectClass</code> - Object class used to construct user entries</li>
  <li><code class="language-plaintext highlighter-rouge">userNameAttribute</code> - The attribute used for uniquely identifying a user entry</li>
  <li><code class="language-plaintext highlighter-rouge">userNameSearchFilter</code> - Filtering criteria used to search for a particular user entry</li>
  <li><code class="language-plaintext highlighter-rouge">userNameListFilter</code> - Filtering criteria for searching user entries in the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">groupSearchBase</code> - DN of the context or object under which the group entries are stored in the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">groupEntryObjectClass</code> - Object class used to construct group entries</li>
  <li><code class="language-plaintext highlighter-rouge">groupNameAttribute</code> - The attribute used for uniquely identifying a group entry</li>
  <li><code class="language-plaintext highlighter-rouge">groupNameSearchFilter</code> - Filtering criteria used to search for a particular group entry</li>
  <li><code class="language-plaintext highlighter-rouge">groupNameListFilter</code> - Filtering criteria for searching group entries in the LDAP server</li>
  <li><code class="language-plaintext highlighter-rouge">membershipAttribute</code> - Define the attribute that contains the distinguished names (DN) of user objects that are in a group</li>
  <li><code class="language-plaintext highlighter-rouge">userRolesCacheEnabled</code> -  To indicate whether to cache the role list of a user</li>
  <li><code class="language-plaintext highlighter-rouge">connectionPoolingEnabled</code> - Define whether LDAP connection pooling is enabled</li>
  <li><code class="language-plaintext highlighter-rouge">connectionTimeoutInMillis</code> - Timeout in making the initial LDAP connection</li>
  <li><code class="language-plaintext highlighter-rouge">readTimeoutInMillis</code> -  Read timeout in milliseconds for LDAP operations</li>
  <li><code class="language-plaintext highlighter-rouge">retryAttempts</code> - Retry the authentication request if a timeout happened</li>
  <li><code class="language-plaintext highlighter-rouge">secureClientSocket</code> - The SSL configurations for the LDAP client socket. This needs to be configured in order to communicate through LDAPs</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">ldap:LdapConnectionConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">ldap:InboundLdapAuthProvider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">ldap:InboundLdapAuthProvider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BasicAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/ldap;
import ballerina/config;

ldap:LdapConnectionConfig ldapConfig = {
    domainName: "ballerina.io",
    connectionURL: "ldap://localhost:20100",
    connectionName: "uid=admin,ou=system",
    connectionPassword: "secret",
    userSearchBase: "ou=Users,dc=ballerina,dc=io",
    userEntryObjectClass: "identityPerson",
    userNameAttribute: "uid",
    userNameSearchFilter: "(&amp;(objectClass=person)(uid=?))",
    userNameListFilter: "(objectClass=person)",
    groupSearchBase: ["ou=Groups,dc=ballerina,dc=io"],
    groupEntryObjectClass: "groupOfNames",
    groupNameAttribute: "cn",
    groupNameSearchFilter: "(&amp;(objectClass=groupOfNames)(cn=?))",
    groupNameListFilter: "(objectClass=groupOfNames)",
    membershipAttribute: "member",
    userRolesCacheEnabled: true,
    connectionPoolingEnabled: false,
    connectionTimeoutInMillis: 5000,
    readTimeoutInMillis: 60000,
    retryAttempts: 3
};
ldap:InboundLdapAuthProvider ldapAuthProvider = new(ldapConfig, "ldap01");
http:BasicAuthHandler ldapAuthHandler = new(ldapAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [ldapAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello",
    auth: {
        scopes: ["hello"]
    }
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function sayHello(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Hello, World!");
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>When the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; 
&lt; HTTP/1.1 401 Unauthorized
&lt; content-type: text/plain
&lt; 
Authentication failure
</code></pre></div></div>

<p>If a request is made with valid authentication information but the LDAP server responds with an empty group list or unexpected scopes, an authorization failure will occur.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H "Authorization: Basic &lt;token&gt;"

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization:Bearer &lt;token&gt;
&gt;

&lt; HTTP/1.1 403 Forbidden
&lt; content-type: text/plain
&lt;
Authorization failure
</code></pre></div></div>

<p>A request, which gets a successful response from the LDAP server for the scope request will result in a successful invocation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v https://localhost:9091/hello -H 'Authorization: Basic &lt;token&gt;'

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*
&gt; Authorization: Bearer &lt;token&gt;
&gt;

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt;
Hello, World!
</code></pre></div></div>

<h4 id="basic-auth-inbound-authentication-and-authorization">Basic Auth Inbound Authentication and Authorization</h4>

<p>Ballerina supports Basic Authentication and Authorization for services. The <code class="language-plaintext highlighter-rouge">http:BasicAuthHandler</code> is used to extract the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header from the request and extract the credential from the header value, which is the <code class="language-plaintext highlighter-rouge">Basic &lt;token&gt;</code>. Then, the extracted credentials will be passed to the initialized AuthProvider and gets validated. The <code class="language-plaintext highlighter-rouge">jwt:InboundBasicAuthProvider</code> is used to read the user information from the configuration file and authenticate the credentials passed by the AuthHandler.</p>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/config;

auth:InboundBasicAuthProvider basicAuthProvider = new;
http:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [basicAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello",
    auth: {
        scopes: ["hello"]
    }
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function sayHello(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Hello, World!");
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>To enforce Basic Authentication, users and scopes should be configured through a configuration file. The following example file introduces two users. The <code class="language-plaintext highlighter-rouge">generalUser</code> has no scopes and the <code class="language-plaintext highlighter-rouge">admin</code> user has the <code class="language-plaintext highlighter-rouge">hello</code> scope.</p>

<p><strong>sample-users.toml</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[b7a.users]

[b7a.users.generalUser]
password="@encrypted:{pIQrB9YfCQK1eIWH5d6UaZXA3zr+60JxSBcpa2PY7a8=}"

[b7a.users.admin]
password="@encrypted:{pIQrB9YfCQK1eIWH5d6UaZXA3zr+60JxSBcpa2PY7a8=}"
scopes="hello"
</code></pre></div></div>

<p>Restart the service using the following command.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ballerina run --config sample-users.toml basic_auth_sample.bal
</code></pre></div></div>

<p>Since passwords are encrypted, the Config API will request the decryption key. Use <code class="language-plaintext highlighter-rouge">ballerina</code> as the decryption key in this sample.</p>

<p>Also, the passwords can be hashed and provided with the configuration file. The following example file introduces three users along with the passwords hashed with <code class="language-plaintext highlighter-rouge">sha256</code>, <code class="language-plaintext highlighter-rouge">sha384</code>, and <code class="language-plaintext highlighter-rouge">sha512</code> hashing algorithms.</p>

<p><strong>sample-users.toml</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[b7a.users]

[b7a.users.userA]
password="@sha256:{cd2eb0837c9b4c962c22d2ff8b5441b7b45805887f051d39bf133b583baf6860}"

[b7a.users.userB]
password="@sha384:{1249e15f035ed34786a328d9fdb2689ab24f7c7b253d1b7f66ed92a679d663dd502d7beda59973e8c91a728b929fc8cd}"

[b7a.users.userC]
password="@sha512:{9057ff1aa9509b2a0af624d687461d2bbeb07e2f37d953b1ce4a9dc921a7f19c45dc35d7c5363b373792add57d0d7dc41596e1c585d6ef7844cdf8ae87af443f}"
</code></pre></div></div>

<p>Once the service is restarted with the first configuration file in place, the <code class="language-plaintext highlighter-rouge">generalUser</code> will not be able to invoke the service due to authorization failure:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v -u generalUser:password https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*

&lt; HTTP/1.1 403 Forbidden
&lt; content-type: text/plain
&lt;
Authorization failure
</code></pre></div></div>

<p>Admin users will be able to invoke the service:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v -u admin:password https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; User-Agent: curl/7.47.0
&gt; Accept: */*

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt;
Hello, World!
</code></pre></div></div>

<hr />

<h3 id="outbound-authentication-and-authorization">Outbound Authentication and Authorization</h3>

<p>The Ballerina HTTP client can be configured to send authentication and authorization information to the endpoint being invoked. Ballerina has built-in support for the following outbound authentication mechanisms, whereas it is possible to add custom mechanisms:</p>

<ul>
  <li>Basic authentication</li>
  <li>JWT authentication</li>
  <li>OAuth2 authentication</li>
</ul>

<p>Ballerina outbound authentication is also abstracted out into 2 layers called <code class="language-plaintext highlighter-rouge">http:OutboundAuthHandler</code> and <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code> is a protocol-independent entity, which only knows how to generate credentials with the necessary information provided by the user. The <code class="language-plaintext highlighter-rouge">http:OutboundAuthHandler</code> can be protocol dependent. Even-though the current focus is on HTTP, the <code class="language-plaintext highlighter-rouge">ballerina/auth</code> module can operate with other protocols as well.</p>

<p>The <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code> is used to create the credentials according to the provided configurations. The <code class="language-plaintext highlighter-rouge">http:OutboundAuthHandler</code> is used to get the created credentials from the <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code> and perform HTTP-level actions, which are adding the required HTTP headers or body using the received credentials.</p>

<p>In a particular authentication scheme, the implemented instance of the <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code> is initialized with required configurations and it is passed to the implemented instance of the <code class="language-plaintext highlighter-rouge">http:OutboundAuthHandler</code>.</p>

<p>Next, the implemented instance of the <code class="language-plaintext highlighter-rouge">http:OutboundAuthHandler</code> is passed to the <code class="language-plaintext highlighter-rouge">http:Client</code> configuration as follows, and the client is initialized with authentication.</p>

<p>The following example represents how a client is secured with Basic Auth with the above-mentioned configurations.</p>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/config;

auth:OutboundBasicProvider basicAuthProvider = new({
    username: "user",
    password: "ballerina"
});
http:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);

http:Client secureHelloWorldClient = new("https://localhost:9092", {
    auth: {
        authHandler: basicAuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<blockquote>
  <p><strong>Note:</strong> It is better to use HTTPS when enforcing authentication and authorization checks to ensure the confidentiality of sensitive authentication data.</p>
</blockquote>

<h4 id="outbound-advanced-use-cases">Outbound Advanced Use Cases</h4>

<h5 id="implementing-outbound-custom-authentication-mechanism">Implementing Outbound Custom Authentication Mechanism</h5>

<p>The user can implement a custom version of the AuthHandler and AuthProvider with the use of the object equivalency pattern as follows. With that, the <code class="language-plaintext highlighter-rouge">http:Client</code> can be enforced with custom authentication and authorization mechanisms.</p>

<pre><code class="language-ballerina">public type OutboundCustomAuthHandler object {

    *http:OutboundAuthHandler;

    public function prepare(http:Request req) returns http:Request|http:AuthenticationError {
        // Custom logic to prepare the request.
    }

    public function inspect(http:Request req, http:Response resp) returns http:Request|http:AuthenticationError? {
        // Custom logic to inspect the request after the initial outbound call.
    }
};
</code></pre>

<pre><code class="language-ballerina">public type OutboundCustomAuthProvider object {

    *auth:OutboundAuthProvider;

    public function generateToken() returns string|auth:Error {
        // Custom logic to generate the token. 
    }

    public function inspect(map&lt;anydata&gt; data) returns string|auth:Error? {
        // Custom logic to inspect the data map received from the AuthHandler. 
    }
};
</code></pre>

<h4 id="jwt-outbound-authentication">JWT Outbound Authentication</h4>

<p>Ballerina supports JWT Authentication for clients. The <code class="language-plaintext highlighter-rouge">jwt:OutboundJwtAuthProvider</code> is used to issue a JWT against the <code class="language-plaintext highlighter-rouge">jwt:JwtIssuerConfig</code> provided by the user. The <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code> is used to add the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header with the value received from the AuthProvider as the <code class="language-plaintext highlighter-rouge">Bearer &lt;token&gt;</code>.</p>

<p>JWT issuing requires several additional configurations for the <code class="language-plaintext highlighter-rouge">jwt:JwtIssuerConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">username</code> - JWT token username</li>
  <li><code class="language-plaintext highlighter-rouge">issuer</code> - JWT token issuer</li>
  <li><code class="language-plaintext highlighter-rouge">audience</code> - JWT token audience</li>
  <li><code class="language-plaintext highlighter-rouge">customClaims</code> - Map of custom claims</li>
  <li><code class="language-plaintext highlighter-rouge">expTime</code> - JWT token expiry time</li>
  <li><code class="language-plaintext highlighter-rouge">keyStoreConfig</code> - JWT key store configurations
    <ul>
      <li><code class="language-plaintext highlighter-rouge">keyStore</code> - Keystore to be used in JWT signing</li>
      <li><code class="language-plaintext highlighter-rouge">keyAlias</code> - Signing key alias</li>
      <li><code class="language-plaintext highlighter-rouge">keyPassword</code> - Signing key password</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">signingAlg</code> - JWT signing algorithm
    <ul>
      <li><code class="language-plaintext highlighter-rouge">jwt:RS256</code> - The RSA-SHA256 algorithm</li>
      <li><code class="language-plaintext highlighter-rouge">jwt:RS384</code> - The RSA-SHA384 algorithm</li>
      <li><code class="language-plaintext highlighter-rouge">jwt:RS512</code> - The RSA-SHA512 algorithm</li>
      <li><code class="language-plaintext highlighter-rouge">jwt:NONE</code> - Unsecured JWTs (no signing)</li>
    </ul>
  </li>
</ul>

<p>The<code class="language-plaintext highlighter-rouge">jwt:JwtIssuerConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">jwt:OutboundJwtAuthProvider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">jwt:OutboundJwtAuthProvider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/jwt;
import ballerina/config;

jwt:OutboundJwtAuthProvider jwtAuthProvider = new({
    username: "ballerinaUser",
    issuer: "ballerina",
    audience: ["ballerina.io"],
    keyStoreConfig: {
        keyAlias: "ballerina",
        keyPassword: "ballerina",
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
http:BearerAuthHandler jwtAuthHandler = new(jwtAuthProvider);

http:Client downstreamServiceEP = new("https://localhost:9091", {
    auth: {
        authHandler: jwtAuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<p>The <code class="language-plaintext highlighter-rouge">http:Client</code> defined in the program calls the the <code class="language-plaintext highlighter-rouge">http:Listener</code>, which is secured with JWT authentication (For more information, see the example added under JWT inbound authentication).</p>

<h4 id="oauth2-outbound-authentication">OAuth2 Outbound Authentication</h4>

<p>Ballerina supports OAuth2 Authentication for clients. It supports the Client Credentials grant type, Password grant type, and Direct Token mode, in which, the credentials can be provided manually and after that refreshing is handled internally.</p>

<p>The <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> is used to create a token against the configuration provided by the user. It can be the <code class="language-plaintext highlighter-rouge">oauth2:ClientCredentialsGrantConfig</code>, <code class="language-plaintext highlighter-rouge">oauth2:PasswordGrantConfig</code>, or <code class="language-plaintext highlighter-rouge">oauth2:DirectTokenConfig</code> according to the grant type that is required by the user. The <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code> is used to add the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header with the value received from the AuthProvider as the <code class="language-plaintext highlighter-rouge">Bearer &lt;token&gt;</code>.</p>

<h5 id="client-credentials-grant-type">Client Credentials Grant Type</h5>

<p>OAuth2 token issuing requires several additional configurations for the <code class="language-plaintext highlighter-rouge">oauth2:ClientCredentialsGrantConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">tokenUrl</code> - Token URL for the authorization endpoint</li>
  <li><code class="language-plaintext highlighter-rouge">clientId</code> - Client ID for the client credentials grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">clientSecret</code> - Client secret for the client credentials grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">scopes</code> - Scope of the access request</li>
  <li><code class="language-plaintext highlighter-rouge">clockSkewInSeconds</code> - Clock skew in seconds</li>
  <li><code class="language-plaintext highlighter-rouge">retryRequest</code> - Retry the request if the initial request returns a 401 response</li>
  <li><code class="language-plaintext highlighter-rouge">credentialBearer</code> - How authentication credentials are sent to the authorization endpoint
    <ul>
      <li><code class="language-plaintext highlighter-rouge">http:AUTH_HEADER_BEARER</code> - Indicates that the authentication credentials should be sent via the Authentication Header</li>
      <li><code class="language-plaintext highlighter-rouge">http:POST_BODY_BEARER | NO_BEARER</code> - Indicates that the Authentication credentials should be sent via the body of the POST request</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">clientConfig</code> - HTTP client configurations,which calls the authorization endpoint</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">oauth2:ClientCredentialsGrantConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/oauth2;
import ballerina/config;

oauth2:OutboundOAuth2Provider oauth2Provider = new({
    tokenUrl: "https://localhost:9196/oauth2/token/authorize",
    clientId: "3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68",
    clientSecret: "9205371918321623741",
    scopes: ["token-scope1", "token-scope2"]
});
http:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);

http:Client downstreamServiceEP = new("https://localhost:9091", {
    auth: {
        authHandler: oauth2AuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<h5 id="password-grant-type">Password Grant Type</h5>

<p>OAuth2 token issuing requires several additional configurations for the <code class="language-plaintext highlighter-rouge">oauth2:PasswordGrantConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">tokenUrl</code> - Token URL for the authorization endpoint</li>
  <li><code class="language-plaintext highlighter-rouge">username</code> - Username for password grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">password</code> - Password for password grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">clientId</code> - Client ID for password grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">clientSecret</code> - Client secret for password grant authentication</li>
  <li><code class="language-plaintext highlighter-rouge">scopes</code> - Scope of the access request</li>
  <li><code class="language-plaintext highlighter-rouge">refreshConfig</code> - Configurations for refreshing the access token
    <ul>
      <li><code class="language-plaintext highlighter-rouge">refreshUrl</code> - Refresh token URL for the refresh token server</li>
      <li><code class="language-plaintext highlighter-rouge">scopes</code> - Scope of the access request</li>
      <li><code class="language-plaintext highlighter-rouge">credentialBearer</code> - How authentication credentials are sent to the authorization endpoint</li>
      <li><code class="language-plaintext highlighter-rouge">clientConfig</code> - HTTP client configurations, which calls the authorization endpoint</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">clockSkewInSeconds</code> - Clock skew in seconds</li>
  <li><code class="language-plaintext highlighter-rouge">retryRequest</code> - Retry the request if the initial request returns a 401 response</li>
  <li><code class="language-plaintext highlighter-rouge">credentialBearer</code> - How authentication credentials are sent to the authorization endpoint
    <ul>
      <li><code class="language-plaintext highlighter-rouge">http:AUTH_HEADER_BEARER</code> - Indicates that the authentication credentials should be sent via the Authentication Header</li>
      <li><code class="language-plaintext highlighter-rouge">http:POST_BODY_BEARER|NO_BEARER</code> - Indicates that the Authentication credentials should be sent via the body of the POST request</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">clientConfig</code> - HTTP client configurations, which calls the authorization endpoint</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">oauth2:PasswordGrantConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/oauth2;
import ballerina/config;

oauth2:OutboundOAuth2Provider oauth2Provider = new({
    tokenUrl: "https://localhost:9196/oauth2/token/authorize",
    username: "johndoe",
    password: "A3ddj3w",
    clientId: "3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68",
    clientSecret: "9205371918321623741",
    scopes: ["token-scope1", "token-scope2"],
    refreshConfig: {
        refreshUrl: "https://localhost:9196/oauth2/token/refresh",
        scopes: ["token-scope1", "token-scope2"]
    }
});
http:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);

http:Client downstreamServiceEP = new("https://localhost:9091", {
    auth: {
        authHandler: oauth2AuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<h5 id="direct-token-mode">Direct Token Mode</h5>

<p>OAuth2 token issuing requires several additional configurations for the <code class="language-plaintext highlighter-rouge">oauth2:DirectTokenConfig</code> including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">accessToken</code> - Access token for the authorization endpoint</li>
  <li><code class="language-plaintext highlighter-rouge">refreshConfig</code> - Configurations for refreshing the access token
    <ul>
      <li><code class="language-plaintext highlighter-rouge">refreshUrl</code> - Refresh token URL for the refresh token server</li>
      <li><code class="language-plaintext highlighter-rouge">refreshToken</code> - Refresh token for the refresh token server</li>
      <li><code class="language-plaintext highlighter-rouge">clientId</code> - Client ID for authentication with the authorization endpoint</li>
      <li><code class="language-plaintext highlighter-rouge">clientSecret</code> - Client secret for authentication with the authorization endpoint</li>
      <li><code class="language-plaintext highlighter-rouge">scopes</code> - Scope of the access request</li>
      <li><code class="language-plaintext highlighter-rouge">credentialBearer</code> - How authentication credentials are sent to the authorization endpoint</li>
      <li><code class="language-plaintext highlighter-rouge">clientConfig</code> - HTTP client configurations, which calls the authorization endpoint</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">clockSkewInSeconds</code> - Clock skew in seconds</li>
  <li><code class="language-plaintext highlighter-rouge">retryRequest</code> - Retry the request if the initial request returns a 401 response</li>
  <li><code class="language-plaintext highlighter-rouge">credentialBearer</code> - How authentication credentials are sent to the authorization endpoint
    <ul>
      <li><code class="language-plaintext highlighter-rouge">http:AUTH_HEADER_BEARER</code> - Indicates that the authentication credentials should be sent via the Authentication Header</li>
      <li><code class="language-plaintext highlighter-rouge">http:POST_BODY_BEARER|NO_BEARER</code> - Indicates that the Authentication credentials should be sent via the body of the POST request</li>
    </ul>
  </li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">oauth2:DirectTokenConfig</code> record should be provided into the <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">oauth2:OutboundOAuth2Provider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BearerAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/http;
import ballerina/oauth2;

oauth2:OutboundOAuth2Provider oauth2Provider = new({
    accessToken: "34060588-dd4e-36a5-ad93-440cc77a1cfb",
    refreshConfig: {
        refreshToken: "15160398-ae07-71b1-aea1-411ece712e59",
        refreshUrl: "https://ballerina.io/sample/refresh",
        clientId: "rgfKVdnMQnJSSr_pKFTxj3apiwYa",
        clientSecret: "BRebJ0aqfclQB9v7yZwhj0JfW0ga"
    }
});
http:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);

http:Client downstreamServiceEP = new("https://localhost:9091", {
    auth: {
        authHandler: oauth2AuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<h4 id="basic-auth-outbound-authentication">Basic Auth Outbound Authentication</h4>

<p>Ballerina supports Basic Authentication for clients. The <code class="language-plaintext highlighter-rouge">auth:OutboundBasicAuthProvider</code> is used to create a token against the <code class="language-plaintext highlighter-rouge">auth:Credential</code> provided by the user. The <code class="language-plaintext highlighter-rouge">http:BasicAuthHandler</code> is used to add the HTTP <code class="language-plaintext highlighter-rouge">Authorization</code> header with the value received from the AuthProvider as the <code class="language-plaintext highlighter-rouge">Basic &lt;token&gt;</code>.</p>

<p>Token issuing requires several additional configurations for the <code class="language-plaintext highlighter-rouge">auth:Credential</code> config including:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">username</code> - The username for Basic authentication</li>
  <li><code class="language-plaintext highlighter-rouge">password</code> - The password for Basic authentication</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">auth:Credential</code> record should be provided into the <code class="language-plaintext highlighter-rouge">auth:OutboundBasicAuthProvider</code> when initializing and the initialized <code class="language-plaintext highlighter-rouge">auth:OutboundBasicAuthProvider</code> is passed to the <code class="language-plaintext highlighter-rouge">http:BasicAuthHandler</code>.</p>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/config;

auth:OutboundBasicProvider basicAuthProvider = new({
    username: "user",
    password: "ballerina"
});
http:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);

http:Client downstreamServiceEP = new("https://localhost:9091", {
    auth: {
        authHandler: basicAuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});
</code></pre>

<h4 id="token-propagation-for-outbound-authentication">Token Propagation for Outbound Authentication</h4>

<p>Ballerina supports token propagation for outbound authentication. The token propagation happens if the user does not provide any configuration when initializing the <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">auth:OutboundAuthProvider</code> reads the token/username from the <code class="language-plaintext highlighter-rouge">runtime:InvocationContext</code> according to the outbound authentication scheme and uses that for the outbound request. The <code class="language-plaintext highlighter-rouge">runtime:InvocationContext</code> is initialized based on the authentication information from the inbound request.</p>

<h5 id="example-one">Example One</h5>

<p>The following program has an <code class="language-plaintext highlighter-rouge">http:Client</code> secured with Basic authentication and it is configured inside an <code class="language-plaintext highlighter-rouge">http:Listener</code> secured with Basic authentication.
The <code class="language-plaintext highlighter-rouge">auth:OutboundBasicAuthProvider</code> is initialized without providing any configurations. Therefore, the program gets the token from the <code class="language-plaintext highlighter-rouge">runtime:InvocationContext</code> and uses it for the outbound request.
If the downstream service is also secured with Basic authentication and as same as the upstream service, the user does not need to configure the client.</p>

<blockquote>
  <p><strong>Note:</strong> This scenario is the same for all the scenarios in which both the upstream and downstream services are secured using the same authentication scheme and clients are also configured using the same authentication scheme but without any configurations. The token propagation happens internally.</p>
</blockquote>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/config;

auth:InboundBasicAuthProvider inboundBasicAuthProvider = new;
http:BasicAuthHandler inboundBasicAuthHandler = new(inboundBasicAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [inboundBasicAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

auth:OutboundBasicAuthProvider outboundBasicAuthProvider = new;
http:BasicAuthHandler outboundBasicAuthHandler = new(outboundBasicAuthProvider);

http:Client downstreamClientEP = new("https://localhost:9092", {
    auth: {
        authHandler: outboundBasicAuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello",
    auth: {
        scopes: ["hello"]
    }
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function sayHello(http:Caller caller, http:Request req) returns error? {
        // http:Request req = new;
        http:Response response = check downstreamClientEP-&gt;get("/downstream");
        checkpanic caller-&gt;respond(response);
    }
}

// ----------------------------------------------
// Following code creates the downstream service
// ----------------------------------------------

listener http:Listener downstreamServiceEp = new(9092, {
    auth: {
        authHandlers: [inboundBasicAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/downstream"
}
service downStreamService on downstreamServiceEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function downStreamResource(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Downstream service received authenticated request with the token: " + req.getHeader("Authorization"));
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>To enforce Basic Authentication, create a configuration file as follows:</p>

<p><strong>sample-users.toml</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[b7a.users]

[b7a.users.tom]
password="123"
scopes="hello"
</code></pre></div></div>

<p>Start the service using the following command after creating the <code class="language-plaintext highlighter-rouge">sample-users.toml</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ballerina run --config sample-users.toml example.bal
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">Tom</code> user will be able to invoke the <code class="language-plaintext highlighter-rouge">/hello</code> resource and invoke the Basic Auth protected downstream service.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v -u tom:123 https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; Authorization: Basic dG9tOjEyMw==
&gt; User-Agent: curl/7.60.0
&gt; Accept: */*

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt; content-length: 602
&lt;
Downstream service received authenticated request with the token: Basic dG9tOjEyMw==
</code></pre></div></div>

<h5 id="example-two">Example Two</h5>

<p>The following program has an <code class="language-plaintext highlighter-rouge">http:Client</code> secured with JWT authentication and it is configured inside an <code class="language-plaintext highlighter-rouge">http:Listener</code> secured with Basic Authentication.
The <code class="language-plaintext highlighter-rouge">jwt:OutboundJwtAuthProvider</code> is initialized using the provides configurations but without the username. Therefore, the program gets the username from the <code class="language-plaintext highlighter-rouge">runtime:InvocationContext</code>, which is set based on the inbound authentication information and uses it for the outbound request.
In this example, the downstream service is secured using JWT authentication and expects a JWT issued against the user authenticating by the upstream service (protected by Basic authentication). Ballerina can dynamically issue such JWT while propagating the user information internally.</p>

<pre><code class="language-ballerina">import ballerina/auth;
import ballerina/http;
import ballerina/jwt;
import ballerina/config;

auth:InboundBasicAuthProvider inboundBasicAuthProvider = new;
http:BasicAuthHandler inboundBasicAuthHandler = new(inboundBasicAuthProvider);

listener http:Listener secureHelloWorldEp = new(9091, {
    auth: {
        authHandlers: [inboundBasicAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

jwt:OutboundJwtAuthProvider outboundJwtAuthProvider = new({
    issuer: "ballerina",
    audience: ["ballerina.io"],
    keyStoreConfig: {
        keyAlias: "ballerina",
        keyPassword: "ballerina",
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});
http:BearerAuthHandler outboundJwtAuthHandler = new(outboundJwtAuthProvider);

http:Client downstreamClientEP = new("https://localhost:9092", {
    auth: {
        authHandler: outboundJwtAuthHandler
    },
    secureSocket: {
        trustStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/hello",
    auth: {
        scopes: ["hello"]
    }
}
service helloWorld on secureHelloWorldEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function sayHello(http:Caller caller, http:Request req) returns error? {
        // http:Request req = new;
        http:Response response = check downstreamClientEP-&gt;get("/downstream");
        checkpanic caller-&gt;respond(response);
    }
}

// ----------------------------------------------
// Following code creates the downstream service
// ----------------------------------------------

jwt:InboundJwtAuthProvider inboundJwtAuthProvider = new({
    issuer: "ballerina",
    audience: ["ballerina.io"],
    certificateAlias: "ballerina",
    trustStore: {
        path: config:getAsString("b7a.home") + "/bre/security/ballerinaTruststore.p12",
        password: "ballerina"
    }
});
http:BearerAuthHandler inboundJwtAuthHandler = new(inboundJwtAuthProvider);

listener http:Listener downstreamServiceEp = new(9092, {
    auth: {
        authHandlers: [inboundJwtAuthHandler]
    },
    secureSocket: {
        keyStore: {
            path: config:getAsString("b7a.home") + "/bre/security/ballerinaKeystore.p12",
            password: "ballerina"
        }
    }
});

@http:ServiceConfig {
    basePath: "/downstream"
}
service downStreamService on downstreamServiceEp {

    @http:ResourceConfig {
        methods: ["GET"],
        path: "/"
    }
    resource function downStreamResource(http:Caller caller, http:Request req) {
        http:Response resp = new;
        resp.setTextPayload("Downstream service received authenticated request with the token: " + req.getHeader("Authorization"));
        checkpanic caller-&gt;respond(resp);
    }
}
</code></pre>

<p>To enforce Basic Authentication, create a configuration file as follows:</p>

<p><strong>sample-users.toml</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[b7a.users]

[b7a.users.tom]
password="123"
scopes="hello"
</code></pre></div></div>

<p>Start the service using the following command after creating the <code class="language-plaintext highlighter-rouge">sample-users.toml</code> file.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ballerina run --config sample-users.toml example.bal
</code></pre></div></div>

<p>The Tom user will be able to invoke the <code class="language-plaintext highlighter-rouge">/hello</code> resource and invoke the Basic Auth protected downstream service.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -k -v -u tom:123 https://localhost:9091/hello

&gt; GET /hello HTTP/1.1
&gt; Host: localhost:9091
&gt; Authorization: Basic dG9tOjEyMw==
&gt; User-Agent: curl/7.60.0
&gt; Accept: */*

&lt; HTTP/1.1 200 OK
&lt; content-type: text/plain
&lt; content-length: 602
&lt;
Downstream service received authenticated request with the token: Bearer eyJhbGciOiJSUzI1NiIsICJ0eXAiOiJKV1QifQ==.eyJzdWIiOiJ0b20iLCAiaXNzIjoiYmFsbGVyaW5hIiwgImV4cCI6MTU2NTUwMzUzNywgImlhdCI6MTU2NTUwMzIzNywgImp0aSI6ImJhMjczNTM5LTcxZWItNDExOC04MzNiLTQyNDlhMjY0MmZmNCIsICJhdWQiOlsiYmFsbGVyaW5hLmlvIl19.OwMHPrQfjpIujHSAIq3ycKsP4SYTR2nW9lBHXBOgIZV6-FcM1Lxz8xtjY1AwcIAd_L4XmiODN_5HYUluZb3jDj1F6ZeI4FQeTKygiGgJs_nTww56bHFQXPe9_IW1zxRGM8G51cJBKxTH6YsOTXgNVhcGoe5f-kaESmGze-XLCnCXgj0GYnG2ECnejSHRh89gjWMyfyMFRDhioPi9IYZEQGIFBQzrModFWXNKQZh5vxaF5KW4KWXLTRgrBX8uY2IIS6S80nf83oaUlrrApieaGf88cwSqOjGjaPpxj3I810qGa996ZVE3P5DkzgxrJYHrJMwcVgBX7sgDFUUcD3RrEA==
</code></pre></div></div>

   
                                 </div>

                                


                         



                              </div>
                           </div>
                        </div>
                     </div>
                     <a class="cTopLink" href="#top">Back to Top &#x2934;</a>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div id="iBallerinaFooter" class="row cBallerina-io-White-row">
    <div class="container">
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-left-col cBallerinaFooterLinks">
        <ul>
            <li><a class="cBioFooterLink" href="/downloads">DOWNLOAD</a></li>
            <!--<li><a class="cBioFooterLink" href="/community/#report-issues">REPORT ISSUES</a></li>-->
            <li data-toggle="modal" data-target="#reportissues" data-whatever="@mdo"><a href="/community/#report-issues">REPORT ISSUES</a></li>
            <li><a class="cBioFooterLink" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li>
            <li><a class="cBioFooterLink" href="/license-of-site">SITE LICENSE</a></li>
            <li><a class="cBioFooterLink" href="/terms-of-service">TERMS OF SERVICE</a></li>
            <li><a class="cBioFooterLink" href="/privacy-policy">PRIVACY POLICY</a></li>
            <li><a class="cBioFooterLink" href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li>
            </ul>
        </div>
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-middle-col cBallerinaFooterSignUp">
        <div class="cSocialmedia">
            <ul>
                <li>
                    <a class="cBioFooterLink" href="https://github.com/ballerina-platform" target="_blank"><img src="/img/github.svg"/></a>
                    </li>
                <li><a class="cBioFooterLink" href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank"><img src="/img/stackoverflow.svg"/></a></li>
                <li><a class="cBioFooterLink" href="https://twitter.com/ballerinalang" target="_blank"><img src="/img/twitter.svg"/></a></li>
                <li><a class="cBioFooterLink" href="/community/slack/"><img src="/img/slack.svg"/></a></li>
                <li><a class="cBioFooterLink" href="https://www.youtube.com/c/Ballerinalang"><img style="width: 15px;" src="/img/youtube-icon.svg"/></a></li>
                </ul>
            <div class="pdframe"></div>
            </div>


           <a class="cNLButton" href="/community/#subscribe-to-the-newsletter">Subscribe to the newsletter</a> 

           <div class="modal fade" id="reportissues" tabindex="-1" role="dialog" aria-labelledby="reportissueslabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content" style="padding:15px;border-radius:0px;">
                <div class="modal-header">
                  <h3 class="modal-title" style="color: #20b6b0;">Report Issues</h3>
                  <p style="padding: 10px 0px ;">Report issues in the GitHub repositories of the areas and components listed below.
                  </p>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="background-color: #fff; font-size: 20; color: #465867;font-size: 20px;">
                  <ul class="b">
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose" target="_blank"> Compiler, runtime, or tooling</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-standard-library/issues" target="_blank"> Standard Library</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-standard-library/issues/new/choose" target="_blank">  Language specification</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-dev-website/issues/new/choose" target="_blank">  Website</a></li>
                    <li><a class="linkText" href="mailto:security@ballerina.io" target="_blank">Security</a> <span style="font-size: 16px;">(For details, see the</span> <a class="linkText" href="/security" target="_blank">security policy</a>.)</li>
                  </ul>  
                
                </div>
                <div class="modal-footer">
                 
                </div>
              </div>
            </div>
          </div>
        </div>
    <div class="col-xs-12 col-sm-10 col-md-6 col-lg-6 cBallerina-io-right-col">
        <p>In the creation of Ballerina, we were inspired by so many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub and WSO2.</p></div>
    </div>
</div>

<div class="cCookie-Policy">
    <div class="container">
        <div class="col-xs-12 col-sm-12 col-lg-12">
            <!-- <div class="closebuttoon"><img src="/img/close-w.svg"/></div> -->
<h4>Cookie policy</h4>
<p>This website uses cookies so that we can provide you with the best user experience. Read our <a href="https://ballerina.io/cookie-policy/">Cookie policy</a></a> to find out more.</p>
<p>If you wish to disable cookies you can do so from your browser. </p>
  
<!-- <a href="https://ballerina.io/cookie-policy/"></a> -->
<a class="cIUnderstand ">I understand </a>
        </div>
    </div>
</div>





<script src="/js/prism.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.14.0/components/prism-core.min.js"></script> -->
<script src="/js/prism-ballerina.js"></script>



<script>

$(".cIUnderstand ").click(function() {
    $(".cCookie-Policy").addClass('cHide-Policy');
   
    
});



</script>


<!-- 
<script>
    (function () {

if (typeof self === 'undefined' || !self.Prism || !self.document) {
    return;
}

/**
 * Plugin name which is used as a class name for <pre> which is activating the plugin
 * @type {String}
 */
var PLUGIN_NAME = 'line-numbers';

/**
 * Regular expression used for determining line breaks
 * @type {RegExp}
 */
var NEW_LINE_EXP = /\n(?!$)/g;

/**
 * Resizes line numbers spans according to height of line of code
 * @param {Element} element <pre> element
 */
var _resizeElement = function (element) {
    var codeStyles = getStyles(element);
    var whiteSpace = codeStyles['white-space'];

    if (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {
        var codeElement = element.querySelector('code');
        var lineNumbersWrapper = element.querySelector('.line-numbers-rows');
        if (!codeElement || !lineNumbersWrapper) {
            return;
        }
        var lineNumberSizer = element.querySelector('.line-numbers-sizer');
        var codeLines = codeElement.textContent.split(NEW_LINE_EXP);

        if (!lineNumberSizer) {
            lineNumberSizer = document.createElement('span');
            lineNumberSizer.className = 'line-numbers-sizer';

            codeElement.appendChild(lineNumberSizer);
        }

        lineNumberSizer.style.display = 'block';

        codeLines.forEach(function (line, lineNumber) {
            lineNumberSizer.textContent = line || '\n';
            var lineSize = lineNumberSizer.getBoundingClientRect().height;
            lineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';
        });

        lineNumberSizer.textContent = '';
        lineNumberSizer.style.display = 'none';
    }
};

/**
 * Returns style declarations for the element
 * @param {Element} element
 */
var getStyles = function (element) {
    if (!element) {
        return null;
    }

    return window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);
};

window.addEventListener('resize', function () {
    Array.prototype.forEach.call(document.querySelectorAll('pre.' + PLUGIN_NAME), _resizeElement);
});

Prism.hooks.add('complete', function (env) {
    if (!env.code) {
        return;
    }

    var code = env.element;
    var pre = code.parentNode;

    // works only for <code> wrapped inside <pre> (not inline)
    if (!pre || !/pre/i.test(pre.nodeName)) {
        return;
    }

    // Abort if line numbers already exists
    if (code.querySelector('.line-numbers-rows')) {
        return;
    }

    var addLineNumbers = false;
    var lineNumbersRegex = /(?:^|\s)line-numbers(?:\s|$)/;

    for (var element = code; element; element = element.parentNode) {
        if (lineNumbersRegex.test(element.className)) {
            addLineNumbers = true;
            break;
        }
    }

    // only add line numbers if <code> or one of its ancestors has the `line-numbers` class
    if (!addLineNumbers) {
        return;
    }

    // Remove the class 'line-numbers' from the <code>
    code.className = code.className.replace(lineNumbersRegex, ' ');
    // Add the class 'line-numbers' to the <pre>
    if (!lineNumbersRegex.test(pre.className)) {
        pre.className += ' line-numbers';
    }

    var match = env.code.match(NEW_LINE_EXP);
    var linesNum = match ? match.length + 1 : 1;
    var lineNumbersWrapper;

    var lines = new Array(linesNum + 1).join('<span></span>');

    lineNumbersWrapper = document.createElement('span');
    lineNumbersWrapper.setAttribute('aria-hidden', 'true');
    lineNumbersWrapper.className = 'line-numbers-rows';
    lineNumbersWrapper.innerHTML = lines;

    if (pre.hasAttribute('data-start')) {
        pre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);
    }

    env.element.appendChild(lineNumbersWrapper);

    _resizeElement(pre);

    Prism.hooks.run('line-numbers', env);
});

Prism.hooks.add('line-numbers', function (env) {
    env.plugins = env.plugins || {};
    env.plugins.lineNumbers = true;
});

/**
 * Global exports
 */
Prism.plugins.lineNumbers = {
    /**
     * Returns the node of the given line number in the given element.
     * @param {Element} element A `<pre>` element with line numbers.
     * @param {Number} number
     * @returns {Element | undefined}
     */
    getLine: function (element, number) {
        if (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {
            return;
        }

        var lineNumberRows = element.querySelector('.line-numbers-rows');
        var lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;
        var lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);

        if (number < lineNumberStart) {
            number = lineNumberStart;
        }
        if (number > lineNumberEnd) {
            number = lineNumberEnd;
        }

        var lineIndex = number - lineNumberStart;

        return lineNumberRows.children[lineIndex];
    },
    /**
     * Resizes the line numbers of the given element.
     *
     * This function will not add line numbers. It will only resize existing ones.
     * @param {Element} element A `<pre>` element with line numbers.
     * @returns {void}
     */
    resize: function (element) {
        _resizeElement(element);
    }
};

}());
</script> -->

<!-- 
<style>
    pre[class*="language-"].line-numbers {
	position: relative;
	padding-left: 3.8em;
	counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
	position: relative;
	white-space: inherit;
}

.line-numbers .line-numbers-rows {
	position: absolute;
	pointer-events: none;
	top: 0;
	font-size: 100%;
	left: -3.8em;
	width: 3em; /* works for line-numbers below 1000 lines */
	letter-spacing: -1px;
	border-right: 1px solid #999;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

}

	.line-numbers-rows > span {
		display: block;
		counter-increment: linenumber;
	}

		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #999;
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
</style> -->

      <script src="/js/theme.js"></script>
      <script>
         $(document).ready(function () {
            var gitstar = '<iframe id="iGitStarIframe" src="https://ghbtns.com/github-btn.html?user=ballerina-platform&repo=ballerina-lang&type=star&count=true&size=small" frameborder="0" scrolling="0"></iframe>';
            $('[data-button="iGitStarText"]').replaceWith(gitstar);
         
            var gitwatch = '<iframe id="iGitWatchIframe" src="https://ghbtns.com/github-btn.html?user=ballerina-platform&repo=ballerina-lang&type=watch&count=true&size=lsmalle&v=2" frameborder="0" scrolling="0"></iframe>';
            $('[data-button="iGitWatchText"]').replaceWith(gitwatch);
         
         });
         
     </script>
     <script src="/js/ballerina-leftnav.js"></script>

     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <script src="/js/abixTreeList.min.js"></script>
     <script>
         $(document).ready(function() {
             $('#tree').abixTreeList();
         });





         $(window).scroll(function () {
        var bodyclass = document.body;

        if ($(this).scrollTop() > 200) {
            $('.cTopLink').removeClass('dispalaynone');
          
        } else {
            $('.cTopLink').addClass('dispalaynone');
          
        }

   


    });

     </script>




   </body>
</html>

</div></div></div></div><div class="vstack gap-0"><div class="Footer_footer__gXdNn container-fluid"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li></li><li></li><li></li><li></li><li></li></ul></div><div class="Footer_subscribe__6aRU2"><a href="/sarani.github.io/community#subscribe-to-newsletter">Subscribe to our newsletter</a></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/sarani.github.io/downloads">DOWNLOAD</a></li><li><a href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-10 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-12"><ul><li><a href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/sarani.github.io/license-of-site">SITE LICENSE</a></li><li><a href="/sarani.github.io/terms-of-service">TERMS OF SERVICE</a></li><li><a href="/sarani.github.io/privacy-policy">PRIVACY POLICY</a></li><li><a href="/sarani.github.io/cookie-policy">COOKIE POLICY</a></li><li><a href="/sarani.github.io/security-policy">SECURITY POLICY</a></li><li><a href="/sarani.github.io/trademark-usage-policy">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{},"content":"\u003c!DOCTYPE html\u003e\n\u003chtml class=\"no-js\"\u003e\n   \u003chead\u003e\n      \u003cmeta charset=\"utf-8\"\u003e\n\u003cmeta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"\u003e\n\u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e\n\n\u003cmeta name=\"description\" content=\"Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs.\" /\u003e\n\n\u003cmeta name=\"author\" content=\"WSO2, Inc.\"\u003e\n\n\u003cmeta name=\"keywords\" content=\"ballerina, programming language, security, secure ballerina code\" /\u003e\n\n\u003clink rel=\"shortcut icon\" href=\"/img/favicon.ico\"\u003e\n\u003ctitle\u003eWriting Secure Ballerina Code\u003c/title\u003e\n\u003c!-- Global site tag (gtag.js) - Google Analytics --\u003e\n\u003cscript async src=\"https://www.googletagmanager.com/gtag/js?id=UA-92163714-2\"\u003e\u003c/script\u003e\n\u003c!--FB--\u003e\n\u003cmeta property=\"og:type\" content=\"article\" /\u003e\n\u003cmeta property=\"og:title\" content=\"Ballerina - Writing Secure Ballerina Code\" /\u003e\n\n\u003cmeta property=\"og:description\" content=\"Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs.\" /\u003e\n\n \n\u003cmeta property=\"og:image\" itemprop=\"image\" content=\"https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png\" /\u003e\n\n\n\u003c!-- \u003cmeta name=\"twitter:image:width\" content=\"610\"\u003e --\u003e\n\u003c!--LINKED IN  --\u003e\n\u003cmeta property='og:title' content=\"Ballerina\"/\u003e\n\u003cmeta property='og:image' content=\"https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png\n\"/\u003e\n\u003cmeta property='og:description' itemprop=\"image\" content=\"Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs.\"/\u003e\n\n\u003c!--TWITTER--\u003e\n\u003cmeta name=\"twitter:card\" content=\"summary\" /\u003e\n\u003cmeta name=\"twitter:site\" content=\"@ballerinalang\"\u003e\n\u003cmeta name=\"twitter:creator\" content=\"@ballerinalang\"\u003e\n\u003cmeta name=\"twitter:title\" content=\"Ballerina\"\u003e \n\u003cmeta name=\"twitter:card\" content=\"summary_large_image\"\u003e \n\n\u003cmeta property=\"twitter:description\" content=\"Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs.\" /\u003e\n\n\u003cmeta name=\"twitter:image\" content=\"https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png\n \"\u003e\n\n\u003cmeta property=\"twitter:text:description\" content=\"Check out the different security features and controls available within the Ballerina programming language and follow the guidelines on writing secure Ballerina programs.\" /\u003e\n\n\u003cmeta property='twitter:image' content=\"https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png\"/\u003e\n\n\n\u003cscript\u003e\n   window.dataLayer = window.dataLayer || [];\n   function gtag() {\n       dataLayer.push(arguments);\n   }\n   gtag('js', new Date());\n   gtag('config', 'UA-92163714-2');\n\u003c/script\u003e\n\u003c!-- Google Tag Manager --\u003e\n\u003cscript\u003e\n   (function(w, d, s, l, i) {\n       w[l] = w[l] || [];\n       w[l].push({\n           'gtm.start': new Date().getTime(),\n           event: 'gtm.js'\n       });\n       var f = d.getElementsByTagName(s)[0],\n           j = d.createElement(s),\n           dl = l != 'dataLayer' ? '\u0026l=' + l : '';\n       j.async = true;\n       j.src =\n           'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\n       f.parentNode.insertBefore(j, f);\n   })(window, document, 'script', 'dataLayer', 'GTM-PSL2TX4');\n\u003c/script\u003e\n\u003c!-- End Google Tag Manager --\u003e\n\u003cscript src=\"/js/moment-2.22.0/moment.min.js\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/latest-jquery.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\n   var base_url = \"\";\n\u003c/script\u003e\n\u003clink rel=\"stylesheet\" href=\"/css/latest-bootstrap.css\"\u003e\n\u003c!-- Optional theme --\u003e\n\u003clink rel=\"stylesheet\" href=\"/css/latest-bootstrap-theme.css\"\u003e\n\u003c!-- Latest compiled and minified JavaScript --\u003e\n\u003cscript src=\"/js/latest-bootstrap.js\"\u003e\u003c/script\u003e\n\u003c!-- Fonts --\u003e\n\u003clink href=\"https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i\u0026display=swap\" rel=\"stylesheet\"\u003e\n\n\u003c!-- \n\u003clink type=\"text/css\" rel=\"stylesheet\" href=\"https://use.typekit.net/son4ymv.css\"\u003e --\u003e\n\n\n\n\n\u003c!-- \u003clink rel=\"stylesheet\" href=\"./js/vs/editor/editor.main.css\"\u003e--\u003e\n\u003c!-- \u003clink rel=\"stylesheet\" href=\"https://use.typekit.net/son4ymv.css\" /\u003e --\u003e\n\u003c!-- \u003clink rel=\"stylesheet\" href=\"/css/theme.css\" type=\"text/css\" /\u003e\n\u003clink rel=\"stylesheet\" href=\"/css/theme_extra.css\" type=\"text/css\" /\u003e --\u003e\n\u003c!-- \u003cscript type=\"text/javascript\" src=\"/js/highlight.pack.js\"\u003e\u003c/script\u003e --\u003e\n\n\u003clink rel=\"stylesheet\" href=\"/css/prism.css\"\u003e\n\n\u003cscript src=\"/js/ballerina-common.js?100\"\u003e\u003c/script\u003e\n\u003cscript src=\"/js/handlebars/4.7.6/handlebars.js\"\u003e\u003c/script\u003e\n\u003clink rel=\"stylesheet\" href=\"/css/ballerina-io.css\"\u003e\n\u003cscript\u003e\n   // Current page data\n   var mkdocs_page_name = '\"Home\"'.replace(/^\"|\"$/g, '');\n   var mkdocs_page_input_path = '\"index.md\"'.replace(/^\"|\"$/g, '');\n   var mkdocs_page_url = '\"/\"'.replace(/^\"|\"$/g, '');\n   \n   var releaseNoteFilename = 'RELEASE_NOTE.html';\n\n   var nightly_download_url = 'https://product-dist.ballerina.io/nightly';\n   var dev_download_url = 'https://product-dist.ballerina.io/dev';\n   var base_download_url = 'https://dist.ballerina.io/downloads';\n   \n   var base_releasenote_url = ''.concat('/downloads/1.2.x-release-notes');\n   var base_swanlake_releasenote_url = ''.concat('/downloads/swan-lake-release-notes');\n\u003c/script\u003e\n\n\u003clink href=\"/css/prism.css\" rel=\"stylesheet\" /\u003e\n\n      \u003clink rel=\"stylesheet\" href=\"/css/ballerina-io-docs.css?200618\"\u003e\n      \u003clink rel=\"stylesheet\" href=\"/css/ballerina-io-learn-v2.css\"\u003e\n   \n      \n   \n      \n\n      \u003clink href=\"/css/abixTreeList.css\" rel=\"stylesheet\"\u003e\n\n   \u003c/head\u003e\n   \u003cbody class=\"cBallerina-io\" id=\"top\"\u003e\n      \u003cstyle\u003e\n    .cVersionChangeBanner{\n    color: #000000;\n    background-color: #fcdf4a !important;\n    width: 100%;\n    display: inline-block;\n    padding: 10px 0px;\n    text-align: center;\n    font-weight: 500;\n    font-size: 20px;\n    transition : all 0.3s;\n    position: fixed;\n    top: 0;\n    width: 100%;\n    height: 50px;\n    z-index: 9;\n    }\n    .cInfoBannerLink{\n        color: #000000;\n        text-decoration: underline;\n    }\n    .cInfoBannerLink:hover{\n        color: #545454 !important;\n        text-decoration: underline !important;\n    }\n    .cBallerina-io-Gray-row {\n       padding-top: 70px !important;\n    }\n    @media only screen and (max-width: 992px) {\n        .cBallerina-io-Gray-row {\n       padding-top: 140px !important;\n    }\n\n    #noscript-warning{\n        position: relative;\n    text-align: center;\n    padding: 7px 15px;\n    background-color: #57595d;\n    color: #fff;\n    font-weight: 500;\n    letter-spacing: 0.5px;\n    }\n\u003c/style\u003e\n\u003cnoscript\u003e\n    \u003cdiv id=\"noscript-warning\"\u003eBallerina works best with JavaScript enabled.\u003c/div\u003e\n\u003c/noscript\u003e\n     \u003cdiv class=\"cVersionChangeBanner\"\u003e\n        This documentation is for Ballerina 1.2.0. \u003ca href=\"https://ballerina.io/learn/\" class=\"cInfoBannerLink\"\u003eView documentation for the latest release\u003c/a\u003e.\n    \u003c/div\u003e\n\u003cdiv class=\"row cBallerina-io-Nav\" id=\"iMainNavigation\" style=\"top:50px\"\u003e\n\n    \u003cdiv class=\"container\"\u003e\n        \u003cdiv class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\"\u003e\n            \u003cnav class=\"navbar\"\u003e\n                \u003cdiv\u003e\n                    \u003cdiv class=\"navbar-header\"\u003e\n                        \u003cbutton type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\"\n                            data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\"\u003e\n                            \u003cspan class=\"sr-only\"\u003e\u0026#9776\u003c/span\u003e\n                            \u003cspan class=\"icon-bar\"\u003e\u003c/span\u003e\n                            \u003cspan class=\"icon-bar\"\u003e\u003c/span\u003e\n                            \u003cspan class=\"icon-bar\"\u003e\u003c/span\u003e\n                        \u003c/button\u003e\n                        \u003ca class=\"cMobileLogo\" href=\"/\"\u003e\u003cimg src=\"/img/ballerina-logo.svg\" alt=\"Ballerina\" /\u003e\u003c/a\u003e\n                    \u003c/div\u003e\n                    \u003cdiv id=\"navbar\" class=\"collapse navbar-collapse\"\u003e\n                        \u003cul class=\"nav navbar-nav cTopNav\"\u003e\n                            \u003cli class=\"toctree-l1\" id=\"playli\"\u003e\u003ca class=\"cBioTopLink\" href=\"/downloads/\"\u003eDownload\u003c/a\u003e\n                            \u003c/li\u003e\n                            \u003cli class=\"toctree-l1\" id=\"playli\"\u003e\u003ca class=\"cBioTopLink\" href=\"https://play.ballerina.io/\"\n                                    target=\"_blank\"\u003ePlayground\u003c/a\u003e\n                            \u003c/li\u003e\n                            \u003cli class=\"active toctree-l1\" id=\"learnli\"\u003e\u003ca class=\"cBioTopLink\" href=\"/learn\"\u003eLearn\u003c/a\u003e\n                            \u003c/li\u003e\n                            \u003c!--\u003cli class=\"active toctree-l1\" id=\"eventsli\"\u003e\u003ca class=\"cBioTopLink\" href=\"/learn/events\"\u003eEvents\u003c/a\u003e\n                            \u003c/li\u003e--\u003e\n                            \u003cli class=\"toctree-l1\"\u003e\u003ca class=\"cBioTopLink\" href=\"https://central.ballerina.io/\"\n                                    target=\"_blank\"\u003eCentral\u003c/a\u003e\u003c/li\u003e\n                            \u003cli class=\"toctree-l1\" id=\"openli\"\u003e\u003ca class=\"cBioTopLink\" href=\"/community\"\u003eCommunity\u003c/a\u003e\n                            \u003c/li\u003e\n                            \u003cli class=\"toctree-l1\" id=\"helpli\"\u003e\u003ca class=\"cBioTopLink\"\n                                    href=\"https://blog.ballerina.io\"\u003eBlog\u003c/a\u003e\n                            \u003c/li\u003e\n                            \u003cli class=\"cVersionItem\"\u003e\n                                \u003cdiv class=\"cVersionContainer\"\u003e\n                                    \u003c!-- \u003clable class=\"cVlable\"\u003eVersion\u003c/lable\u003e --\u003e\n                                    \u003cselect name=\"versions\" id=\"versions\" class=\"select-css\"\u003e\n                                        \u003coption value=\"swan-lake\" data-value=\"latest\"\u003eSwan Lake\u003c/option\u003e\n                                        \u003coption value=\"1.2\"\u003ev1.2\u003c/option\u003e\n                                        \u003coption value=\"1.1\"\u003ev1.1\u003c/option\u003e\n                                        \u003coption value=\"1.0\"\u003ev1.0\u003c/option\u003e\n\n                                    \u003c/select\u003e\n                                \u003c/div\u003e\n                            \u003c/li\u003e\n                            \u003cli class=\"cSearchMenu\"\u003e\n                               \n                                \u003c!-- at the end of the HEAD --\u003e\n\u003clink\n  rel=\"stylesheet\"\n  href=\"https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css\"\n/\u003e\n\u003cstyle\u003e\n  .algolia-search-cont {\n    margin-top: -10px;\n  }\n  .algolia-search-wrap {\n    display: flex;\n    align-items: center;\n  }\n  .algolia-search-cont .search-icon {\n    margin-right: 10px;\n  }\n  .algolia-search-cont .algolia-search-box {\n    border: none;\n    background-image: none;\n    background-color: transparent;\n    -webkit-box-shadow: none;\n    -moz-box-shadow: none;\n    box-shadow: none;\n    outline: none;\n  }\n\u003c/style\u003e\n\u003cdiv class=\"algolia-search-cont\"\u003e\n  \u003cdiv class=\"algolia-search-wrap form-control\"\u003e\n    \u003cspan\n      class=\"glyphicon glyphicon-search search-icon\"\n      aria-hidden=\"true\"\n    \u003e\u003c/span\u003e\n    \u003cinput\n      autocapitalize=\"off\"\n      autocomplete=\"off\"\n      autocorrect=\"off\"\n      placeholder=\"Search...\"\n      role=\"textbox\"\n      spellcheck=\"false\"\n      type=\"text\"\n      value=\"\"\n      class=\"algolia-search-box\"\n      id=\"algolia-search-box\"\n    /\u003e\n  \u003c/div\u003e\n\u003c/div\u003e\n\n\u003c!-- at the end of the BODY --\u003e\n\u003cscript\n  type=\"text/javascript\"\n  src=\"https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js\"\n\u003e\u003c/script\u003e\n\u003cscript type=\"text/javascript\"\u003e\n  docsearch({\n    apiKey: \"6a63d4bcf6378ddf3f8724185ddcf626\",\n    indexName: \"ballerina\",\n    inputSelector: \"#algolia-search-box\",\n    debug: false, // Set debug to true if you want to inspect the dropdown\n  });\n\u003c/script\u003e\n\n                                \u003c!-- \u003cform class=\"cSearch-form-inline\"\u003e\u003cinput id=\"searchTxt\" class=\"form-control-field\"\n                                        type=\"search\" placeholder=\"Search\" aria-label=\"Search\"\u003e\u003ca id=\"searchBtn\"\n                                        href=\"#\" class=\"cSearchButton\"\u003e\u003cimg src=\"/img/search.svg\" /\u003e\u003c/a\u003e\u003c/form\u003e --\u003e\n                            \u003c/li\u003e\n                        \u003c/ul\u003e\n                    \u003c/div\u003e\n                \u003c/div\u003e\n            \u003c/nav\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n      \u003cdiv class=\"row cBallerina-io-Gray-row\"\u003e\n         \u003cdiv class=\"container\"\u003e\n            \u003cdiv class=\"row\"\u003e\n               \u003cdiv class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-Home-Middle-col\"\u003e\n                  \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003c!-- Then we build the nav bar. --\u003e\n\u003cnav class=\"cLeftNavContainer\"\u003e\n   \u003cul class=\"cMainLeftNav\"\u003e\n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eSetting up Ballerina\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/installing-ballerina/\"\u003e- Installing Ballerina\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/installing-ballerina/\"\u003eInstalling Ballerina\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/setting-up-visual-studio-code/\"\u003e- Setting up Visual Studio Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/setting-up-visual-studio-code/\"\u003eSetting up Visual Studio Code\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/setting-up-intellij-idea/\"\u003e- Setting up IntelliJ IDEA\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/setting-up-intellij-idea/\"\u003eSetting up IntelliJ IDEA\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eBallerina CLI Tools\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/using-the-cli-tools/\"\u003e- Using the CLI Tools\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/using-the-cli-tools/\"\u003eUsing the CLI Tools\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/keeping-ballerina-up-to-date\"\u003e- Keeping Ballerina Up To Date\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/keeping-ballerina-up-to-date\"\u003eKeeping Ballerina Up To Date\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/using-the-openapi-tools/\"\u003e- Using the OpenAPI Tools\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/using-the-openapi-tools/\"\u003eUsing the OpenAPI Tools\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/generating-ballerina-code-for-protocol-buffer-definitions\"\u003e- Generating Ballerina Code for Protocol Buffer Definitions\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/generating-ballerina-code-for-protocol-buffer-definitions\"\u003eGenerating Ballerina Code for Protocol Buffer Definitions\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eCode Organization\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/structuring-ballerina-code/\"\u003e- Structuring Ballerina Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/structuring-ballerina-code/\"\u003eStructuring Ballerina Code\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/documenting-ballerina-code/\"\u003e- Documenting Ballerina Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/documenting-ballerina-code/\"\u003eDocumenting Ballerina Code\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/coding-conventions/\"\u003e- Coding Conventions\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/coding-conventions/\"\u003eCoding Conventions\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/running-ballerina-code/\"\u003e- Running Ballerina Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/running-ballerina-code/\"\u003eRunning Ballerina Code\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/publishing-modules-to-ballerina-central\"\u003e- Publishing Modules to Ballerina Central\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/publishing-modules-to-ballerina-central\"\u003ePublishing Modules to Ballerina Central\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eDeployment\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/deployment/docker/\"\u003e- Docker\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/deployment/docker/\"\u003eDocker\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/deployment/kubernetes/\"\u003e- Kubernetes\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/deployment/kubernetes/\"\u003eKubernetes\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/deployment/aws-lambda/\"\u003e- AWS Lambda\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/deployment/aws-lambda/\"\u003eAWS Lambda\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/deployment/azure-functions/\"\u003e- Azure Functions\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/deployment/azure-functions/\"\u003eAzure Functions\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eObservability\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/observing-ballerina-code\"\u003e- Observing Ballerina Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/observing-ballerina-code\"\u003eObserving Ballerina Code\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eInteroperability\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/calling-java-code-from-ballerina/\"\u003e- Calling Java Code from Ballerina\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/calling-java-code-from-ballerina/\"\u003eCalling Java Code from Ballerina\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eSecurity\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/writing-secure-ballerina-code\"\u003e- Writing Secure Ballerina Code\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli class=\"current-sub\"\u003e\u003ca href=\"/1.2/learn/writing-secure-ballerina-code\"\u003eWriting Secure Ballerina Code\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eTesting Ballerina Code\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/testing-quick-start\"\u003e- Quick Start\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/testing-quick-start\"\u003eQuick Start\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/writing-tests\"\u003e- Writing Tests\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/writing-tests\"\u003eWriting Tests\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/mocking\"\u003e- Mocking\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/mocking\"\u003eMocking\u003c/a\u003e\u003c/li\u003e\n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/executing-tests\"\u003e- Executing Tests\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/testing-ballerina-code/executing-tests\"\u003eExecuting Tests\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n      \n      \u003c!-- We have to declare it 'null' to ensure it doesn't propagate. --\u003e\n      \u003c!--  --\u003e\n      \n      \n      \n      \u003cli class=\"sub-menu cTopicURL\"\u003e\n         \u003cdiv class=\"cLeftMenuLink cTopiAtag\"\u003eExtending Ballerina\u003c/div\u003e\n         \u003cul class=\"sub-ul\"\u003e\n            \n            \u003c!--  --\u003e\n            \n            \n            \n            \u003c!-- \u003cli  \u003e\u003ca href=\"/1.2/learn/extending-with-compiler-extensions\"\u003e- Extending with Compiler Extensions\u003c/a\u003e\u003c/li\u003e --\u003e\n            \u003cli\u003e\u003ca href=\"/1.2/learn/extending-with-compiler-extensions\"\u003eExtending with Compiler Extensions\u003c/a\u003e\u003c/li\u003e\n            \n         \u003c/ul\u003e\n      \u003c/li\u003e\n      \n      \n   \u003c/ul\u003e\n\u003c/nav\u003e\n\n               \u003c/div\u003e\n               \u003cdiv class=\"col-xs-12 col-sm-12 col-md-9 col-lg-9 cBallerina-io-Home-Middle-col\"\u003e\n                  \u003cdiv class=\"col-xs-12 col-sm-12\" style=\"padding: 0;\"\u003e\n                     \u003cdiv class=\"col-md-12 col-lg-12 cBallerina-io-breadcrumbs\"\u003e\n                        \u003cnav class=\"breadcrumbs bootstrap hidden-sm-down\"\n  \u003e\n  \u003cul id=\"breadcrumb-list\" class=\" cBalleinaBreadcrumbs list-unstyled  wy-breadcrumbs\" vocab=\"http://schema.org/\"\n    typeof=\"BreadcrumbList\"\u003e\n\n\n    \n    \u003cli\u003e\u003ca href=\"/\"\u003eHome\u003c/a\u003e\u003c/li\u003e\n    \n    \n    \u003cli\u003e/\u003c/li\u003e\n    \u003cli\u003e\u003ca\n        href=\"/1.2/\"\u003e1.2\u003c/a\u003e\n    \u003c/li\u003e\n    \n    \n    \n    \u003cli\u003e/\u003c/li\u003e\n    \u003cli\u003e\u003ca\n        href=\"/1.2/learn/\"\u003eLearn\u003c/a\u003e\n    \u003c/li\u003e\n    \n    \n    \n    \u003cli\u003e/\u003c/li\u003e Writing Secure Ballerina Code\n    \n    \n\n  \u003c/ul\u003e\n\u003c/nav\u003e\n\u003cstyle type=\"text/css\"\u003e\n  .cBalleinaBreadcrumbs li {\n    margin-right: 10px;\n  }\n\u003c/style\u003e\n                        \u003cdiv class=\"cVersionContainer\"\u003e\u003c/div\u003e\n                     \u003c/div\u003e\n                     \u003c!-- \u003cdiv class=\"col-md-12 col-lg-2 cBallerina-io-breadcrumbs cGitLink\"\u003e\n                        \n                     \u003c/div\u003e --\u003e\n                  \u003c/div\u003e\n                  \u003cdiv class=\"cBlallerina-io-docs-content-container cPositionRelative\"\u003e\n                     \u003cdiv class=\"wy-nav-content\"\u003e\n                        \u003cdiv class=\"rst-content\"\u003e\n                           \u003cdiv role=\"main\"\u003e\n                              \u003cdiv class=\"section\"\u003e\n\n\n                                 \u003cdiv class=\"col-xs-11 col-md-11 col-lg-11 cNoPadding\"\u003e\n                                    \u003ch1\u003eWriting Secure Ballerina Code\u003c/h1\u003e\n                                 \u003c/div\u003e\n                                 \u003c!-- \u003cdiv class=\"col-xs-1 col-md-1 col-lg-1 cNoPadding cGithubContainer\"\u003e\n                                    \u003ca class=\"icon icon-github\" target=\"_blank\" href=\"https://www.github.com/ballerina-platform/ballerina-dev-website/blob/master/1.2/learn/writing-secure-ballerina-code.md\"\u003e\u003c/a\u003e\n                                 \u003c/div\u003e --\u003e\n                                 \u003cdiv class=\"col-xs-12 col-md-12 col-lg-12 cNoPadding\"\u003e\n                                    \u003cp\u003eThe sections below include information on the different security features and controls available within Ballerina. Also, they provide guidelines on writing secure Ballerina programs.\u003c/p\u003e\n                                    \u003cdiv class=\"cBallerinaTocContainer\" id=\"table-of-content\"\u003e\n                                       \u003cul id=\"tree\"\u003e\n  \u003cli\u003e\u003ca href=\"#secure-by-design\"\u003eSecure by Design\u003c/a\u003e\n    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#ensuring-security-of-ballerina-standard-libraries\"\u003eEnsuring Security of Ballerina Standard Libraries\u003c/a\u003e\u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#securely-using-tainted-data-with-security-sensitive-parameters\"\u003eSecurely Using Tainted Data with Security-Sensitive Parameters\u003c/a\u003e\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#securing-passwords-and-secrets\"\u003eSecuring Passwords and Secrets\u003c/a\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ca href=\"#authentication-and-authorization\"\u003eAuthentication and Authorization\u003c/a\u003e\n    \u003cul\u003e\n      \u003cli\u003e\u003ca href=\"#inbound-authentication-and-authorization\"\u003eInbound Authentication and Authorization\u003c/a\u003e\n        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#inbound-advanced-use-cases\"\u003eInbound Advanced Use Cases\u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\u003ca href=\"#using-multiple-auth-handlers\"\u003eUsing Multiple Auth Handlers\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#using-multiple-scopes\"\u003eUsing Multiple Scopes\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#per-resource-and-per-service-customization\"\u003ePer-Resource and Per-Service Customization\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#implementing-inbound-custom-authentication-mechanism\"\u003eImplementing Inbound Custom Authentication Mechanism\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#disable-https-enforcement\"\u003eDisable HTTPS Enforcement\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#modify-authorization-or-authentication-filter-index\"\u003eModify Authorization or Authentication Filter Index\u003c/a\u003e\u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#jwt-inbound-authentication-and-authorization\"\u003eJWT Inbound Authentication and Authorization\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#oauth2-inbound-authentication-and-authorization\"\u003eOAuth2 Inbound Authentication and Authorization\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#ldap-inbound-authentication-and-authorization\"\u003eLDAP Inbound Authentication and Authorization\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#basic-auth-inbound-authentication-and-authorization\"\u003eBasic Auth Inbound Authentication and Authorization\u003c/a\u003e\u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n      \u003cli\u003e\u003ca href=\"#outbound-authentication-and-authorization\"\u003eOutbound Authentication and Authorization\u003c/a\u003e\n        \u003cul\u003e\n          \u003cli\u003e\u003ca href=\"#outbound-advanced-use-cases\"\u003eOutbound Advanced Use Cases\u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\u003ca href=\"#implementing-outbound-custom-authentication-mechanism\"\u003eImplementing Outbound Custom Authentication Mechanism\u003c/a\u003e\u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#jwt-outbound-authentication\"\u003eJWT Outbound Authentication\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#oauth2-outbound-authentication\"\u003eOAuth2 Outbound Authentication\u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\u003ca href=\"#client-credentials-grant-type\"\u003eClient Credentials Grant Type\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#password-grant-type\"\u003ePassword Grant Type\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#direct-token-mode\"\u003eDirect Token Mode\u003c/a\u003e\u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#basic-auth-outbound-authentication\"\u003eBasic Auth Outbound Authentication\u003c/a\u003e\u003c/li\u003e\n          \u003cli\u003e\u003ca href=\"#token-propagation-for-outbound-authentication\"\u003eToken Propagation for Outbound Authentication\u003c/a\u003e\n            \u003cul\u003e\n              \u003cli\u003e\u003ca href=\"#example-one\"\u003eExample One\u003c/a\u003e\u003c/li\u003e\n              \u003cli\u003e\u003ca href=\"#example-two\"\u003eExample Two\u003c/a\u003e\u003c/li\u003e\n            \u003c/ul\u003e\n          \u003c/li\u003e\n        \u003c/ul\u003e\n      \u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n\u003c/ul\u003e\n\n                                    \u003c/div\u003e\n                                    \u003ch2 id=\"secure-by-design\"\u003eSecure by Design\u003c/h2\u003e\n\n\u003cp\u003eThis approach makes it unnecessary for developers to review best practice coding lists that itemize how to avoid security vulnerabilities. The Ballerina compiler ensures that Ballerina programs do not introduce security vulnerabilities.\u003c/p\u003e\n\n\u003cp\u003eA taint analysis mechanism is used to achieve this.\u003c/p\u003e\n\n\u003cp\u003eParameters in function calls can be designated as security-sensitive. The compiler will generate an error if you pass untrusted data (tainted data) into a security-sensitive parameter:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003etainted value passed to sensitive parameter 'sqlQuery'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eWe require developers to explicitly mark all values passed into security-sensitive parameters as trusted. This explicit check forces developers and code reviewers to verify that the values being passed into the parameter are not vulnerable to a security violation.\u003c/p\u003e\n\n\u003cp\u003eBallerina standard library makes sure untrusted data cannot be used with security-sensitive parameters such as SQL queries, file paths, file name, permission flags, request URLs and configuration keys preventing vulnerabilities including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eSQL Injection\u003c/li\u003e\n  \u003cli\u003ePath Manipulation\u003c/li\u003e\n  \u003cli\u003eFile Manipulation\u003c/li\u003e\n  \u003cli\u003eUnauthorized File Access\u003c/li\u003e\n  \u003cli\u003eUnvalidated Redirect (Open Redirect)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch3 id=\"ensuring-security-of-ballerina-standard-libraries\"\u003eEnsuring Security of Ballerina Standard Libraries\u003c/h3\u003e\n\n\u003cp\u003eSecurity-sensitive functions and remote methods of Ballerina standard libraries are annotated with the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@untainted\u003c/code\u003e parameter annotation. This denotes that untrusted (tainted) data should not be passed to the parameter.\u003c/p\u003e\n\n\u003cp\u003eFor example, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esqlQuery\u003c/code\u003e parameter of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerinax/java.jdbc\u003c/code\u003e \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eselect\u003c/code\u003e remote method is annotated as \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@untainted\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003epublic remote function select(@untainted string sqlQuery, \n                              typedesc\u0026lt;record{}\u0026gt;? recordType, \n                              Param... parameters) \n                        returns @tainted table\u0026lt;record {}\u0026gt;|Error\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe following example constructs an SQL query with a tainted argument:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerinax/java.jdbc;\n\ntype ResultStudent record {\n    string name;\n};\n\npublic function main(string... args) {\n\n    jdbc:Client testDB = new({\n        url: \"jdbc:mysql://localhost:3306/testdb\",\n        username: \"test\",\n        password: \"test\",\n        poolOptions: { maximumPoolSize: 5 },\n        dbOptions: { useSSL: false }\n    });\n\n   // Construct student ID based on user input.\n   string studentId = \"S_\" + args[0];\n\n   // Execute select query using the untrusted (tainted) student ID\n   var dt = testDB-\u0026gt;select(\"SELECT NAME FROM STUDENT WHERE ID = \" + studentId,\n                           ResultStudent);\n   testDB.stop();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe Ballerina compiler will generate an error:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003etainted value passed to sensitive parameter 'sqlQuery'\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIn order to compile, the program is modified to use query parameters:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003ejdbc:Parameter paramId = {sqlType:jdbc:TYPE_VARCHAR, value:studentId};\nvar dt = testDB-\u0026gt;select(\"SELECT NAME FROM STUDENT WHERE ID = ?\", ResultStudent,\n                        paramId);\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eCommand-line arguments passed to Ballerina programs and inputs received through service resources are considered as tainted. Additionally, return values of certain functions are marked with the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@tainted\u003c/code\u003e annotation to denote that the resulting value should be considered untrusted data.\u003c/p\u003e\n\n\u003cp\u003eFor example, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eselect\u003c/code\u003e remote method of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejava:jdbc\u003c/code\u003e client highlighted above returns a \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@tainted table\u0026lt;record {}\u0026gt;|Error\u003c/code\u003e. This means that any value read from a database is considered untrusted.\u003c/p\u003e\n\n\u003cp\u003eWhen the Ballerina compiler can determine that a function is returning tainted data without tainted data being passed in as parameters to that function, it is required to annotate the functions return type as \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@tainted\u003c/code\u003e. If not, the function author has to clean up the data before returning it. For instance, if you are to read from the database and return that result, you either need to annotate that functions return type as \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@tainted\u003c/code\u003e or you have to clean up and make sure the returned data is not tainted.\u003c/p\u003e\n\n\u003ch3 id=\"securely-using-tainted-data-with-security-sensitive-parameters\"\u003eSecurely Using Tainted Data with Security-Sensitive Parameters\u003c/h3\u003e\n\n\u003cp\u003eThere can be certain situations where a tainted value must be passed into a security-sensitive parameter. In such situations, it is essential to do proper data validation or data sanitization to make sure the input does not result in a security threat. Once proper controls are in place, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@untainted\u003c/code\u003e annotation can be used with a type cast operator to denote that the value is trusted:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003e// Execute select query using the untrusted (tainted) student ID\nboolean isValid = isNumeric(studentId);\nif (isValid) {\n   var dt = testDB-\u0026gt;select(\"SELECT NAME FROM STUDENT WHERE ID = \" +\n                           \u0026lt;@untainted\u0026gt; studentId, ResultStudent);\n}\n// ...\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eAdditionally, return values can be annotated with\u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@untainted\u003c/code\u003e. This denotes that the return value should be trusted (even if the return value is derived from tainted data):\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003e// Execute the select query using the untrusted (tainted) student ID\nfunction sanitizeSortColumn (string columnName) returns @untainted string {\n   string sanitizedSortColumn = columnName;\n   // Insert sanitization logic to ensure that the return value is safe.\n   return sanitizedSortColumn;\n}\n// ...\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2 id=\"securing-passwords-and-secrets\"\u003eSecuring Passwords and Secrets\u003c/h2\u003e\n\n\u003cp\u003eBallerina provides an API to access configuration values from different sources. For more information, see \u003ca href=\"/1.2/learn/by-example/config-api.html\"\u003eConfig Ballerina by Example\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eConfiguration values containing passwords or secrets should be encrypted. The Ballerina Config API will decrypt such configuration values when being accessed.\u003c/p\u003e\n\n\u003cp\u003eUse the following command to encrypt a configuration value:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-cmd\"\u003e$ ballerina encrypt\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe encrypt command will prompt for the plain-text value to be encrypted and an encryption secret.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-cmd\"\u003e$ ballerina encrypt\nEnter value: \n\nEnter secret: \n\nRe-enter secret to verify: \n\nAdd the following to the configuration file:\n\u0026lt;key\u0026gt;=\"@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}\"\n\nOr provide it as a command line argument:\n--\u0026lt;key\u0026gt;=@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eBallerina uses AES, CBC mode with PKCS#5 padding for encryption. The generated encrypted value should be used in place of the plain-text configuration value.\u003c/p\u003e\n\n\u003cp\u003eFor example, contents of a configuration file that includes a secret value should look as follows:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003eapi.secret=\"@encrypted:{hcBLnR+b4iaGS9PEtCMSQOUXJQTQo+zknNxCkpZ0t7w=}\"\napi.provider=\"not-a-security-sensitive-value\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eWhen running a Ballerina program that uses encrypted configuration values, Ballerina will require the secret used during the encryption process to perform the decryption.\u003c/p\u003e\n\n\u003cp\u003eBallerina will first look for a file named \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esecret.txt\u003c/code\u003e. If such a file exists, Ballerina will read the decryption secret from the file and immediately remove the file to make sure the secret cannot be accessed afterward. If the secret file is not present, the Ballerina program will prompt for the decryption secret.\u003c/p\u003e\n\n\u003cp\u003eThe file based approach is useful in automated deployments. The file containing the decryption secret can be deployed along with the Ballerina program. The name and the path of the secret file can be configured using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerina.config.secret\u003c/code\u003e runtime parameter:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e$ ballerina run --b7a.config.secret=path/to/secret/file securing_configuration_values.bal\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch2 id=\"authentication-and-authorization\"\u003eAuthentication and Authorization\u003c/h2\u003e\n\n\u003ch3 id=\"inbound-authentication-and-authorization\"\u003eInbound Authentication and Authorization\u003c/h3\u003e\n\n\u003cp\u003eBallerina HTTP services can be configured to enforce authentication and authorization. Ballerina has built-in support for the following inbound authentication mechanisms whereas it is possible to add custom mechanisms:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eBasic authentication\u003c/li\u003e\n  \u003cli\u003eJWT authentication\u003c/li\u003e\n  \u003cli\u003eOAuth2 authentication\u003c/li\u003e\n  \u003cli\u003eLDAP authentication\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eBallerina inbound authentication is abstracted out into 2 layers called \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:InboundAuthProvider\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:InboundAuthProvider\u003c/code\u003e is a protocol-independent entity that only knows how to authenticate a user when the necessary information is provided. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e can be protocol dependent. Even-though the current focus is on HTTP, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerina/auth\u003c/code\u003e module can operate with other protocols as well.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e is used to perform HTTP-level actions, which are extracting the required HTTP header or body, extracting the credentials out of it, passing them into the associated \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:InboundAuthProvider\u003c/code\u003e, and getting the credentials validated. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:InboundAuthProvider\u003c/code\u003e is used to validate the credentials passed by the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eIn a particular authentication scheme, the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:InboundAuthProvider\u003c/code\u003e is initialized with the required configurations and it is passed to the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eNext, the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:InboundAuthHandler\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Listener\u003c/code\u003e configuration as follows, and the listener is initialized with authentication.\u003c/p\u003e\n\n\u003cp\u003eThe following example represents how a listener is secured with Basic Auth with the above-mentioned configurations.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/config;\n\nauth:InboundBasicAuthProvider basicAuthProvider = new;\nhttp:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [basicAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e It is a must to use HTTPS when enforcing authentication and authorization checks, to ensure the confidentiality of sensitive authentication data.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cp\u003eOptionally, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e attribute is configured for the authorization as follows. If it is not specified, that means the service is authorized for any authenticated user.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003elistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [authHandler],\n        scopes: [\"test-scope\"]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch4 id=\"inbound-advanced-use-cases\"\u003eInbound Advanced Use Cases\u003c/h4\u003e\n\n\u003ch5 id=\"using-multiple-auth-handlers\"\u003eUsing Multiple Auth Handlers\u003c/h5\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers\u003c/code\u003e can be configured for advanced use cases, which use multiple auth handlers as follows:\u003c/p\u003e\n\n\u003cp\u003eCase 1: Auth should be successful for \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler1\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler1\u003c/code\u003e.\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers: [authHandler1, authHandler2]\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eCase 2: Auth should be successful for \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler1\u003c/code\u003e AND \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler12\u003c/code\u003e.\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers: [[authHandler1], [authHandler2]]\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eCase 3: Auth should be successful for ((\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler1\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler2\u003c/code\u003e) AND (\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler3\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandler4\u003c/code\u003e)).\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers: [[authHandler1, authHandler2], [authHandler3, authHandler4]]\u003c/code\u003e\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003elistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [authHandler1, authHandler2]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"using-multiple-scopes\"\u003eUsing Multiple Scopes\u003c/h5\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e can be configured for advanced use cases as follows:\u003c/p\u003e\n\n\u003cp\u003eCase 1: Auth should be successful for \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-1\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-2\u003c/code\u003e.\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes: [\"scopes-1\", \"scopes-2\"]\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eCase 2: Auth should be successful for \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-1\u003c/code\u003e AND \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-2\u003c/code\u003e.\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes: [[\"scopes-1\"], [\"scopes-2\"]]\u003c/code\u003e\u003c/p\u003e\n\n\u003cp\u003eCase 3: Auth should be successful for ((\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-1\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-2\u003c/code\u003e) AND (\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-3\u003c/code\u003e OR \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope-4\u003c/code\u003e)).\n\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes: [[\"scopes-1\", \"scopes-2\"], [\"scopes-3\", \"scopes-4\"]]\u003c/code\u003e\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003elistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [authHandler],\n        scopes: [\"scopes-1\", \"scopes-2\"]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"per-resource-and-per-service-customization\"\u003ePer-Resource and Per-Service Customization\u003c/h5\u003e\n\n\u003cp\u003eThe security enforcements can be customized by the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@http:ServiceConfig\u003c/code\u003e annotation and the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@http:ResourceConfig\u003c/code\u003e annotation.\u003c/p\u003e\n\n\u003cp\u003eFor example, authentication and authorization can be modified for a particular service as follows by configuring the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth\u003c/code\u003e attribute of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@http:ServiceConfig\u003c/code\u003e.\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003eAuthentication can be disabled only for a particular service by using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eenabled\u003c/code\u003e attribute\u003c/li\u003e\n  \u003cli\u003eThe authentication mechanism can be changed for a particular service by using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers\u003c/code\u003e attribute\u003c/li\u003e\n  \u003cli\u003eAuthorization scopes can be changed for a particular service by using the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e attribute\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003e@http:ServiceConfig {\n    basePath: \"/hello\",\n    auth: {\n        enabled: false,\n        authHandlers: [authHandlerA],\n        scopes: [\"scope-A\"]\n    }\n}\nservice helloWorld on secureHelloWorldEp {\n// ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eFurther, authentication and authorization can be modified for a particular resource as follows by configuring the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth\u003c/code\u003e attribute of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e@http:ResourceConfig\u003c/code\u003e:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003e@http:ResourceConfig {\n    basePath: \"/\",\n    auth: {\n        enabled: false,\n        authHandlers: [authHandlerA],\n        scopes: [\"scope-A\"]\n    }\n}\nresource function sayHello (http:Caller caller, http:Request req) {\n// ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe same configuration patterns used for the listener-level configurations are applied for \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauthHandlers\u003c/code\u003e and the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e attributes in service-level configurations and resource-level configurations.\u003c/p\u003e\n\n\u003ch5 id=\"implementing-inbound-custom-authentication-mechanism\"\u003eImplementing Inbound Custom Authentication Mechanism\u003c/h5\u003e\n\n\u003cp\u003eThe user can implement a custom version of AuthHandler and AuthProvider with the use of the object-equivalency pattern as follows. With that, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Listener\u003c/code\u003e can be enforced with custom authentication and authorization mechanisms.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003epublic type InboundCustomAuthHandler object {\n\n    *http:InboundAuthHandler;\n\n    public function canProcess(http:Request req) returns @tainted boolean {\n        // Custom logic to check whether the request can be processed.\n    }\n    \n    public function process(http:Request req) returns boolean|http:AuthenticationError {\n        // Custom logic to process the request, extract the credentials, and get them validated from the AuthProvider.\n    }\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003epublic type InboundCustomAuthProvider object {\n\n    *auth:InboundAuthProvider;\n\n    public function authenticate(string credential) returns boolean|auth:Error {\n        // Custom logic to authenticate the given credentials.\n    }\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"disable-https-enforcement\"\u003eDisable HTTPS Enforcement\u003c/h5\u003e\n\n\u003cp\u003eThe enforcement of HTTPS can be disabled by configuring the value \u003ccode class=\"language-plaintext highlighter-rouge\"\u003emandateSecureSocket\u003c/code\u003e into \u003ccode class=\"language-plaintext highlighter-rouge\"\u003efalse\u003c/code\u003e as follows:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003elistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [authHandler],\n        mandateSecureSocket: false\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"modify-authorization-or-authentication-filter-index\"\u003eModify Authorization or Authentication Filter Index\u003c/h5\u003e\n\n\u003cp\u003eThe authn/authz filters are engaged as the top most filters of the filter array, which is configured in the HTTP listener configuration. The uer can configure the index of the authn/authz filters if it is needed to engage a custom filter before the authn/authz filters.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eposition\u003c/code\u003e attribute represents the authn/authz filter position of the filter array. The position values starts from 0 and it is set to 0 implicitly.\u003c/p\u003e\n\n\u003cp\u003eThe following example engages the authn/authz filters in between the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecustomFilter1\u003c/code\u003e and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecustomFilter2\u003c/code\u003e. Then, the internally-updated filter chain would be \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e[customFilter1, authnFilter, authzFilter, customFilter2]\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003elistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [authHandler],\n        position: 1\n    },\n    filters: [customFilter1, customFilter2],\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nservice helloWorld on secureHelloWorldEp {\n// ....\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch4 id=\"jwt-inbound-authentication-and-authorization\"\u003eJWT Inbound Authentication and Authorization\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports JWT Authentication and Authorization for services. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e is used to extract the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header from the request and extract the credential from the header value which is \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBearer \u0026lt;token\u0026gt;\u003c/code\u003e. Then the extracted credential will be passed to the initialized AuthProvider and validated. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:InboundJwtAuthProvider\u003c/code\u003e is used to validate the credentials (JWT) passed by the AuthHandler against the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtValidatorConfig\u003c/code\u003e provided by the user.\u003c/p\u003e\n\n\u003cp\u003eJWT validation requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtValidatorConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eissuer\u003c/code\u003e - The issuer of the JWT\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eaudience\u003c/code\u003e - The audience value for the current service\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclockSkewInSeconds\u003c/code\u003e - Clock skew in seconds that can be used to avoid token validation failures due to clock synchronization problems\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etrustStoreConfig\u003c/code\u003e - JWT trust store configurations\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etrustStore\u003c/code\u003e - Trust store used for signature verification\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecertificateAlias\u003c/code\u003e - Token-signed public key certificate alias\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwtCache\u003c/code\u003e - Cache used to store parsed JWT information as \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eCachedJwt\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtValidatorConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:InboundJwtAuthProvider\u003c/code\u003e when initializing. The initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:InboundJwtAuthProvider\u003c/code\u003e is passed to the `http:BearerAuthHandler.\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e For demonstration purposes, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerinaTruststore.p12\u003c/code\u003e included with Ballerina runtime is used. In a production deployment, the truststore should only contain the public key certificates of the trusted JWT issuers.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/jwt;\nimport ballerina/config;\n\njwt:InboundJwtAuthProvider jwtAuthProvider = new({\n    issuer: \"ballerina\",\n    audience: [\"ballerina.io\"],\n    trustStoreConfig: {\n        certificateAlias: \"ballerina\",\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nhttp:BearerAuthHandler jwtAuthHandler = new(jwtAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [jwtAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\"\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\",\n        auth:{\n            scopes:[\"hello\"],\n            enabled: true\n        }\n    }\n    resource function sayHello(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Hello, World!\");\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eWhen the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; \n\u0026lt; HTTP/1.1 401 Unauthorized\n\u0026lt; content-type: text/plain\n\u0026lt; \nAuthentication failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIf a request is made with a valid, signed JWT but without the expected \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope\u003c/code\u003e, an authorization failure will occur. An example of a JWT without the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope\u003c/code\u003e attribute is as follows.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e{\n  \"sub\": \"ballerina\",\n  \"iss\": \"ballerina\",\n  \"exp\": 2818415019,\n  \"iat\": 1524575019,\n  \"jti\": \"f5aded50585c46f2b8ca233d0c2a3c9d\",\n  \"aud\": [\n    \"ballerina\",\n    \"Ballerina.org\",\n    \"ballerina.io\"\n  ]\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H \"Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwianRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiYmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdfQ.X2mHWCr8A5UaJFvjSPUammACnTzFsTdre-P5yWQgrwLBmfcpr9JaUuq4sEwp6to3xSKN7u9QKqRLuWH1SlcphDQn6kdF1ZrCgXRQ0HQTilZQU1hllZ4c7yMNtMgMIaPgEBrStLX1Ufr6LpDkTA4VeaPCSqstHt9WbRzIoPQ1fCxjvHBP17ShiGPRza9p_Z4t897s40aQMKbKLqLQ8rEaYAcsoRBXYyUhb_PRS-YZtIdo7iVmkMVFjYjHvmYbpYhNo57Z1Y5dNa8h8-4ON4CXzcJ1RzuyuFVz1a3YL3gWTsiliVmno7vKyRo8utirDRIPi0dPJPuWi2uMtJkqdkpzJQ\"\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization:Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJ\npbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwian\nRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiY\nmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdfQ.X2mHWCr8A5UaJFvjSPUammACnTzFsTdre-P5y\nWQgrwLBmfcpr9JaUuq4sEwp6to3xSKN7u9QKqRLuWH1SlcphDQn6kdF1ZrCgXRQ0HQTilZQU1hllZ4c\n7yMNtMgMIaPgEBrStLX1Ufr6LpDkTA4VeaPCSqstHt9WbRzIoPQ1fCxjvHBP17ShiGPRza9p_Z4t897\ns40aQMKbKLqLQ8rEaYAcsoRBXYyUhb_PRS-YZtIdo7iVmkMVFjYjHvmYbpYhNo57Z1Y5dNa8h8-4ON4\nCXzcJ1RzuyuFVz1a3YL3gWTsiliVmno7vKyRo8utirDRIPi0dPJPuWi2uMtJkqdkpzJQ\n\u0026gt;\n\n\u0026lt; HTTP/1.1 403 Forbidden\n\u0026lt; content-type: text/plain\n\u0026lt;\nAuthorization failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eA request with a correct scope attribute will result in a successful invocation. An example of a JWT that has the correct scope attribute is as follows.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e{\n  \"sub\": \"ballerina\",\n  \"iss\": \"ballerina\",\n  \"exp\": 2818415019,\n  \"iat\": 1524575019,\n  \"jti\": \"f5aded50585c46f2b8ca233d0c2a3c9d\",\n  \"aud\": [\n    \"ballerina\",\n    \"ballerina.org\",\n    \"ballerina.io\"\n  ],\n  \"scope\": \"hello\"\n}\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H 'Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZXJpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwianRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwiYmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdLCJzY29wZSI6ImhlbGxvIn0.bNoqz9_DzgeKSK6ru3DnKL7NiNbY32ksXPYrh6Jp0_O3ST7WfXMs9WVkx6Q2TiYukMAGrnMUFrJnrJvZwC3glAmRBrl4BYCbQ0c5mCbgM9qhhCjC1tBA50rjtLAtRW-JTRpCKS0B9_EmlVKfvXPKDLIpM5hnfhOin1R3lJCPspJ2ey_Ho6fDhsKE3DZgssvgPgI9PBItnkipQ3CqqXWhV-RFBkVBEGPDYXTUVGbXhdNOBSwKw5ZoVJrCUiNG5XD0K4sgN9udVTi3EMKNMnVQaq399k6RYPAy3vIhByS6QZtRjOG8X93WJw-9GLiHvcabuid80lnrs2-mAEcstgiHVw'\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiYWxsZX\nJpbmEiLCJpc3MiOiJiYWxsZXJpbmEiLCJleHAiOjI4MTg0MTUwMTksImlhdCI6MTUyNDU3NTAxOSwia\nnRpIjoiZjVhZGVkNTA1ODVjNDZmMmI4Y2EyMzNkMGMyYTNjOWQiLCJhdWQiOlsiYmFsbGVyaW5hIiwi\nYmFsbGVyaW5hLm9yZyIsImJhbGxlcmluYS5pbyJdLCJzY29wZSI6ImhlbGxvIn0.bNoqz9_DzgeKSK6\nru3DnKL7NiNbY32ksXPYrh6Jp0_O3ST7WfXMs9WVkx6Q2TiYukMAGrnMUFrJnrJvZwC3glAmRBrl4BY\nCbQ0c5mCbgM9qhhCjC1tBA50rjtLAtRW-JTRpCKS0B9_EmlVKfvXPKDLIpM5hnfhOin1R3lJCPspJ2e\ny_Ho6fDhsKE3DZgssvgPgI9PBItnkipQ3CqqXWhV-RFBkVBEGPDYXTUVGbXhdNOBSwKw5ZoVJrCUiNG\n5XD0K4sgN9udVTi3EMKNMnVQaq399k6RYPAy3vIhByS6QZtRjOG8X93WJw-9GLiHvcabuid80lnrs2-\nmAEcstgiHVw\n\u0026gt;\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt;\nHello, World!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4 id=\"oauth2-inbound-authentication-and-authorization\"\u003eOAuth2 Inbound Authentication and Authorization\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports OAuth2 Authentication and Authorization for services. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e is used to extract the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header from the request and extract the credentials from the header value, which is the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBearer \u0026lt;token\u0026gt;\u003c/code\u003e. Then, the extracted credentials will be passed to the initialized AuthProvider to get them validated. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:InboundOAuth2Provider\u003c/code\u003e is used to validate the credentials passed by the AuthHandler against the introspection endpoint configured at \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:IntrospectionServerConfig\u003c/code\u003e, which is provided by the user.\u003c/p\u003e\n\n\u003cp\u003eOAuth2 token validation requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:IntrospectionServerConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eurl\u003c/code\u003e - URL of the introspection server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etokenTypeHint\u003c/code\u003e - A hint about the type of the token submitted for introspection\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientConfig\u003c/code\u003e - HTTP client configurations, which calls the introspection server\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:IntrospectionServerConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:InboundOAuth2Provider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:InboundOAuth2Provider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/oauth2;\nimport ballerina/config;\n\noauth2:InboundOAuth2Provider oauth2Provider = new({\n    url: \"https://localhost:9196/oauth2/token/introspect\",\n    tokenTypeHint: \"access_token\"\n});\nhttp:BearerAuthHandler oauth2Handler = new(oauth2Provider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [oauth2Handler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\"\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function sayHello(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Hello, World!\");\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eWhen the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; \n\u0026lt; HTTP/1.1 401 Unauthorized\n\u0026lt; content-type: text/plain\n\u0026lt; \nAuthentication failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAlthough a request is made with valid authentication information, if the introspection endpoint does not respond either with the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope\u003c/code\u003e attribute of the response JSON payload or with an unexpected \u003ccode class=\"language-plaintext highlighter-rouge\"\u003escope\u003c/code\u003e attribute, an authorization failure will occur.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H \"Authorization:Bearer \u0026lt;token\u0026gt;\"\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization:Bearer \u0026lt;token\u0026gt;\n\u0026gt;\n\n\u0026lt; HTTP/1.1 403 Forbidden\n\u0026lt; content-type: text/plain\n\u0026lt;\nAuthorization failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eA request, which gets a successful response from the introspection endpoint with a correct scope attribute will result in a successful invocation.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H 'Authorization: Bearer \u0026lt;token\u0026gt;'\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization: Bearer \u0026lt;token\u0026gt;\n\u0026gt;\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt;\nHello, World!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4 id=\"ldap-inbound-authentication-and-authorization\"\u003eLDAP Inbound Authentication and Authorization\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports LDAP Authentication and Authorization for services. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BasicAuthHandler\u003c/code\u003e is used to extract the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header from the request and extract the credentials from the header value, which is \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBasic \u0026lt;token\u0026gt;\u003c/code\u003e. Then, the extracted credentials will be passed to the initialized AuthProvider to get validated. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:InboundLdapAuthProvider\u003c/code\u003e is used to validate the credentials passed by the AuthHandler against the LDAP server configured at \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:LdapConnectionConfig\u003c/code\u003e, which is provided by the user.\u003c/p\u003e\n\n\u003cp\u003eLDAP token validation requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:LdapConnectionConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003edomainName\u003c/code\u003e - Unique name to identify the user store\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003econnectionURL\u003c/code\u003e - Connection URL to the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003econnectionName\u003c/code\u003e - The username to connect to the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003econnectionPassword\u003c/code\u003e - Password for the ConnectionName user\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserSearchBase\u003c/code\u003e - DN of the context or object under which the user entries are stored in the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserEntryObjectClass\u003c/code\u003e - Object class used to construct user entries\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserNameAttribute\u003c/code\u003e - The attribute used for uniquely identifying a user entry\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserNameSearchFilter\u003c/code\u003e - Filtering criteria used to search for a particular user entry\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserNameListFilter\u003c/code\u003e - Filtering criteria for searching user entries in the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egroupSearchBase\u003c/code\u003e - DN of the context or object under which the group entries are stored in the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egroupEntryObjectClass\u003c/code\u003e - Object class used to construct group entries\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egroupNameAttribute\u003c/code\u003e - The attribute used for uniquely identifying a group entry\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egroupNameSearchFilter\u003c/code\u003e - Filtering criteria used to search for a particular group entry\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003egroupNameListFilter\u003c/code\u003e - Filtering criteria for searching group entries in the LDAP server\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003emembershipAttribute\u003c/code\u003e - Define the attribute that contains the distinguished names (DN) of user objects that are in a group\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003euserRolesCacheEnabled\u003c/code\u003e -  To indicate whether to cache the role list of a user\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003econnectionPoolingEnabled\u003c/code\u003e - Define whether LDAP connection pooling is enabled\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003econnectionTimeoutInMillis\u003c/code\u003e - Timeout in making the initial LDAP connection\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ereadTimeoutInMillis\u003c/code\u003e -  Read timeout in milliseconds for LDAP operations\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eretryAttempts\u003c/code\u003e - Retry the authentication request if a timeout happened\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003esecureClientSocket\u003c/code\u003e - The SSL configurations for the LDAP client socket. This needs to be configured in order to communicate through LDAPs\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:LdapConnectionConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:InboundLdapAuthProvider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eldap:InboundLdapAuthProvider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BasicAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/ldap;\nimport ballerina/config;\n\nldap:LdapConnectionConfig ldapConfig = {\n    domainName: \"ballerina.io\",\n    connectionURL: \"ldap://localhost:20100\",\n    connectionName: \"uid=admin,ou=system\",\n    connectionPassword: \"secret\",\n    userSearchBase: \"ou=Users,dc=ballerina,dc=io\",\n    userEntryObjectClass: \"identityPerson\",\n    userNameAttribute: \"uid\",\n    userNameSearchFilter: \"(\u0026amp;(objectClass=person)(uid=?))\",\n    userNameListFilter: \"(objectClass=person)\",\n    groupSearchBase: [\"ou=Groups,dc=ballerina,dc=io\"],\n    groupEntryObjectClass: \"groupOfNames\",\n    groupNameAttribute: \"cn\",\n    groupNameSearchFilter: \"(\u0026amp;(objectClass=groupOfNames)(cn=?))\",\n    groupNameListFilter: \"(objectClass=groupOfNames)\",\n    membershipAttribute: \"member\",\n    userRolesCacheEnabled: true,\n    connectionPoolingEnabled: false,\n    connectionTimeoutInMillis: 5000,\n    readTimeoutInMillis: 60000,\n    retryAttempts: 3\n};\nldap:InboundLdapAuthProvider ldapAuthProvider = new(ldapConfig, \"ldap01\");\nhttp:BasicAuthHandler ldapAuthHandler = new(ldapAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [ldapAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\",\n    auth: {\n        scopes: [\"hello\"]\n    }\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function sayHello(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Hello, World!\");\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eWhen the service is invoked without authentication information or invalid authentication information, an authentication failure will occur:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; \n\u0026lt; HTTP/1.1 401 Unauthorized\n\u0026lt; content-type: text/plain\n\u0026lt; \nAuthentication failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eIf a request is made with valid authentication information but the LDAP server responds with an empty group list or unexpected scopes, an authorization failure will occur.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H \"Authorization: Basic \u0026lt;token\u0026gt;\"\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization:Bearer \u0026lt;token\u0026gt;\n\u0026gt;\n\n\u0026lt; HTTP/1.1 403 Forbidden\n\u0026lt; content-type: text/plain\n\u0026lt;\nAuthorization failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eA request, which gets a successful response from the LDAP server for the scope request will result in a successful invocation.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v https://localhost:9091/hello -H 'Authorization: Basic \u0026lt;token\u0026gt;'\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\u0026gt; Authorization: Bearer \u0026lt;token\u0026gt;\n\u0026gt;\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt;\nHello, World!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch4 id=\"basic-auth-inbound-authentication-and-authorization\"\u003eBasic Auth Inbound Authentication and Authorization\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports Basic Authentication and Authorization for services. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BasicAuthHandler\u003c/code\u003e is used to extract the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header from the request and extract the credential from the header value, which is the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBasic \u0026lt;token\u0026gt;\u003c/code\u003e. Then, the extracted credentials will be passed to the initialized AuthProvider and gets validated. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:InboundBasicAuthProvider\u003c/code\u003e is used to read the user information from the configuration file and authenticate the credentials passed by the AuthHandler.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/config;\n\nauth:InboundBasicAuthProvider basicAuthProvider = new;\nhttp:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [basicAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\",\n    auth: {\n        scopes: [\"hello\"]\n    }\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function sayHello(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Hello, World!\");\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eTo enforce Basic Authentication, users and scopes should be configured through a configuration file. The following example file introduces two users. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003egeneralUser\u003c/code\u003e has no scopes and the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eadmin\u003c/code\u003e user has the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehello\u003c/code\u003e scope.\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003esample-users.toml\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e[b7a.users]\n\n[b7a.users.generalUser]\npassword=\"@encrypted:{pIQrB9YfCQK1eIWH5d6UaZXA3zr+60JxSBcpa2PY7a8=}\"\n\n[b7a.users.admin]\npassword=\"@encrypted:{pIQrB9YfCQK1eIWH5d6UaZXA3zr+60JxSBcpa2PY7a8=}\"\nscopes=\"hello\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eRestart the service using the following command.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003eballerina run --config sample-users.toml basic_auth_sample.bal\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eSince passwords are encrypted, the Config API will request the decryption key. Use \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerina\u003c/code\u003e as the decryption key in this sample.\u003c/p\u003e\n\n\u003cp\u003eAlso, the passwords can be hashed and provided with the configuration file. The following example file introduces three users along with the passwords hashed with \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esha256\u003c/code\u003e, \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esha384\u003c/code\u003e, and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esha512\u003c/code\u003e hashing algorithms.\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003esample-users.toml\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e[b7a.users]\n\n[b7a.users.userA]\npassword=\"@sha256:{cd2eb0837c9b4c962c22d2ff8b5441b7b45805887f051d39bf133b583baf6860}\"\n\n[b7a.users.userB]\npassword=\"@sha384:{1249e15f035ed34786a328d9fdb2689ab24f7c7b253d1b7f66ed92a679d663dd502d7beda59973e8c91a728b929fc8cd}\"\n\n[b7a.users.userC]\npassword=\"@sha512:{9057ff1aa9509b2a0af624d687461d2bbeb07e2f37d953b1ce4a9dc921a7f19c45dc35d7c5363b373792add57d0d7dc41596e1c585d6ef7844cdf8ae87af443f}\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eOnce the service is restarted with the first configuration file in place, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003egeneralUser\u003c/code\u003e will not be able to invoke the service due to authorization failure:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v -u generalUser:password https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\n\u0026lt; HTTP/1.1 403 Forbidden\n\u0026lt; content-type: text/plain\n\u0026lt;\nAuthorization failure\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eAdmin users will be able to invoke the service:\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v -u admin:password https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; User-Agent: curl/7.47.0\n\u0026gt; Accept: */*\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt;\nHello, World!\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003chr /\u003e\n\n\u003ch3 id=\"outbound-authentication-and-authorization\"\u003eOutbound Authentication and Authorization\u003c/h3\u003e\n\n\u003cp\u003eThe Ballerina HTTP client can be configured to send authentication and authorization information to the endpoint being invoked. Ballerina has built-in support for the following outbound authentication mechanisms, whereas it is possible to add custom mechanisms:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eBasic authentication\u003c/li\u003e\n  \u003cli\u003eJWT authentication\u003c/li\u003e\n  \u003cli\u003eOAuth2 authentication\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eBallerina outbound authentication is also abstracted out into 2 layers called \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:OutboundAuthHandler\u003c/code\u003e and \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e is a protocol-independent entity, which only knows how to generate credentials with the necessary information provided by the user. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:OutboundAuthHandler\u003c/code\u003e can be protocol dependent. Even-though the current focus is on HTTP, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eballerina/auth\u003c/code\u003e module can operate with other protocols as well.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e is used to create the credentials according to the provided configurations. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:OutboundAuthHandler\u003c/code\u003e is used to get the created credentials from the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e and perform HTTP-level actions, which are adding the required HTTP headers or body using the received credentials.\u003c/p\u003e\n\n\u003cp\u003eIn a particular authentication scheme, the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e is initialized with required configurations and it is passed to the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:OutboundAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eNext, the implemented instance of the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:OutboundAuthHandler\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Client\u003c/code\u003e configuration as follows, and the client is initialized with authentication.\u003c/p\u003e\n\n\u003cp\u003eThe following example represents how a client is secured with Basic Auth with the above-mentioned configurations.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/config;\n\nauth:OutboundBasicProvider basicAuthProvider = new({\n    username: \"user\",\n    password: \"ballerina\"\n});\nhttp:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);\n\nhttp:Client secureHelloWorldClient = new(\"https://localhost:9092\", {\n    auth: {\n        authHandler: basicAuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e It is better to use HTTPS when enforcing authentication and authorization checks to ensure the confidentiality of sensitive authentication data.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003ch4 id=\"outbound-advanced-use-cases\"\u003eOutbound Advanced Use Cases\u003c/h4\u003e\n\n\u003ch5 id=\"implementing-outbound-custom-authentication-mechanism\"\u003eImplementing Outbound Custom Authentication Mechanism\u003c/h5\u003e\n\n\u003cp\u003eThe user can implement a custom version of the AuthHandler and AuthProvider with the use of the object equivalency pattern as follows. With that, the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Client\u003c/code\u003e can be enforced with custom authentication and authorization mechanisms.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003epublic type OutboundCustomAuthHandler object {\n\n    *http:OutboundAuthHandler;\n\n    public function prepare(http:Request req) returns http:Request|http:AuthenticationError {\n        // Custom logic to prepare the request.\n    }\n\n    public function inspect(http:Request req, http:Response resp) returns http:Request|http:AuthenticationError? {\n        // Custom logic to inspect the request after the initial outbound call.\n    }\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003epublic type OutboundCustomAuthProvider object {\n\n    *auth:OutboundAuthProvider;\n\n    public function generateToken() returns string|auth:Error {\n        // Custom logic to generate the token. \n    }\n\n    public function inspect(map\u0026lt;anydata\u0026gt; data) returns string|auth:Error? {\n        // Custom logic to inspect the data map received from the AuthHandler. \n    }\n};\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch4 id=\"jwt-outbound-authentication\"\u003eJWT Outbound Authentication\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports JWT Authentication for clients. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:OutboundJwtAuthProvider\u003c/code\u003e is used to issue a JWT against the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtIssuerConfig\u003c/code\u003e provided by the user. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e is used to add the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header with the value received from the AuthProvider as the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBearer \u0026lt;token\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eJWT issuing requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtIssuerConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eusername\u003c/code\u003e - JWT token username\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eissuer\u003c/code\u003e - JWT token issuer\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eaudience\u003c/code\u003e - JWT token audience\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecustomClaims\u003c/code\u003e - Map of custom claims\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eexpTime\u003c/code\u003e - JWT token expiry time\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ekeyStoreConfig\u003c/code\u003e - JWT key store configurations\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ekeyStore\u003c/code\u003e - Keystore to be used in JWT signing\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ekeyAlias\u003c/code\u003e - Signing key alias\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ekeyPassword\u003c/code\u003e - Signing key password\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003esigningAlg\u003c/code\u003e - JWT signing algorithm\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:RS256\u003c/code\u003e - The RSA-SHA256 algorithm\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:RS384\u003c/code\u003e - The RSA-SHA384 algorithm\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:RS512\u003c/code\u003e - The RSA-SHA512 algorithm\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:NONE\u003c/code\u003e - Unsecured JWTs (no signing)\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:JwtIssuerConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:OutboundJwtAuthProvider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:OutboundJwtAuthProvider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/jwt;\nimport ballerina/config;\n\njwt:OutboundJwtAuthProvider jwtAuthProvider = new({\n    username: \"ballerinaUser\",\n    issuer: \"ballerina\",\n    audience: [\"ballerina.io\"],\n    keyStoreConfig: {\n        keyAlias: \"ballerina\",\n        keyPassword: \"ballerina\",\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nhttp:BearerAuthHandler jwtAuthHandler = new(jwtAuthProvider);\n\nhttp:Client downstreamServiceEP = new(\"https://localhost:9091\", {\n    auth: {\n        authHandler: jwtAuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Client\u003c/code\u003e defined in the program calls the the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Listener\u003c/code\u003e, which is secured with JWT authentication (For more information, see the example added under JWT inbound authentication).\u003c/p\u003e\n\n\u003ch4 id=\"oauth2-outbound-authentication\"\u003eOAuth2 Outbound Authentication\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports OAuth2 Authentication for clients. It supports the Client Credentials grant type, Password grant type, and Direct Token mode, in which, the credentials can be provided manually and after that refreshing is handled internally.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e is used to create a token against the configuration provided by the user. It can be the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:ClientCredentialsGrantConfig\u003c/code\u003e, \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:PasswordGrantConfig\u003c/code\u003e, or \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:DirectTokenConfig\u003c/code\u003e according to the grant type that is required by the user. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e is used to add the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header with the value received from the AuthProvider as the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBearer \u0026lt;token\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\n\u003ch5 id=\"client-credentials-grant-type\"\u003eClient Credentials Grant Type\u003c/h5\u003e\n\n\u003cp\u003eOAuth2 token issuing requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:ClientCredentialsGrantConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etokenUrl\u003c/code\u003e - Token URL for the authorization endpoint\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientId\u003c/code\u003e - Client ID for the client credentials grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientSecret\u003c/code\u003e - Client secret for the client credentials grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e - Scope of the access request\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclockSkewInSeconds\u003c/code\u003e - Clock skew in seconds\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eretryRequest\u003c/code\u003e - Retry the request if the initial request returns a 401 response\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecredentialBearer\u003c/code\u003e - How authentication credentials are sent to the authorization endpoint\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:AUTH_HEADER_BEARER\u003c/code\u003e - Indicates that the authentication credentials should be sent via the Authentication Header\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:POST_BODY_BEARER | NO_BEARER\u003c/code\u003e - Indicates that the Authentication credentials should be sent via the body of the POST request\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientConfig\u003c/code\u003e - HTTP client configurations,which calls the authorization endpoint\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:ClientCredentialsGrantConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/oauth2;\nimport ballerina/config;\n\noauth2:OutboundOAuth2Provider oauth2Provider = new({\n    tokenUrl: \"https://localhost:9196/oauth2/token/authorize\",\n    clientId: \"3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68\",\n    clientSecret: \"9205371918321623741\",\n    scopes: [\"token-scope1\", \"token-scope2\"]\n});\nhttp:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);\n\nhttp:Client downstreamServiceEP = new(\"https://localhost:9091\", {\n    auth: {\n        authHandler: oauth2AuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"password-grant-type\"\u003ePassword Grant Type\u003c/h5\u003e\n\n\u003cp\u003eOAuth2 token issuing requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:PasswordGrantConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003etokenUrl\u003c/code\u003e - Token URL for the authorization endpoint\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eusername\u003c/code\u003e - Username for password grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003epassword\u003c/code\u003e - Password for password grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientId\u003c/code\u003e - Client ID for password grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientSecret\u003c/code\u003e - Client secret for password grant authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e - Scope of the access request\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003erefreshConfig\u003c/code\u003e - Configurations for refreshing the access token\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003erefreshUrl\u003c/code\u003e - Refresh token URL for the refresh token server\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e - Scope of the access request\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecredentialBearer\u003c/code\u003e - How authentication credentials are sent to the authorization endpoint\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientConfig\u003c/code\u003e - HTTP client configurations, which calls the authorization endpoint\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclockSkewInSeconds\u003c/code\u003e - Clock skew in seconds\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eretryRequest\u003c/code\u003e - Retry the request if the initial request returns a 401 response\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecredentialBearer\u003c/code\u003e - How authentication credentials are sent to the authorization endpoint\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:AUTH_HEADER_BEARER\u003c/code\u003e - Indicates that the authentication credentials should be sent via the Authentication Header\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:POST_BODY_BEARER|NO_BEARER\u003c/code\u003e - Indicates that the Authentication credentials should be sent via the body of the POST request\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientConfig\u003c/code\u003e - HTTP client configurations, which calls the authorization endpoint\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:PasswordGrantConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/oauth2;\nimport ballerina/config;\n\noauth2:OutboundOAuth2Provider oauth2Provider = new({\n    tokenUrl: \"https://localhost:9196/oauth2/token/authorize\",\n    username: \"johndoe\",\n    password: \"A3ddj3w\",\n    clientId: \"3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68\",\n    clientSecret: \"9205371918321623741\",\n    scopes: [\"token-scope1\", \"token-scope2\"],\n    refreshConfig: {\n        refreshUrl: \"https://localhost:9196/oauth2/token/refresh\",\n        scopes: [\"token-scope1\", \"token-scope2\"]\n    }\n});\nhttp:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);\n\nhttp:Client downstreamServiceEP = new(\"https://localhost:9091\", {\n    auth: {\n        authHandler: oauth2AuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch5 id=\"direct-token-mode\"\u003eDirect Token Mode\u003c/h5\u003e\n\n\u003cp\u003eOAuth2 token issuing requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:DirectTokenConfig\u003c/code\u003e including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eaccessToken\u003c/code\u003e - Access token for the authorization endpoint\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003erefreshConfig\u003c/code\u003e - Configurations for refreshing the access token\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003erefreshUrl\u003c/code\u003e - Refresh token URL for the refresh token server\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003erefreshToken\u003c/code\u003e - Refresh token for the refresh token server\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientId\u003c/code\u003e - Client ID for authentication with the authorization endpoint\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientSecret\u003c/code\u003e - Client secret for authentication with the authorization endpoint\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003escopes\u003c/code\u003e - Scope of the access request\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecredentialBearer\u003c/code\u003e - How authentication credentials are sent to the authorization endpoint\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclientConfig\u003c/code\u003e - HTTP client configurations, which calls the authorization endpoint\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eclockSkewInSeconds\u003c/code\u003e - Clock skew in seconds\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eretryRequest\u003c/code\u003e - Retry the request if the initial request returns a 401 response\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ecredentialBearer\u003c/code\u003e - How authentication credentials are sent to the authorization endpoint\n    \u003cul\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:AUTH_HEADER_BEARER\u003c/code\u003e - Indicates that the authentication credentials should be sent via the Authentication Header\u003c/li\u003e\n      \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:POST_BODY_BEARER|NO_BEARER\u003c/code\u003e - Indicates that the Authentication credentials should be sent via the body of the POST request\u003c/li\u003e\n    \u003c/ul\u003e\n  \u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:DirectTokenConfig\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eoauth2:OutboundOAuth2Provider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BearerAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/http;\nimport ballerina/oauth2;\n\noauth2:OutboundOAuth2Provider oauth2Provider = new({\n    accessToken: \"34060588-dd4e-36a5-ad93-440cc77a1cfb\",\n    refreshConfig: {\n        refreshToken: \"15160398-ae07-71b1-aea1-411ece712e59\",\n        refreshUrl: \"https://ballerina.io/sample/refresh\",\n        clientId: \"rgfKVdnMQnJSSr_pKFTxj3apiwYa\",\n        clientSecret: \"BRebJ0aqfclQB9v7yZwhj0JfW0ga\"\n    }\n});\nhttp:BearerAuthHandler oauth2AuthHandler = new(oauth2Provider);\n\nhttp:Client downstreamServiceEP = new(\"https://localhost:9091\", {\n    auth: {\n        authHandler: oauth2AuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch4 id=\"basic-auth-outbound-authentication\"\u003eBasic Auth Outbound Authentication\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports Basic Authentication for clients. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundBasicAuthProvider\u003c/code\u003e is used to create a token against the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:Credential\u003c/code\u003e provided by the user. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BasicAuthHandler\u003c/code\u003e is used to add the HTTP \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eAuthorization\u003c/code\u003e header with the value received from the AuthProvider as the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eBasic \u0026lt;token\u0026gt;\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eToken issuing requires several additional configurations for the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:Credential\u003c/code\u003e config including:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003eusername\u003c/code\u003e - The username for Basic authentication\u003c/li\u003e\n  \u003cli\u003e\u003ccode class=\"language-plaintext highlighter-rouge\"\u003epassword\u003c/code\u003e - The password for Basic authentication\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:Credential\u003c/code\u003e record should be provided into the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundBasicAuthProvider\u003c/code\u003e when initializing and the initialized \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundBasicAuthProvider\u003c/code\u003e is passed to the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:BasicAuthHandler\u003c/code\u003e.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/config;\n\nauth:OutboundBasicProvider basicAuthProvider = new({\n    username: \"user\",\n    password: \"ballerina\"\n});\nhttp:BasicAuthHandler basicAuthHandler = new(basicAuthProvider);\n\nhttp:Client downstreamServiceEP = new(\"https://localhost:9091\", {\n    auth: {\n        authHandler: basicAuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch4 id=\"token-propagation-for-outbound-authentication\"\u003eToken Propagation for Outbound Authentication\u003c/h4\u003e\n\n\u003cp\u003eBallerina supports token propagation for outbound authentication. The token propagation happens if the user does not provide any configuration when initializing the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundAuthProvider\u003c/code\u003e reads the token/username from the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eruntime:InvocationContext\u003c/code\u003e according to the outbound authentication scheme and uses that for the outbound request. The \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eruntime:InvocationContext\u003c/code\u003e is initialized based on the authentication information from the inbound request.\u003c/p\u003e\n\n\u003ch5 id=\"example-one\"\u003eExample One\u003c/h5\u003e\n\n\u003cp\u003eThe following program has an \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Client\u003c/code\u003e secured with Basic authentication and it is configured inside an \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Listener\u003c/code\u003e secured with Basic authentication.\nThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eauth:OutboundBasicAuthProvider\u003c/code\u003e is initialized without providing any configurations. Therefore, the program gets the token from the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eruntime:InvocationContext\u003c/code\u003e and uses it for the outbound request.\nIf the downstream service is also secured with Basic authentication and as same as the upstream service, the user does not need to configure the client.\u003c/p\u003e\n\n\u003cblockquote\u003e\n  \u003cp\u003e\u003cstrong\u003eNote:\u003c/strong\u003e This scenario is the same for all the scenarios in which both the upstream and downstream services are secured using the same authentication scheme and clients are also configured using the same authentication scheme but without any configurations. The token propagation happens internally.\u003c/p\u003e\n\u003c/blockquote\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/config;\n\nauth:InboundBasicAuthProvider inboundBasicAuthProvider = new;\nhttp:BasicAuthHandler inboundBasicAuthHandler = new(inboundBasicAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [inboundBasicAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\nauth:OutboundBasicAuthProvider outboundBasicAuthProvider = new;\nhttp:BasicAuthHandler outboundBasicAuthHandler = new(outboundBasicAuthProvider);\n\nhttp:Client downstreamClientEP = new(\"https://localhost:9092\", {\n    auth: {\n        authHandler: outboundBasicAuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\",\n    auth: {\n        scopes: [\"hello\"]\n    }\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function sayHello(http:Caller caller, http:Request req) returns error? {\n        // http:Request req = new;\n        http:Response response = check downstreamClientEP-\u0026gt;get(\"/downstream\");\n        checkpanic caller-\u0026gt;respond(response);\n    }\n}\n\n// ----------------------------------------------\n// Following code creates the downstream service\n// ----------------------------------------------\n\nlistener http:Listener downstreamServiceEp = new(9092, {\n    auth: {\n        authHandlers: [inboundBasicAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/downstream\"\n}\nservice downStreamService on downstreamServiceEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function downStreamResource(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Downstream service received authenticated request with the token: \" + req.getHeader(\"Authorization\"));\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eTo enforce Basic Authentication, create a configuration file as follows:\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003esample-users.toml\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e[b7a.users]\n\n[b7a.users.tom]\npassword=\"123\"\nscopes=\"hello\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eStart the service using the following command after creating the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esample-users.toml\u003c/code\u003e file.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003eballerina run --config sample-users.toml example.bal\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eTom\u003c/code\u003e user will be able to invoke the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e/hello\u003c/code\u003e resource and invoke the Basic Auth protected downstream service.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v -u tom:123 https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; Authorization: Basic dG9tOjEyMw==\n\u0026gt; User-Agent: curl/7.60.0\n\u0026gt; Accept: */*\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt; content-length: 602\n\u0026lt;\nDownstream service received authenticated request with the token: Basic dG9tOjEyMw==\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003ch5 id=\"example-two\"\u003eExample Two\u003c/h5\u003e\n\n\u003cp\u003eThe following program has an \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Client\u003c/code\u003e secured with JWT authentication and it is configured inside an \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ehttp:Listener\u003c/code\u003e secured with Basic Authentication.\nThe \u003ccode class=\"language-plaintext highlighter-rouge\"\u003ejwt:OutboundJwtAuthProvider\u003c/code\u003e is initialized using the provides configurations but without the username. Therefore, the program gets the username from the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003eruntime:InvocationContext\u003c/code\u003e, which is set based on the inbound authentication information and uses it for the outbound request.\nIn this example, the downstream service is secured using JWT authentication and expects a JWT issued against the user authenticating by the upstream service (protected by Basic authentication). Ballerina can dynamically issue such JWT while propagating the user information internally.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-ballerina\"\u003eimport ballerina/auth;\nimport ballerina/http;\nimport ballerina/jwt;\nimport ballerina/config;\n\nauth:InboundBasicAuthProvider inboundBasicAuthProvider = new;\nhttp:BasicAuthHandler inboundBasicAuthHandler = new(inboundBasicAuthProvider);\n\nlistener http:Listener secureHelloWorldEp = new(9091, {\n    auth: {\n        authHandlers: [inboundBasicAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\njwt:OutboundJwtAuthProvider outboundJwtAuthProvider = new({\n    issuer: \"ballerina\",\n    audience: [\"ballerina.io\"],\n    keyStoreConfig: {\n        keyAlias: \"ballerina\",\n        keyPassword: \"ballerina\",\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\nhttp:BearerAuthHandler outboundJwtAuthHandler = new(outboundJwtAuthProvider);\n\nhttp:Client downstreamClientEP = new(\"https://localhost:9092\", {\n    auth: {\n        authHandler: outboundJwtAuthHandler\n    },\n    secureSocket: {\n        trustStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/hello\",\n    auth: {\n        scopes: [\"hello\"]\n    }\n}\nservice helloWorld on secureHelloWorldEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function sayHello(http:Caller caller, http:Request req) returns error? {\n        // http:Request req = new;\n        http:Response response = check downstreamClientEP-\u0026gt;get(\"/downstream\");\n        checkpanic caller-\u0026gt;respond(response);\n    }\n}\n\n// ----------------------------------------------\n// Following code creates the downstream service\n// ----------------------------------------------\n\njwt:InboundJwtAuthProvider inboundJwtAuthProvider = new({\n    issuer: \"ballerina\",\n    audience: [\"ballerina.io\"],\n    certificateAlias: \"ballerina\",\n    trustStore: {\n        path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaTruststore.p12\",\n        password: \"ballerina\"\n    }\n});\nhttp:BearerAuthHandler inboundJwtAuthHandler = new(inboundJwtAuthProvider);\n\nlistener http:Listener downstreamServiceEp = new(9092, {\n    auth: {\n        authHandlers: [inboundJwtAuthHandler]\n    },\n    secureSocket: {\n        keyStore: {\n            path: config:getAsString(\"b7a.home\") + \"/bre/security/ballerinaKeystore.p12\",\n            password: \"ballerina\"\n        }\n    }\n});\n\n@http:ServiceConfig {\n    basePath: \"/downstream\"\n}\nservice downStreamService on downstreamServiceEp {\n\n    @http:ResourceConfig {\n        methods: [\"GET\"],\n        path: \"/\"\n    }\n    resource function downStreamResource(http:Caller caller, http:Request req) {\n        http:Response resp = new;\n        resp.setTextPayload(\"Downstream service received authenticated request with the token: \" + req.getHeader(\"Authorization\"));\n        checkpanic caller-\u0026gt;respond(resp);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eTo enforce Basic Authentication, create a configuration file as follows:\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003esample-users.toml\u003c/strong\u003e\u003c/p\u003e\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003e[b7a.users]\n\n[b7a.users.tom]\npassword=\"123\"\nscopes=\"hello\"\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eStart the service using the following command after creating the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003esample-users.toml\u003c/code\u003e file.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003eballerina run --config sample-users.toml example.bal\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n\u003cp\u003eThe Tom user will be able to invoke the \u003ccode class=\"language-plaintext highlighter-rouge\"\u003e/hello\u003c/code\u003e resource and invoke the Basic Auth protected downstream service.\u003c/p\u003e\n\n\u003cdiv class=\"language-plaintext highlighter-rouge\"\u003e\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight\"\u003e\u003ccode\u003ecurl -k -v -u tom:123 https://localhost:9091/hello\n\n\u0026gt; GET /hello HTTP/1.1\n\u0026gt; Host: localhost:9091\n\u0026gt; Authorization: Basic dG9tOjEyMw==\n\u0026gt; User-Agent: curl/7.60.0\n\u0026gt; Accept: */*\n\n\u0026lt; HTTP/1.1 200 OK\n\u0026lt; content-type: text/plain\n\u0026lt; content-length: 602\n\u0026lt;\nDownstream service received authenticated request with the token: Bearer eyJhbGciOiJSUzI1NiIsICJ0eXAiOiJKV1QifQ==.eyJzdWIiOiJ0b20iLCAiaXNzIjoiYmFsbGVyaW5hIiwgImV4cCI6MTU2NTUwMzUzNywgImlhdCI6MTU2NTUwMzIzNywgImp0aSI6ImJhMjczNTM5LTcxZWItNDExOC04MzNiLTQyNDlhMjY0MmZmNCIsICJhdWQiOlsiYmFsbGVyaW5hLmlvIl19.OwMHPrQfjpIujHSAIq3ycKsP4SYTR2nW9lBHXBOgIZV6-FcM1Lxz8xtjY1AwcIAd_L4XmiODN_5HYUluZb3jDj1F6ZeI4FQeTKygiGgJs_nTww56bHFQXPe9_IW1zxRGM8G51cJBKxTH6YsOTXgNVhcGoe5f-kaESmGze-XLCnCXgj0GYnG2ECnejSHRh89gjWMyfyMFRDhioPi9IYZEQGIFBQzrModFWXNKQZh5vxaF5KW4KWXLTRgrBX8uY2IIS6S80nf83oaUlrrApieaGf88cwSqOjGjaPpxj3I810qGa996ZVE3P5DkzgxrJYHrJMwcVgBX7sgDFUUcD3RrEA==\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003c/div\u003e\n\n   \n                                 \u003c/div\u003e\n\n                                \n\n\n                         \n\n\n\n                              \u003c/div\u003e\n                           \u003c/div\u003e\n                        \u003c/div\u003e\n                     \u003c/div\u003e\n                     \u003ca class=\"cTopLink\" href=\"#top\"\u003eBack to Top \u0026#x2934;\u003c/a\u003e\n                  \u003c/div\u003e\n               \u003c/div\u003e\n            \u003c/div\u003e\n         \u003c/div\u003e\n      \u003c/div\u003e\n      \u003cdiv id=\"iBallerinaFooter\" class=\"row cBallerina-io-White-row\"\u003e\n    \u003cdiv class=\"container\"\u003e\n    \u003cdiv class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-left-col cBallerinaFooterLinks\"\u003e\n        \u003cul\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/downloads\"\u003eDOWNLOAD\u003c/a\u003e\u003c/li\u003e\n            \u003c!--\u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/community/#report-issues\"\u003eREPORT ISSUES\u003c/a\u003e\u003c/li\u003e--\u003e\n            \u003cli data-toggle=\"modal\" data-target=\"#reportissues\" data-whatever=\"@mdo\"\u003e\u003ca href=\"/community/#report-issues\"\u003eREPORT ISSUES\u003c/a\u003e\u003c/li\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"https://github.com/ballerina-lang/ballerina/blob/master/LICENSE\"\u003eCODE LICENSE\u003c/a\u003e\u003c/li\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/license-of-site\"\u003eSITE LICENSE\u003c/a\u003e\u003c/li\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/terms-of-service\"\u003eTERMS OF SERVICE\u003c/a\u003e\u003c/li\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/privacy-policy\"\u003ePRIVACY POLICY\u003c/a\u003e\u003c/li\u003e\n            \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/trademark-usage-policy/\"\u003eTRADEMARK USAGE POLICY\u003c/a\u003e\u003c/li\u003e\n            \u003c/ul\u003e\n        \u003c/div\u003e\n    \u003cdiv class=\"col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-middle-col cBallerinaFooterSignUp\"\u003e\n        \u003cdiv class=\"cSocialmedia\"\u003e\n            \u003cul\u003e\n                \u003cli\u003e\n                    \u003ca class=\"cBioFooterLink\" href=\"https://github.com/ballerina-platform\" target=\"_blank\"\u003e\u003cimg src=\"/img/github.svg\"/\u003e\u003c/a\u003e\n                    \u003c/li\u003e\n                \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"https://stackoverflow.com/questions/tagged/ballerina\" target=\"_blank\"\u003e\u003cimg src=\"/img/stackoverflow.svg\"/\u003e\u003c/a\u003e\u003c/li\u003e\n                \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"https://twitter.com/ballerinalang\" target=\"_blank\"\u003e\u003cimg src=\"/img/twitter.svg\"/\u003e\u003c/a\u003e\u003c/li\u003e\n                \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"/community/slack/\"\u003e\u003cimg src=\"/img/slack.svg\"/\u003e\u003c/a\u003e\u003c/li\u003e\n                \u003cli\u003e\u003ca class=\"cBioFooterLink\" href=\"https://www.youtube.com/c/Ballerinalang\"\u003e\u003cimg style=\"width: 15px;\" src=\"/img/youtube-icon.svg\"/\u003e\u003c/a\u003e\u003c/li\u003e\n                \u003c/ul\u003e\n            \u003cdiv class=\"pdframe\"\u003e\u003c/div\u003e\n            \u003c/div\u003e\n\n\n           \u003ca class=\"cNLButton\" href=\"/community/#subscribe-to-the-newsletter\"\u003eSubscribe to the newsletter\u003c/a\u003e \n\n           \u003cdiv class=\"modal fade\" id=\"reportissues\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"reportissueslabel\" aria-hidden=\"true\"\u003e\n            \u003cdiv class=\"modal-dialog\" role=\"document\"\u003e\n              \u003cdiv class=\"modal-content\" style=\"padding:15px;border-radius:0px;\"\u003e\n                \u003cdiv class=\"modal-header\"\u003e\n                  \u003ch3 class=\"modal-title\" style=\"color: #20b6b0;\"\u003eReport Issues\u003c/h3\u003e\n                  \u003cp style=\"padding: 10px 0px ;\"\u003eReport issues in the GitHub repositories of the areas and components listed below.\n                  \u003c/p\u003e\n                  \u003cbutton type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"\u003e\n                    \u003cspan aria-hidden=\"true\"\u003e\u0026times;\u003c/span\u003e\n                  \u003c/button\u003e\n                \u003c/div\u003e\n                \u003cdiv class=\"modal-body\" style=\"background-color: #fff; font-size: 20; color: #465867;font-size: 20px;\"\u003e\n                  \u003cul class=\"b\"\u003e\n                    \u003cli\u003e\u003ca class=\"linkText\" href=\"https://github.com/ballerina-platform/ballerina-lang/issues/new/choose\" target=\"_blank\"\u003e Compiler, runtime, or tooling\u003c/a\u003e\u003c/li\u003e\n                    \u003cli\u003e\u003ca class=\"linkText\" href=\"https://github.com/ballerina-platform/ballerina-standard-library/issues\" target=\"_blank\"\u003e Standard Library\u003c/a\u003e\u003c/li\u003e\n                    \u003cli\u003e\u003ca class=\"linkText\" href=\"https://github.com/ballerina-platform/ballerina-standard-library/issues/new/choose\" target=\"_blank\"\u003e  Language specification\u003c/a\u003e\u003c/li\u003e\n                    \u003cli\u003e\u003ca class=\"linkText\" href=\"https://github.com/ballerina-platform/ballerina-dev-website/issues/new/choose\" target=\"_blank\"\u003e  Website\u003c/a\u003e\u003c/li\u003e\n                    \u003cli\u003e\u003ca class=\"linkText\" href=\"mailto:security@ballerina.io\" target=\"_blank\"\u003eSecurity\u003c/a\u003e \u003cspan style=\"font-size: 16px;\"\u003e(For details, see the\u003c/span\u003e \u003ca class=\"linkText\" href=\"/security\" target=\"_blank\"\u003esecurity policy\u003c/a\u003e.)\u003c/li\u003e\n                  \u003c/ul\u003e  \n                \n                \u003c/div\u003e\n                \u003cdiv class=\"modal-footer\"\u003e\n                 \n                \u003c/div\u003e\n              \u003c/div\u003e\n            \u003c/div\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n    \u003cdiv class=\"col-xs-12 col-sm-10 col-md-6 col-lg-6 cBallerina-io-right-col\"\u003e\n        \u003cp\u003eIn the creation of Ballerina, we were inspired by so many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub and WSO2.\u003c/p\u003e\u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n\u003cdiv class=\"cCookie-Policy\"\u003e\n    \u003cdiv class=\"container\"\u003e\n        \u003cdiv class=\"col-xs-12 col-sm-12 col-lg-12\"\u003e\n            \u003c!-- \u003cdiv class=\"closebuttoon\"\u003e\u003cimg src=\"/img/close-w.svg\"/\u003e\u003c/div\u003e --\u003e\n\u003ch4\u003eCookie policy\u003c/h4\u003e\n\u003cp\u003eThis website uses cookies so that we can provide you with the best user experience. Read our \u003ca href=\"https://ballerina.io/cookie-policy/\"\u003eCookie policy\u003c/a\u003e\u003c/a\u003e to find out more.\u003c/p\u003e\n\u003cp\u003eIf you wish to disable cookies you can do so from your browser. \u003c/p\u003e\n  \n\u003c!-- \u003ca href=\"https://ballerina.io/cookie-policy/\"\u003e\u003c/a\u003e --\u003e\n\u003ca class=\"cIUnderstand \"\u003eI understand \u003c/a\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\n\n\u003cscript src=\"/js/prism.js\"\u003e\u003c/script\u003e\n\u003c!-- \u003cscript src=\"https://cdnjs.cloudflare.com/ajax/libs/prism/1.14.0/components/prism-core.min.js\"\u003e\u003c/script\u003e --\u003e\n\u003cscript src=\"/js/prism-ballerina.js\"\u003e\u003c/script\u003e\n\n\n\n\u003cscript\u003e\n\n$(\".cIUnderstand \").click(function() {\n    $(\".cCookie-Policy\").addClass('cHide-Policy');\n   \n    \n});\n\n\n\n\u003c/script\u003e\n\n\n\u003c!-- \n\u003cscript\u003e\n    (function () {\n\nif (typeof self === 'undefined' || !self.Prism || !self.document) {\n    return;\n}\n\n/**\n * Plugin name which is used as a class name for \u003cpre\u003e which is activating the plugin\n * @type {String}\n */\nvar PLUGIN_NAME = 'line-numbers';\n\n/**\n * Regular expression used for determining line breaks\n * @type {RegExp}\n */\nvar NEW_LINE_EXP = /\\n(?!$)/g;\n\n/**\n * Resizes line numbers spans according to height of line of code\n * @param {Element} element \u003cpre\u003e element\n */\nvar _resizeElement = function (element) {\n    var codeStyles = getStyles(element);\n    var whiteSpace = codeStyles['white-space'];\n\n    if (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {\n        var codeElement = element.querySelector('code');\n        var lineNumbersWrapper = element.querySelector('.line-numbers-rows');\n        if (!codeElement || !lineNumbersWrapper) {\n            return;\n        }\n        var lineNumberSizer = element.querySelector('.line-numbers-sizer');\n        var codeLines = codeElement.textContent.split(NEW_LINE_EXP);\n\n        if (!lineNumberSizer) {\n            lineNumberSizer = document.createElement('span');\n            lineNumberSizer.className = 'line-numbers-sizer';\n\n            codeElement.appendChild(lineNumberSizer);\n        }\n\n        lineNumberSizer.style.display = 'block';\n\n        codeLines.forEach(function (line, lineNumber) {\n            lineNumberSizer.textContent = line || '\\n';\n            var lineSize = lineNumberSizer.getBoundingClientRect().height;\n            lineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';\n        });\n\n        lineNumberSizer.textContent = '';\n        lineNumberSizer.style.display = 'none';\n    }\n};\n\n/**\n * Returns style declarations for the element\n * @param {Element} element\n */\nvar getStyles = function (element) {\n    if (!element) {\n        return null;\n    }\n\n    return window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);\n};\n\nwindow.addEventListener('resize', function () {\n    Array.prototype.forEach.call(document.querySelectorAll('pre.' + PLUGIN_NAME), _resizeElement);\n});\n\nPrism.hooks.add('complete', function (env) {\n    if (!env.code) {\n        return;\n    }\n\n    var code = env.element;\n    var pre = code.parentNode;\n\n    // works only for \u003ccode\u003e wrapped inside \u003cpre\u003e (not inline)\n    if (!pre || !/pre/i.test(pre.nodeName)) {\n        return;\n    }\n\n    // Abort if line numbers already exists\n    if (code.querySelector('.line-numbers-rows')) {\n        return;\n    }\n\n    var addLineNumbers = false;\n    var lineNumbersRegex = /(?:^|\\s)line-numbers(?:\\s|$)/;\n\n    for (var element = code; element; element = element.parentNode) {\n        if (lineNumbersRegex.test(element.className)) {\n            addLineNumbers = true;\n            break;\n        }\n    }\n\n    // only add line numbers if \u003ccode\u003e or one of its ancestors has the `line-numbers` class\n    if (!addLineNumbers) {\n        return;\n    }\n\n    // Remove the class 'line-numbers' from the \u003ccode\u003e\n    code.className = code.className.replace(lineNumbersRegex, ' ');\n    // Add the class 'line-numbers' to the \u003cpre\u003e\n    if (!lineNumbersRegex.test(pre.className)) {\n        pre.className += ' line-numbers';\n    }\n\n    var match = env.code.match(NEW_LINE_EXP);\n    var linesNum = match ? match.length + 1 : 1;\n    var lineNumbersWrapper;\n\n    var lines = new Array(linesNum + 1).join('\u003cspan\u003e\u003c/span\u003e');\n\n    lineNumbersWrapper = document.createElement('span');\n    lineNumbersWrapper.setAttribute('aria-hidden', 'true');\n    lineNumbersWrapper.className = 'line-numbers-rows';\n    lineNumbersWrapper.innerHTML = lines;\n\n    if (pre.hasAttribute('data-start')) {\n        pre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);\n    }\n\n    env.element.appendChild(lineNumbersWrapper);\n\n    _resizeElement(pre);\n\n    Prism.hooks.run('line-numbers', env);\n});\n\nPrism.hooks.add('line-numbers', function (env) {\n    env.plugins = env.plugins || {};\n    env.plugins.lineNumbers = true;\n});\n\n/**\n * Global exports\n */\nPrism.plugins.lineNumbers = {\n    /**\n     * Returns the node of the given line number in the given element.\n     * @param {Element} element A `\u003cpre\u003e` element with line numbers.\n     * @param {Number} number\n     * @returns {Element | undefined}\n     */\n    getLine: function (element, number) {\n        if (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {\n            return;\n        }\n\n        var lineNumberRows = element.querySelector('.line-numbers-rows');\n        var lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;\n        var lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);\n\n        if (number \u003c lineNumberStart) {\n            number = lineNumberStart;\n        }\n        if (number \u003e lineNumberEnd) {\n            number = lineNumberEnd;\n        }\n\n        var lineIndex = number - lineNumberStart;\n\n        return lineNumberRows.children[lineIndex];\n    },\n    /**\n     * Resizes the line numbers of the given element.\n     *\n     * This function will not add line numbers. It will only resize existing ones.\n     * @param {Element} element A `\u003cpre\u003e` element with line numbers.\n     * @returns {void}\n     */\n    resize: function (element) {\n        _resizeElement(element);\n    }\n};\n\n}());\n\u003c/script\u003e --\u003e\n\n\u003c!-- \n\u003cstyle\u003e\n    pre[class*=\"language-\"].line-numbers {\n\tposition: relative;\n\tpadding-left: 3.8em;\n\tcounter-reset: linenumber;\n}\n\npre[class*=\"language-\"].line-numbers \u003e code {\n\tposition: relative;\n\twhite-space: inherit;\n}\n\n.line-numbers .line-numbers-rows {\n\tposition: absolute;\n\tpointer-events: none;\n\ttop: 0;\n\tfont-size: 100%;\n\tleft: -3.8em;\n\twidth: 3em; /* works for line-numbers below 1000 lines */\n\tletter-spacing: -1px;\n\tborder-right: 1px solid #999;\n\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\n}\n\n\t.line-numbers-rows \u003e span {\n\t\tdisplay: block;\n\t\tcounter-increment: linenumber;\n\t}\n\n\t\t.line-numbers-rows \u003e span:before {\n\t\t\tcontent: counter(linenumber);\n\t\t\tcolor: #999;\n\t\t\tdisplay: block;\n\t\t\tpadding-right: 0.8em;\n\t\t\ttext-align: right;\n\t\t}\n\u003c/style\u003e --\u003e\n\n      \u003cscript src=\"/js/theme.js\"\u003e\u003c/script\u003e\n      \u003cscript\u003e\n         $(document).ready(function () {\n            var gitstar = '\u003ciframe id=\"iGitStarIframe\" src=\"https://ghbtns.com/github-btn.html?user=ballerina-platform\u0026repo=ballerina-lang\u0026type=star\u0026count=true\u0026size=small\" frameborder=\"0\" scrolling=\"0\"\u003e\u003c/iframe\u003e';\n            $('[data-button=\"iGitStarText\"]').replaceWith(gitstar);\n         \n            var gitwatch = '\u003ciframe id=\"iGitWatchIframe\" src=\"https://ghbtns.com/github-btn.html?user=ballerina-platform\u0026repo=ballerina-lang\u0026type=watch\u0026count=true\u0026size=lsmalle\u0026v=2\" frameborder=\"0\" scrolling=\"0\"\u003e\u003c/iframe\u003e';\n            $('[data-button=\"iGitWatchText\"]').replaceWith(gitwatch);\n         \n         });\n         \n     \u003c/script\u003e\n     \u003cscript src=\"/js/ballerina-leftnav.js\"\u003e\u003c/script\u003e\n\n     \u003cscript src=\"https://code.jquery.com/jquery-3.6.0.min.js\"\u003e\u003c/script\u003e\n     \u003cscript src=\"/js/abixTreeList.min.js\"\u003e\u003c/script\u003e\n     \u003cscript\u003e\n         $(document).ready(function() {\n             $('#tree').abixTreeList();\n         });\n\n\n\n\n\n         $(window).scroll(function () {\n        var bodyclass = document.body;\n\n        if ($(this).scrollTop() \u003e 200) {\n            $('.cTopLink').removeClass('dispalaynone');\n          \n        } else {\n            $('.cTopLink').addClass('dispalaynone');\n          \n        }\n\n   \n\n\n    });\n\n     \u003c/script\u003e\n\n\n\n\n   \u003c/body\u003e\n\u003c/html\u003e\n\n","id":"index"},"__N_SSG":true},"page":"/1.2/learn/[...slug]","query":{"slug":["writing-secure-ballerina-code","index"]},"buildId":"iCpkVXtbpKD77cbfFcIQm","assetPrefix":"/sarani.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>